(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e509e"],{"937e":function(e,t,a){"use strict";a.r(t);var r=a("7a23");function n(e,t,a,n,s,o){const l=Object(r["resolveComponent"])("ion-loading"),i=Object(r["resolveComponent"])("v2Datatable"),c=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(c,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(l,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),Object(r["createVNode"])(i,{title:"CXCA SCRN Report",csvQuarter:e.csvQuarter,subtitle:e.period,columns:e.columns,columnData:e.reportData,rowsPerPage:25,onConfigure:e.configure,onRefresh:()=>e.generate()},null,8,["csvQuarter","subtitle","columns","columnData","onConfigure","onRefresh"])]),_:1})}a("13d5"),a("14d9");var s=a("d867"),o=a("99ae"),l=a("ad9e"),i=a("775a"),c=a("b5e4"),p=a("2048"),d=a("0011");const u=Object(r["ref"])([]),v=Object(r["ref"])(""),_=Object(r["ref"])(""),f=Object(r["ref"])(""),g=Object(r["ref"])(!1),b=Object(r["ref"])("");var m=Object(r["defineComponent"])({components:{IonPage:s["IonPage"],IonLoading:s["IonLoading"],v2Datatable:o["a"]},setup(){const e=async(e,t)=>{(await s["modalController"].create({component:p["a"],backdropDismiss:!1,cssClass:"large-modal",componentProps:{title:e,subtitle:f,patientIdentifiers:t,onFinish:()=>s["modalController"].getTop().then(e=>e&&s["modalController"].dismiss())}})).present()},t=[[{label:"#",ref:"index",span:{thRowspan:2}},{label:"Age group",ref:"age_group",span:{thRowspan:2}},{label:"Gender",ref:"gender",exportable:!1,span:{thRowspan:2}},{label:"1st time screened",ref:"",span:{thColspan:3}},{label:"Rescreened after previous negative",ref:"",span:{thColspan:3}},{label:"Post-treatment follow-up",ref:"",span:{thColspan:3}}],[{label:"Negative",ref:"first_time_screened_negative",secondaryLabel:"1st screened (Negative)",value:e=>e.first_time_screened.negative.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.first_time_screened.negative)},{label:"Positive",ref:"first_time_screened_positive",secondaryLabel:"1st time screened (Positive)",value:e=>e.first_time_screened.positive.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.first_time_screened.positive)},{label:"Suspected Cancer",ref:"first_time_screened_suspected_cancer",secondaryLabel:"1st screened(Suspected cancer)",value:e=>e.first_time_screened.suspected.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.first_time_screened.suspected)},{label:"Negative",ref:"rescreened_after_prev_visit_negative",secondaryLabel:"Rescreen after prev visit (Negative)",value:e=>e.rescreened_after_prev_visit.negative.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.rescreened_after_prev_visit.negative)},{label:"Positive",ref:"rescreened_after_prev_visit_positive",secondaryLabel:"Rescreen after prev visit (Positive)",value:e=>e.rescreened_after_prev_visit.positive.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.rescreened_after_prev_visit.positive)},{label:"Suspected cancer",ref:"rescreened_after_prev_visit_suspected",secondaryLabel:"Rescreen after prev visit (Suspected)",value:e=>e.rescreened_after_prev_visit.suspected.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.rescreened_after_prev_visit.suspected)},{label:"Negative",ref:"post_treatment_followup_negative",secondaryLabel:"Post-treatment followup(Negative)",value:e=>e.post_treatment_followup.negative.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.post_treatment_followup.negative)},{label:"Positive",ref:"post_treatment_followup_positive",secondaryLabel:"Post-treatment followup (Positive)",value:e=>e.post_treatment_followup.positive.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.post_treatment_followup.positive)},{label:"Suspected cancer",ref:"post_treatment_followup_suspected",secondaryLabel:"Post-treatment followup (Suspected)",value:e=>e.post_treatment_followup.suspected.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.post_treatment_followup.suspected)}]],a=async()=>{if(!v.value||!_.value)return Object(c["e"])("Start date and end date required!");g.value=!0,u.value=[];const e=new l["a"];e.startDate=v.value,e.endDate=_.value;try{u.value=(await e.getClinicReport("CXCA SCRN")).slice(5).map((e,t)=>(e.index=t+1,e.gender="Female",e));const t=e=>{const t=t=>u.value.reduce((a,r)=>a.concat(r[e][t]||[]),[]);return{positive:t("positive"),negative:t("negative"),suspected:t("suspected")}};u.value.push({age_group:"All",gender:"Female",index:u.value.length+1,first_time_screened:t("first_time_screened"),post_treatment_followup:t("post_treatment_followup"),rescreened_after_prev_visit:t("rescreened_after_prev_visit")})}catch(t){Object(c["c"])("Unable to generate report!")}g.value=!1},n=()=>Object(i["a"])({onFinish:(e,t,r)=>{v.value=e,_.value=t,f.value=`Period (${r})`,b.value=`${Object(d["f"])(v.value)} to ${Object(d["f"])(_.value)}`,a()}});return Object(r["onMounted"])(()=>!u.value.length&&n()),{columns:t,isLoading:g,reportData:u,period:f,csvQuarter:b,generate:a,configure:n}}}),C=a("d959"),w=a.n(C);const h=w()(m,[["render",n]]);t["default"]=h}}]);
//# sourceMappingURL=chunk-2d0e509e.fcee01f7.js.map