{"version":3,"sources":["webpack:///./src/apps/ART/views/Mastercard.vue?f324","webpack:///./src/components/InformationHeader.vue?baa4","webpack:///./src/components/InformationHeader.vue","webpack:///./src/components/InformationHeader.vue?008e","webpack:///./src/components/MastercardDetails.vue?f8c3","webpack:///./src/components/MastercardDetails.vue","webpack:///./src/components/MastercardDetails.vue?e78d","webpack:///./src/apps/ART/views/Mastercard.vue","webpack:///./src/apps/ART/views/Mastercard.vue?8d7a","webpack:///./src/components/Pagination.vue?2e37","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/components/InformationHeader.vue?3cca","webpack:///./src/components/Pagination.vue?9acc"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_information_header","_resolveComponent","_component_report_table","_component_preloader","_component_pagination","_component_ion_content","_component_his_footer","_component_ion_page","_openBlock","_createBlock","style","default","_withCtx","_createVNode","items","patientCardInfo","numberOfColumns","onAddGuardian","addGuardian","onUpdate","updateDemographics","onUpdateARVNumber","updateARVNumber","paginated","rows","columns","rowsPerPage","itemsPerPage","newPage","currentPage","asyncRowParser","onNewRow","onOnPagination","p","totalPages","length","visitDatesInitialised","_createCommentVNode","key","itemCount","perPage","maxVisibleButtons","onOnChangePage","_","btns","_hoisted_1","_hoisted_2","width","display","justifyContent","fontSize","margin","padding","_hoisted_3","_hoisted_4","_component_ion_item","_component_ion_list","_component_multi_column_view","_createElementBlock","entries","_Fragment","_renderList","option","label","visible","_createElementVNode","_toDisplayString","other","editable","onClick","$event","value","innerHTML","defineComponent","name","components","MultiColumnView","props","icon","required","type","Object","Number","emits","setup","emit","entry","category","attribute","__exports__","_component_ion_title","_component_ion_toolbar","_component_ion_header","_component_ion_button","_component_ion_footer","_createTextVNode","title","visitData","closeModal","slot","InformationHeader","String","methods","modalController","dismiss","Preloader","Pagination","IonPage","ReportTable","IonContent","HisFooter","data","patientId","patient","pages","visitDates","tbStats","table","thTxt","created","this","setPatientCards","parseInt","$route","params","patient_id","Patientservice","getPatientVisits","then","dates","map","date","tdBtn","HisDate","toStandardHisDisplayFormat","PatientPrintoutService","printVisitSummaryLbl","td","catch","e","toastDanger","console","error","push","color","size","alertConfirmation","ok","$router","item","init","condition","asyncValue","staticValue","getArvNumber","async","Store","get","patientID","getNationalID","getGivenName","getFamilyName","getAge","getGender","getCurrentVillage","getAttribute","relations","RelationshipService","getGuardianDetails","isEmpty","r","relationshipType","join","getInitialWeight","getInitialHeight","getInitialBMI","isFemale","getInitialObs","isPregnant","isBreastfeeding","ObservationService","getFirstValueCoded","getFirstValueDatetime","getFirstValueText","getAllValueCoded","hasTbStat","buildDetails","fmtTurple","turple","t","v","outcome","outcome_date","side_effects","viral_load","pills_brought","pills_dispensed","visit_by","regimen","adherence","tb_status","height","weight","bmi","row","ProgramService","getCurrentProgramInformation","drugs","getMastercardDrugInformation","pillsDispensed","pills_given","d","quantity","pregObs","getFirstObs","toDate","obs_datetime","value_coded","bfeed","match","create","component","MastercardDetails","backdropDismiss","cssClass","componentProps","present","conceptName","includes","path","query","_this$$route$name","source","toString","class","_component_ion_icon","setFirstPage","disabled","isInFirstPage","prevPage","caretBack","page","show","isActive","index","nextPage","caretForward","setLastPage","isInLastPage","IonIcon","IonButton","ref","computed","startPage","setPage","range","i","Math","min","watch","immediate","deep"],"mappings":"yIAEM,SAAUA,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMC,EAAgCC,8BAAkB,sBAClDC,EAA0BD,8BAAkB,gBAC5CE,EAAuBF,8BAAkB,aACzCG,EAAwBH,8BAAkB,cAC1CI,EAAyBJ,8BAAkB,eAC3CK,EAAwBL,8BAAkB,cAC1CM,EAAsBN,8BAAkB,YAE9C,OAAQO,yBAAcC,yBAAaF,EAAqB,CAAEG,MAAO,CAAC,WAAa,SAAW,CACxFC,QAASC,qBAAS,IAAM,CACtBC,yBAAab,EAA+B,CAC1Cc,MAAOpB,EAAKqB,gBACZC,gBAAiB,EACjBC,cAAevB,EAAKwB,YACpBC,SAAUzB,EAAK0B,mBACfC,kBAAmB3B,EAAK4B,iBACvB,KAAM,EAAG,CAAC,QAAS,gBAAiB,WAAY,sBACnDT,yBAAaR,EAAwB,KAAM,CACzCM,QAASC,qBAAS,IAAM,CACtBC,yBAAaX,EAAyB,CACpCqB,WAAW,EACXC,KAAM9B,EAAK8B,KACXC,QAAS/B,EAAK+B,QACdC,YAAahC,EAAKiC,aAClBC,QAASlC,EAAKmC,YACdC,eAAgBpC,EAAKqC,SACrBC,eAAgBrC,EAAO,KAAOA,EAAO,GAAMsC,GAAMvC,EAAKwC,WAAaD,EAAEE,SACpE,KAAM,EAAG,CAAC,OAAQ,UAAW,cAAe,UAAW,mBACxDzC,EAAK0C,sBAKHC,gCAAoB,IAAI,IAJvB7B,yBAAcC,yBAAaN,EAAsB,CAChDmC,IAAK,EACLC,UAAW,KAGjB1B,yBAAaT,EAAuB,CAClCoC,QAAS9C,EAAKiC,aACdc,kBAAmB,GACnBP,WAAYxC,EAAKwC,WACjBQ,eAAgB/C,EAAO,KAAOA,EAAO,GAAMsC,GAAMvC,EAAKmC,YAAcI,IACnE,KAAM,EAAG,CAAC,UAAW,iBAE1BU,EAAG,IAEL9B,yBAAaP,EAAuB,CAAEsC,KAAMlD,EAAKkD,MAAQ,KAAM,EAAG,CAAC,WAErED,EAAG,I,kDC9CP,MACME,EAAa,CAAEnC,MAAO,CAAC,QAAU,UACjCoC,EAAa,CAAEpC,MAAO,CAACqC,MAAO,OAAQC,QAAS,OAAQC,eAAgB,gBAAiBC,SAAU,OAAQC,OAAQ,EAAGC,QAAS,IAC9HC,EAAa,CAAC,WACdC,EAAa,CAAC,aAEd,SAAU7D,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMwD,EAAsBtD,8BAAkB,YACxCuD,EAAsBvD,8BAAkB,YACxCwD,EAA+BxD,8BAAkB,qBAEvD,OAAQO,yBAAckD,gCAAoB,MAAOb,EAAY,CAC3DhC,yBAAa4C,EAA8B,CACzC3C,MAAOpB,EAAKoB,MACZE,gBAAiBtB,EAAKsB,iBACrB,CACDL,QAASC,qBAAS,EAAE+C,aAAa,CAC/B9C,yBAAa2C,EAAqB,KAAM,CACtC7C,QAASC,qBAAS,IAAM,EACrBJ,wBAAW,GAAOkD,gCAAoBE,cAAW,KAAMC,wBAAYF,EAAUG,IACpEtD,yBAAckD,gCAAoB,OAAQ,CAChDpB,IAAKwB,EAAOC,OACX,CAC0B,mBAAnBD,EAAOE,SAAwBF,EAAOE,SACzCxD,yBAAcC,yBAAa8C,EAAqB,CAC/CjB,IAAK,EACL5B,MAAO,CAAC,QAAU,eAAe,OAAS,iBACzC,CACDC,QAASC,qBAAS,IAAM,CACtBqD,gCAAoB,MAAOnB,EAAY,CACrCmB,gCAAoB,OAAQ,KAAMC,6BAAiBJ,EAAOC,OAAS,KAAM,GACxED,EAAOK,OAASL,EAAOK,MAAMC,UACzB5D,yBAAckD,gCAAoB,OAAQ,CACzCpB,IAAK,EACL+B,QAAUC,GAAiB5E,EAAK2E,QAAQP,IACvC,CACDG,gCAAoB,IAAK,KAAM,CAC7BA,gCAAoB,IAAK,KAAMC,6BAAiBJ,EAAOS,OAAQ,MAEhE,EAAGlB,KACL7C,yBAAckD,gCAAoB,IAAK,CACtCpB,IAAK,EACLkC,UAAWV,EAAOS,OAAS,OAC1B,KAAM,EAAGjB,QAGpBX,EAAG,GACF,OACHN,gCAAoB,IAAI,OAE5B,QAENM,EAAG,GACF,QAELA,EAAG,GACF,EAAG,CAAC,QAAS,sB,gBCtDL8B,+BAAgB,CAC7BC,KAAM,oBACNC,WAAY,CACVC,wBAEFC,MAAO,CACLC,KAAM,CACJC,UAAU,GAEZjE,MAAO,CACLkE,KAAMC,OACNF,UAAU,GAEZ/D,gBAAiB,CACfgE,KAAME,OACNvE,QAAS,IAGbwE,MAAO,CAAC,SAAS,kBAAmB,eACpCC,MAAOP,GAAO,KAAEQ,IACd,MAAMhB,EAAWiB,GACc,iBAAzBA,EAAMnB,MAAMoB,SACPF,EAAK,SAAUC,EAAMnB,MAAMqB,WAER,eAAzBF,EAAMnB,MAAMoB,SACNF,EAAK,mBAEPA,EAAK,eAGd,MAAO,CACLhB,c,iCC5BN,MAAMoB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,Q,gJCPT,SAAUhG,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAM2F,EAAuBzF,8BAAkB,aACzC0F,EAAyB1F,8BAAkB,eAC3C2F,EAAwB3F,8BAAkB,cAC1CD,EAAgCC,8BAAkB,sBAClDI,EAAyBJ,8BAAkB,eAC3C4F,EAAwB5F,8BAAkB,cAC1C6F,EAAwB7F,8BAAkB,cAEhD,OAAQO,yBAAckD,gCAAoBE,cAAW,KAAM,CACzD/C,yBAAa+E,EAAuB,KAAM,CACxCjF,QAASC,qBAAS,IAAM,CACtBC,yBAAa8E,EAAwB,KAAM,CACzChF,QAASC,qBAAS,IAAM,CACtBC,yBAAa6E,EAAsB,KAAM,CACvC/E,QAASC,qBAAS,IAAM,CACtBmF,6BAAiB7B,6BAAiBxE,EAAKsG,OAAQ,KAEjDrD,EAAG,MAGPA,EAAG,MAGPA,EAAG,IAEL9B,yBAAaR,EAAwB,KAAM,CACzCM,QAASC,qBAAS,IAAM,CACtBC,yBAAab,EAA+B,CAAEc,MAAOpB,EAAKuG,WAAa,KAAM,EAAG,CAAC,YAEnFtD,EAAG,IAEL9B,yBAAaiF,EAAuB,KAAM,CACxCnF,QAASC,qBAAS,IAAM,CACtBC,yBAAa8E,EAAwB,KAAM,CACzChF,QAASC,qBAAS,IAAM,CACtBC,yBAAagF,EAAuB,CAClCxB,QAAS3E,EAAKwG,WACdC,KAAM,OACL,CACDxF,QAASC,qBAAS,IAAM,CACtBmF,6BAAiB,aAEnBpD,EAAG,GACF,EAAG,CAAC,cAETA,EAAG,MAGPA,EAAG,KAEJ,ICjDU8B,mCAAgB,CAC7BE,WAAY,CAAGyB,qBACfvB,MAAO,CACLmB,MAAO,CACLhB,KAAMqB,OACNtB,UAAU,GAEZkB,UAAW,CACTjB,KAAMC,OACNF,UAAU,IAGduB,QAAS,CACP,yBACQC,qBAAgBC,QAAQ,QCbpC,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,Q,YCeA/B,+BAAgB,CAC7BE,WAAY,CACV8B,iBACAC,kBACAC,qBACAC,mBACAC,2BACAC,iBACAV,qBAEFW,KAAMA,KAAA,CACJC,UAAW,EACXC,QAAS,GACTlG,gBAAiB,GACjB6B,KAAM,GACNjB,aAAc,GACdE,YAAa,EACbK,WAAY,EACZgF,MAAO,GACPC,WAAY,GACZC,QAAS,GACThF,uBAAuB,EACvBX,QAAS,CAAC,CACR4F,OAAMC,MAAM,cACZD,OAAMC,MAAM,eACZD,OAAMC,MAAM,OACZD,OAAMC,MAAM,cACZD,OAAMC,MAAM,aACZD,OAAMC,MAAM,WACZD,OAAMC,MAAM,mBACZD,OAAMC,MAAM,aAEd9F,KAAM,KAER+F,UACEC,KAAKC,kBACLD,KAAKR,UAAYU,SAAS,GAAGF,KAAKG,OAAOC,OAAOC,YAChDC,OAAeC,iBAAiBP,KAAKR,WAAW,GAC7CgB,KAAKC,IACJT,KAAKpF,uBAAwB,EAC7BoF,KAAKL,WAAac,EAClBT,KAAKhG,KAAOyG,EAAMC,IAAKC,GACd,CACLd,OAAMe,MAAMC,OAAQC,2BAA2BH,GAC7C,IAAM,IAAII,OAAuBf,KAAKR,WAAWwB,qBAAqBL,IACxEd,OAAMoB,GAAG,OACTpB,OAAMoB,GAAG,OACTpB,OAAMoB,GAAG,OACTpB,OAAMoB,GAAG,OACTpB,OAAMoB,GAAG,OACTpB,OAAMoB,GAAG,OACTpB,OAAMoB,GAAG,WAGZC,MAAOC,IACRnB,KAAKpF,uBAAwB,EAC7BwG,eAAY,GAAGD,GACfE,QAAQC,MAAMH,KAElBnB,KAAK5E,KAAKmG,KAAK,CACbrE,KAAM,SACNsE,MAAO,UACPC,KAAM,QACN9C,KAAM,MACNnC,SAAS,EACTK,QAASA,KACP6E,eAAkB,kCAAkClB,KAAKmB,IACvD,GAAIA,EACF,OAAO3B,KAAK4B,QAAQL,KAAK,sBAAsBvB,KAAKR,iBAM9D,gBACE,GAAIQ,KAAKR,UACP,IAAI,MAAMqC,KAAQ7B,KAAKzG,gBACI,oBAAdsI,EAAKC,YACRD,EAAKC,OAGiB,oBAAnBD,EAAKE,UACdF,EAAKrF,QAAUqF,EAAKE,YAEpBF,EAAKrF,SAAU,EAGc,oBAApBqF,EAAKG,WACdH,EAAKG,WAAWH,GAAMrB,KAAMzD,GAAe8E,EAAK9E,MAAQA,GAAS,IAC5B,oBAArB8E,EAAKI,cACrBJ,EAAK9E,MAAQ8E,EAAKI,gBAK1BnD,QAAS,CACPmB,kBACED,KAAKzG,gBAAkB,CACrB,CACEgD,MAAO,aACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKP,QAAQyC,eAChCJ,KAAMK,UACJnC,KAAKP,cAAgB2C,OAAMC,IAAI,iBAAkB,CAAEC,UAAWtC,KAAKR,aAErE7C,MAAO,CACLC,UAAU,EACVmB,SAAU,eAGd,CACExB,MAAO,sBACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKP,QAAQ8C,iBAElC,CACEhG,MAAO,aACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKP,QAAQ+C,eAChC7F,MAAO,CACLC,UAAU,EACVoB,UAAW,aACXD,SAAU,iBAGd,CACExB,MAAO,cACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKP,QAAQgD,gBAChC9F,MAAO,CACLC,UAAU,EACVoB,UAAW,cACXD,SAAU,iBAGd,CACExB,MAAO,MACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKP,QAAQiD,SAChC/F,MAAO,CACLC,UAAU,EACVoB,UAAW,kBACXD,SAAU,iBAGd,CACExB,MAAO,MACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKP,QAAQkD,YAChChG,MAAO,CACLC,UAAU,EACVoB,UAAW,SACXD,SAAU,iBAGd,CACExB,MAAO,WACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKP,QAAQmD,oBAChCjG,MAAO,CACLC,UAAU,EACVoB,UAAW,cACXD,SAAU,iBAGd,CACExB,MAAO,WACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKP,QAAQoD,aAAa,KAE/C,CACEtG,MAAO,WACPQ,MAAO,MACPiF,WAAYG,UACV,MAAMW,QAAkBC,OAAoBC,mBAAmBhD,KAAKR,WACpE,OAAIyD,qBAAQH,IACVjB,EAAKlF,MAAMC,UAAW,EACf,OAEFkG,EAAUpC,IAAKwC,GAAW,IAAIA,EAAEhG,SAASgG,EAAEC,qBAAqBC,KAAK,MAE9EzG,MAAO,CACLC,UAAU,EACVoB,UAAW,GACXD,SAAU,aAGd,CACExB,MAAO,aACPQ,MAAO,MACPiF,WAAYA,IAAMhC,KAAKP,QAAQ4D,oBAEjC,CACE9G,MAAO,aACPQ,MAAO,MACPiF,WAAYA,IAAMhC,KAAKP,QAAQ6D,oBAEjC,CACE/G,MAAO,WACPQ,MAAO,MACPiF,WAAYA,IAAMhC,KAAKP,QAAQ8D,iBAEjC,CACEhH,MAAO,YACPQ,MAAO,MACPgF,UAAWA,IAAM/B,KAAKP,QAAQ+D,WAC9BxB,WAAYA,IAAMhC,KAAKP,QAAQgE,cAAc,sBAAuB,gBAEtE,CACElH,MAAO,qBACPQ,MAAO,MACPgF,UAAWA,IAAM/B,KAAKP,QAAQ+D,WAC9BxB,WAAYA,IAAMhC,KAAKP,QAAQgE,cAAc,4BAA6B,gBAE5E,CACElH,MAAO,WACPQ,MAAO,MACPgF,UAAWA,IAAM/B,KAAKP,QAAQ+D,WAC9BxB,WAAYG,eAAmBnC,KAAKP,QAAQiE,aAAgB,MAAQ,MAEtE,CACEnH,MAAO,oBACPQ,MAAO,MACPgF,UAAWA,IAAM/B,KAAKP,QAAQ+D,WAC9BxB,WAAYG,eAAmBnC,KAAKP,QAAQkE,kBAAqB,MAAQ,MAE3E,CACEpH,MAAO,KACPQ,MAAQ,MACRiF,WAAYA,IAAM4B,OAAmBC,mBACnC7D,KAAKR,UAAW,sBAGpB,CACEjD,MAAO,sBACPQ,MAAO,MACPiF,WAAYA,IAAM4B,OAAmBC,mBACnC7D,KAAKR,UAAW,uBAGpB,CACEjD,MAAO,0BACPQ,MAAO,MACPiF,WAAYA,IAAM4B,OAAmBC,mBACnC7D,KAAKR,UAAW,+BAGpB,CACEjD,MAAO,gBACPQ,MAAO,MACPiF,WAAYG,UACV,MAAMxB,QAAaiD,OAAmBE,sBACpC9D,KAAKR,UAAW,8BAElB,OAAOmB,EAAOE,OAAQC,2BAA2BH,GAAQ,KAG7D,CACEpE,MAAO,iBACPQ,MAAO,MACPiF,WAAYA,IAAM4B,OAAmBG,kBACnC/D,KAAKR,UAAW,mCAGpB,CACEjD,MAAO,kCACPQ,MAAO,MACPiF,WAAYG,UACV,MAAMxB,QAAaiD,OAAmBE,sBACpC9D,KAAKR,UAAW,oBAElB,OAAOmB,EAAOE,OAAQC,2BAA2BH,GAAQ,KAG7D,CACEpE,MAAO,uCACPQ,MAAO,MACP+E,KAAMK,UACJnC,KAAKJ,cAAiBgE,OAAmBI,iBACvChE,KAAKR,UAAW,gCACZ,IAERyC,YAAaA,IAAMjC,KAAKiE,UAAU,uDAEpC,CACE1H,MAAO,4BACPQ,MAAM,MACNkF,YAAaA,IAAMjC,KAAKiE,UAAU,uCAEpC,CACE1H,MAAO,yBACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKiE,UAAU,qCAEpC,CACE1H,MAAO,kBACPQ,MAAO,MACPkF,YAAaA,IAAMjC,KAAKiE,UAAU,sBAIxCC,aAAa3E,GACX,MAAM4E,EAAaC,GAAoCA,EAAO1D,IAAI,EAAE2D,EAAGC,KAAY,GAAGD,MAAMC,MAAMlB,KAAK,KACvG,MAAO,CACL,CACE7G,MAAO,UACPQ,MAAOwC,EAAKgF,SAEd,CACEhI,MAAO,eACPQ,MAAOwC,EAAKiF,cAEd,CACEjI,MAAO,eACPQ,MAAOwC,EAAKkF,cAEd,CACElI,MAAO,aACPQ,MAAOwC,EAAKmF,YAEd,CACEnI,MAAO,gBACPQ,MAAOoH,EAAU5E,EAAKoF,gBAExB,CACEpI,MAAO,kBACPQ,MAAOoH,EAAU5E,EAAKqF,kBAExB,CACErI,MAAO,WACPQ,MAAOwC,EAAKsF,UAEd,CACEtI,MAAO,UACPQ,MAAOwC,EAAKuF,SAEd,CACEvI,MAAO,YACPQ,MAAOoH,EAAU5E,EAAKwF,YAExB,CACExI,MAAO,YACPQ,MAAOwC,EAAKyF,WAEd,CACEzI,MAAO,cACPQ,MAAOwC,EAAK0F,QAEd,CACE1I,MAAO,cACPQ,MAAOwC,EAAK2F,QAEd,CACE3I,MAAO,MACPQ,MAAOwC,EAAK4F,KAEd,CACE5I,MAAO,cACPQ,MAAOwC,EAAKmE,WACZlH,QAASwD,KAAKP,QAAQ+D,YAExB,CACEjH,MAAO,mBACPQ,MAAOwC,EAAKoE,gBACZnH,QAASwD,KAAKP,QAAQ+D,cAI5B,eAAe4B,GACb,MAAMlC,EAAI,IAAIkC,GACd,GAAIlC,EAAE,IAAgB,OAAVA,EAAE,GAAGjC,GACf,OAAOiC,EAET,MAAMvC,EAAOuC,EAAE,GAAGjC,GACZ1B,QAAa8F,OAAeC,6BAA6BtF,KAAKR,UAAWmB,GACzE4E,QAAcF,OAAeG,6BAA6BxF,KAAKR,UAAWmB,GAC1E8E,IAAuB,OAALF,QAAK,IAALA,OAAK,EAALA,EAAOG,cAAe,IAAIhF,IAAKiF,GAC9C,GAAGA,EAAE,eAAiBA,EAAE,eAAeA,EAAEC,UAAY,YAC3DxC,KAAK,SACR,IAAIM,EAAa,MACbC,EAAkB,MACtB,GAAI3D,KAAKP,QAAQ+D,WAAY,CAC3B,MAAMqC,QAAgBjC,OAAmBkC,YAAY9F,KAAKR,UAAW,sBAAuBmB,GACxFkF,GAAWE,eAAOF,EAAQG,gBAAkBrF,IAC9C+C,EAAamC,EAAQI,aAEvB,MAAMC,QAActC,OAAmBkC,YAAY9F,KAAKR,UAAW,4BAA6BmB,GAC5FuF,GAASH,eAAOG,EAAMF,gBAAkBrF,IAC1CgD,EAAkBuC,EAAMD,aAyB5B,OAtBA/C,EAAE,GAAKrD,OAAMoB,GAAG1B,EAAK2F,QACrBhC,EAAE,GAAKrD,OAAMoB,GAAG1B,EAAKuF,SACrB5B,EAAE,GAAKrD,OAAMoB,GAAG1B,EAAKmF,YACrBxB,EAAE,GAAKrD,OAAMoB,GAAG1B,EAAKyF,WACrB9B,EAAE,GAAKrD,OAAMoB,GAAG1B,EAAKgF,QAAQ4B,MAAM,QAAU,UAAY5G,EAAKgF,SAC9DrB,EAAE,GAAKrD,OAAMoB,GAAGwE,GAChBvC,EAAE,GAAKrD,OAAMe,MAAM,OAAQuB,iBAClBpD,qBAAgBqH,OAAO,CAC5BC,UAAWC,EACXC,iBAAiB,EACjBC,SAAU,cACVC,eAAgB,CACdjI,MAAOmC,EACPlC,UAAWuB,KAAKkE,aAAa,IACxB3E,EACHmE,aACAC,wBAIJ+C,YAEGxD,GAETe,UAAU0C,GACR,OAAO3G,KAAKJ,QAAQgH,SAASD,GAAe,MAAQ,MAEtD/M,mBAAmBoE,GACjBgC,KAAK4B,QAAQL,KAAK,CAChBsF,KAAM,wBACNC,MAAO,CACL,YAAe9G,KAAKR,UACpB,iBAAoBxB,MAI1BtE,cAAW,IAAAqN,EACT/G,KAAK4B,QAAQL,KAAK,CAChBsF,KAAM,0BAA0B7G,KAAKR,UACrCsH,MAAO,CACLE,OAAwB,QAAlBD,EAAE/G,KAAKG,OAAOjD,YAAI,IAAA6J,OAAA,EAAhBA,EAAkBE,eAIhCnN,kBACEkG,KAAK4B,QAAQL,KAAK,CAACrE,KAAM,wBCrc/B,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASjF,KAErD,gB,kDCLf,MACMoD,EAAa,CAAE6L,MAAO,cACtB5L,EAAa,CAAE4L,MAAO,aAEtB,SAAUjP,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAM8F,EAAwB5F,8BAAkB,cAC1C0O,EAAsB1O,8BAAkB,YAE9C,OAAQO,yBAAckD,gCAAoB,MAAOb,EAAY,CAC3DoB,gCAAoB,MAAOnB,EAAY,CACrCjC,yBAAagF,EAAuB,CAClCmD,MAAO,QACP3E,QAAS3E,EAAKkP,aACdC,SAAUnP,EAAKoP,eACd,CACDnO,QAASC,qBAAS,IAAM,CACtBmF,6BAAiB,aAEnBpD,EAAG,GACF,EAAG,CAAC,UAAW,aAClB9B,yBAAagF,EAAuB,CAClCmD,MAAO,QACP3E,QAAS3E,EAAKqP,UACb,CACDpO,QAASC,qBAAS,IAAM,CACtBC,yBAAa8N,EAAqB,CAAE7J,KAAMpF,EAAKsP,WAAa,KAAM,EAAG,CAAC,WAExErM,EAAG,GACF,EAAG,CAAC,aACNnC,wBAAW,GAAOkD,gCAAoBE,cAAW,KAAMC,wBAAYnE,EAAKwH,MAAQ+H,IACvEzO,yBAAcC,yBAAaoF,EAAuB,CACxDxB,QAAUC,GAAiB2K,EAAKC,OAChClG,MAAOiG,EAAKE,SAAW,UAAY,QACnC7M,IAAK2M,EAAKG,OACT,CACDzO,QAASC,qBAAS,IAAM,CACtBmF,6BAAiB7B,6BAAiB+K,EAAKvK,MAAO,KAEhD/B,EAAG,GACF,KAAM,CAAC,UAAW,YACnB,MACJ9B,yBAAagF,EAAuB,CAClCmD,MAAO,QACP3E,QAAS3E,EAAK2P,UACb,CACD1O,QAASC,qBAAS,IAAM,CACtBC,yBAAa8N,EAAqB,CAAE7J,KAAMpF,EAAK4P,cAAgB,KAAM,EAAG,CAAC,WAE3E3M,EAAG,GACF,EAAG,CAAC,YACP9B,yBAAagF,EAAuB,CAClCmD,MAAO,QACP3E,QAAS3E,EAAK6P,YACdV,SAAUnP,EAAK8P,cACd,CACD7O,QAASC,qBAAS,IAAM,CACtBmF,6BAAiB,YAEnBpD,EAAG,GACF,EAAG,CAAC,UAAW,eAEpBsB,gCAAoB,KAAM,KAAM,QAAUC,6BAAiBxE,EAAKmC,YAAc,GAAK,OAASqC,6BAAiBxE,EAAKwC,YAAa,K,sCC1DpHuC,+BAAgB,CAC5BE,WAAY,CACX8K,qBACAC,0BAED7K,MAAO,CACNpC,kBAAmB,CACjBuC,KAAME,OACNH,UAAU,EACVpE,QAAS,GAEXuB,WAAY,CACV8C,KAAME,OACNH,UAAU,IAGdI,MAAO,CAAC,gBACRC,MAAMP,GAAO,KAAEQ,IACb,MAAMxD,EAAc8N,iBAAI,GAClBb,EAAgBc,sBAAS,IAA4B,IAAtB/N,EAAY0C,OAC3CiL,EAAeI,sBAAS,IAAM/N,EAAY0C,QAAUM,EAAM3C,YAC1D2N,EAAYD,sBAAS,IACA,IAAtB/N,EAAY0C,MAAoB,EAChC1C,EAAY0C,QAAUM,EAAM3C,WAAmB2C,EAAM3C,WAAa2C,EAAMpC,kBACpEZ,EAAY0C,MAAQ,GAGvBuL,EAAWb,GAAiB5J,EAAK,eAAgB4J,GAEjD/H,EAAQ0I,sBAAS,KACrB,MAAMG,EAAQ,GACd,IACE,IAAIC,EAAIH,EAAUtL,MAClByL,GAAKC,KAAKC,IAAIL,EAAUtL,MAAQM,EAAMpC,kBAAoB,EAAGoC,EAAM3C,WAAa,GAChF8N,IAEAD,EAAMhH,KAAK,CACTqG,MAAOY,EACPtL,KAAMsL,EAAI,EACVd,KAAMA,IAAMrN,EAAY0C,MAAQyL,EAChCb,SAAUa,IAAMnO,EAAY0C,QAGhC,OAAOwL,IAGTI,mBAAMtL,EAAO,EAAE3C,iBACa,kBAAfA,IAAyBL,EAAY0C,MAAQ,IAE1D,CACE6L,WAAW,EACXC,MAAM,IAGRF,mBAAMtO,EAAcoN,GAASa,EAAQb,IAErC,MAAML,EAAeA,IAAM/M,EAAY0C,MAAQ,EACzCgL,EAAcA,IAAM1N,EAAY0C,MAAQM,EAAM3C,WAAa,EAC3D6M,EAAWA,KAAWlN,EAAY0C,MAAQ,IAAG1C,EAAY0C,OAAS,IAClE8K,EAAWA,KAAYxN,EAAY0C,MAAQ,EAAKM,EAAM3C,aAAYL,EAAY0C,OAAS,IAE7F,MAAO,CACL1C,cACAmN,yBACAM,+BACAO,YACA3I,QACA4H,gBACAU,eACAH,WACAN,WACAe,UACAlB,eACAW,kB,iCCvEN,MAAM9J,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAShG,GAAQ,CAAC,YAAY,qBAE1E,U,oFCTf,W,kCCAA","file":"js/chunk-a02e6532.9fb89a77.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_information_header = _resolveComponent(\"information-header\")!\n  const _component_report_table = _resolveComponent(\"report-table\")!\n  const _component_preloader = _resolveComponent(\"preloader\")!\n  const _component_pagination = _resolveComponent(\"pagination\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_his_footer = _resolveComponent(\"his-footer\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, { style: {\"background\":\"#fff\"} }, {\n    default: _withCtx(() => [\n      _createVNode(_component_information_header, {\n        items: _ctx.patientCardInfo,\n        numberOfColumns: 4,\n        onAddGuardian: _ctx.addGuardian,\n        onUpdate: _ctx.updateDemographics,\n        onUpdateARVNumber: _ctx.updateARVNumber\n      }, null, 8, [\"items\", \"onAddGuardian\", \"onUpdate\", \"onUpdateARVNumber\"]),\n      _createVNode(_component_ion_content, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_report_table, {\n            paginated: true,\n            rows: _ctx.rows,\n            columns: _ctx.columns,\n            rowsPerPage: _ctx.itemsPerPage,\n            newPage: _ctx.currentPage,\n            asyncRowParser: _ctx.onNewRow,\n            onOnPagination: _cache[0] || (_cache[0] = (p) => _ctx.totalPages = p.length)\n          }, null, 8, [\"rows\", \"columns\", \"rowsPerPage\", \"newPage\", \"asyncRowParser\"]),\n          (!_ctx.visitDatesInitialised)\n            ? (_openBlock(), _createBlock(_component_preloader, {\n                key: 0,\n                itemCount: 5\n              }))\n            : _createCommentVNode(\"\", true),\n          _createVNode(_component_pagination, {\n            perPage: _ctx.itemsPerPage,\n            maxVisibleButtons: 20,\n            totalPages: _ctx.totalPages,\n            onOnChangePage: _cache[1] || (_cache[1] = (p) => _ctx.currentPage = p)\n          }, null, 8, [\"perPage\", \"totalPages\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_his_footer, { btns: _ctx.btns }, null, 8, [\"btns\"])\n    ]),\n    _: 1\n  }))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-47a90a47\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { style: {\"padding\":\".1rem\"} }\nconst _hoisted_2 = { style: {width: '100%', display: 'flex', justifyContent: 'space-between', fontSize: '12px', margin: 0, padding: 0} }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"innerHTML\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_list = _resolveComponent(\"ion-list\")!\n  const _component_multi_column_view = _resolveComponent(\"multi-column-view\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_multi_column_view, {\n      items: _ctx.items,\n      numberOfColumns: _ctx.numberOfColumns\n    }, {\n      default: _withCtx(({entries}) => [\n        _createVNode(_component_ion_list, null, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(entries, (option) => {\n              return (_openBlock(), _createElementBlock(\"span\", {\n                key: option.label\n              }, [\n                (typeof option.visible === 'boolean' ? option.visible : true)\n                  ? (_openBlock(), _createBlock(_component_ion_item, {\n                      key: 0,\n                      style: {\"padding\":\"0 !important\",\"margin\":\"0 !important\"}\n                    }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_2, [\n                          _createElementVNode(\"span\", null, _toDisplayString(option.label) + \": \", 1),\n                          (option.other && option.other.editable)\n                            ? (_openBlock(), _createElementBlock(\"span\", {\n                                key: 0,\n                                onClick: ($event: any) => (_ctx.onClick(option))\n                              }, [\n                                _createElementVNode(\"a\", null, [\n                                  _createElementVNode(\"b\", null, _toDisplayString(option.value), 1)\n                                ])\n                              ], 8, _hoisted_3))\n                            : (_openBlock(), _createElementBlock(\"b\", {\n                                key: 1,\n                                innerHTML: option.value || 'N/A'\n                              }, null, 8, _hoisted_4))\n                        ])\n                      ]),\n                      _: 2\n                    }, 1024))\n                  : _createCommentVNode(\"\", true)\n              ]))\n            }), 128))\n          ]),\n          _: 2\n        }, 1024)\n      ]),\n      _: 1\n    }, 8, [\"items\", \"numberOfColumns\"])\n  ]))\n}","\nimport { defineComponent, PropType } from \"vue\";\nimport { Option } from \"@/components/Forms/FieldInterface\";\nimport MultiColumnView from \"@/components/containers/MultiColumnView.vue\";\nexport default defineComponent({\n  name: \"InformationHeader\",\n  components: {\n    MultiColumnView\n  },\n  props: {\n    icon: {\n      required: false,\n    },\n    items: {\n      type: Object as PropType<Option[]>,\n      required: true,\n    },\n    numberOfColumns: {\n      type: Number,\n      default: 2\n    },\n  },\n  emits: ['update','updateARVNumber', 'addGuardian'],\n  setup (props, { emit }) {\n    const onClick = (entry: Option) => {\n      if (entry.other.category === 'demographics') {\n        return emit('update', entry.other.attribute)\n      }\n      if(entry.other.category === 'arv_number') {\n        return emit(\"updateARVNumber\")\n      }\n      return emit('addGuardian')\n    }\n\n    return {\n      onClick,\n    }\n  } \n});\n","import { render } from \"./InformationHeader.vue?vue&type=template&id=47a90a47&scoped=true&ts=true\"\nimport script from \"./InformationHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./InformationHeader.vue?vue&type=script&lang=ts\"\n\nimport \"./InformationHeader.vue?vue&type=style&index=0&id=47a90a47&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47a90a47\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_information_header = _resolveComponent(\"information-header\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_ion_header, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_title, null, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.title), 1)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_content, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_information_header, { items: _ctx.visitData }, null, 8, [\"items\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_footer, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_button, {\n              onClick: _ctx.closeModal,\n              slot: \"end\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Close \")\n              ]),\n              _: 1\n            }, 8, [\"onClick\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue'\nimport {modalController} from '@ionic/vue'\nimport InformationHeader from \"@/components/InformationHeader.vue\";\nexport default defineComponent({\n  components: {  InformationHeader },\n  props: {\n    title: {\n      type: String, \n      required: true\n    },\n    visitData: {\n      type: Object as PropType<any[]>,\n      required: true\n    },\n  },\n  methods: {\n    async closeModal() {\n      await modalController.dismiss({})\n    },\n  }\n})\n","import { render } from \"./MastercardDetails.vue?vue&type=template&id=e64b3c78&ts=true\"\nimport script from \"./MastercardDetails.vue?vue&type=script&lang=ts\"\nexport * from \"./MastercardDetails.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent } from \"vue\";\nimport HisDate from \"@/utils/Date\";\nimport { Patientservice } from \"@/services/patient_service\";\nimport { ObservationService } from \"@/services/observation_service\";\nimport InformationHeader from \"@/components/InformationHeader.vue\";\nimport HisFooter from \"@/components/HisDynamicNavFooter.vue\";\nimport { isEmpty } from \"lodash\";\nimport { IonPage, IonContent, modalController } from \"@ionic/vue\";\nimport { RelationshipService } from \"@/services/relationship_service\";\nimport { alertConfirmation, toastDanger } from \"@/utils/Alerts\";\nimport { ProgramService } from \"@/services/program_service\";\nimport { PatientPrintoutService } from \"@/services/patient_printout_service\";\nimport { NavBtnInterface } from \"@/components/HisDynamicNavFooterInterface\";\nimport Store from \"@/composables/ApiStore\"\nimport ReportTable from \"@/components/DataViews/tables/ReportDataTable.vue\"\nimport table, { ColumnInterface } from \"@/components/DataViews/tables/ReportDataTable\"\nimport Pagination from \"@/components/Pagination.vue\"\nimport Preloader from \"@/components/TextSkeleton.vue\"\nimport MastercardDetails from \"@/components/MastercardDetails.vue\";\nimport { toDate } from \"@/utils/Strs\";\n\nexport default defineComponent({\n  components: {\n    Preloader,\n    Pagination,\n    IonPage,\n    ReportTable,\n    IonContent,\n    HisFooter,\n    InformationHeader\n  },\n  data: () => ({\n    patientId: 0 as any,\n    patient: {} as any,\n    patientCardInfo: [] as any,\n    btns: [] as Array<NavBtnInterface>,\n    itemsPerPage: 10 as number,\n    currentPage: 0 as number,\n    totalPages: 0 as number,\n    pages: [] as any,\n    visitDates: [] as string[],\n    tbStats: [] as Array<any>,\n    visitDatesInitialised: false as boolean,\n    columns: [[\n      table.thTxt('VISIT DATE'),\n      table.thTxt('WEIGHT (Kg)'),\n      table.thTxt('REG'),\n      table.thTxt('VIRAL LOAD'),\n      table.thTxt('TB STATUS'),\n      table.thTxt('OUTCOME'),\n      table.thTxt('PILLS DISPENSED'),\n      table.thTxt('ACTIONS')\n    ]] as ColumnInterface[][],\n    rows: [] as any\n  }),\n  created() {\n    this.setPatientCards()\n    this.patientId = parseInt(`${this.$route.params.patient_id}`)\n    Patientservice.getPatientVisits(this.patientId, true)\n      .then(dates =>  {\n        this.visitDatesInitialised = true\n        this.visitDates = dates\n        this.rows = dates.map((date) => {\n          return [\n            table.tdBtn(HisDate.toStandardHisDisplayFormat(date), \n              () => new PatientPrintoutService(this.patientId).printVisitSummaryLbl(date)),\n            table.td('...'),\n            table.td('...'),\n            table.td('...'),\n            table.td('...'),\n            table.td('...'),\n            table.td('...'),\n            table.td('...')\n          ]\n        })\n      }).catch((e) =>{\n        this.visitDatesInitialised = true\n        toastDanger(`${e}`)\n        console.error(e)\n      })\n    this.btns.push({\n      name: \"Finish\",\n      color: \"success\",\n      size: \"large\",\n      slot: \"end\",\n      visible: true,\n      onClick: () => {\n        alertConfirmation(\"Are you sure you want to exit?\").then(ok => {\n          if (ok) {\n            return this.$router.push(`/patient/dashboard/${this.patientId}`)\n          }\n        })\n      }\n    })\n  },\n  async mounted() {\n    if (this.patientId) {\n      for(const item of this.patientCardInfo) {\n        if (typeof item.init === 'function') {\n          await item.init()\n        }\n\n        if (typeof item.condition === 'function') {\n          item.visible = item.condition()\n        } else {\n          item.visible = true\n        }\n\n        if (typeof item.asyncValue === 'function') {\n          item.asyncValue(item).then((value: any) => item.value = value || '')\n        } else if (typeof item.staticValue === 'function') {\n          item.value = item.staticValue()\n        }\n      }\n    }\n  },\n  methods: {\n    setPatientCards() {\n      this.patientCardInfo = [\n        { \n          label: \"ARV Number\", \n          value: '...',\n          staticValue: () => this.patient.getArvNumber(),\n          init: async () => {\n            this.patient = await Store.get('ACTIVE_PATIENT', { patientID: this.patientId })\n          },\n          other: {\n            editable: true,\n            category: \"arv_number\"\n          }\n        },\n        { \n          label: \"National Patient ID\", \n          value: '...',\n          staticValue: () => this.patient.getNationalID() \n        },\n        {\n          label: \"Given Name\",\n          value: '...',\n          staticValue: () => this.patient.getGivenName(),\n          other: {\n            editable: true,\n            attribute: \"given_name\",\n            category: \"demographics\",\n          }\n        },\n        {\n          label: \"Family Name\",\n          value: '...',\n          staticValue: () => this.patient.getFamilyName(),\n          other: {\n            editable: true,\n            attribute: \"family_name\",\n            category: \"demographics\",\n          },\n        },\n        {\n          label: \"Age\",\n          value: '...',\n          staticValue: () => this.patient.getAge(),\n          other: {\n            editable: true,\n            attribute: \"year_birth_date\",\n            category: \"demographics\",\n          }\n        },\n        {\n          label: \"Sex\",\n          value: '...',\n          staticValue: () => this.patient.getGender(),\n          other: {\n            editable: true,\n            attribute: \"gender\",\n            category: \"demographics\",\n          }\n        },\n        {\n          label: \"Location\",\n          value: '...',\n          staticValue: () => this.patient.getCurrentVillage(),\n          other: {\n            editable: true,\n            attribute: \"home_region\",\n            category: \"demographics\",\n          }\n        },\n        { \n          label: \"Landmark\",\n          value: '...', \n          staticValue: () => this.patient.getAttribute(19) \n        },\n        {\n          label: \"Guardian\",\n          value: '...',\n          asyncValue: async (item: any) => {\n            const relations = await RelationshipService.getGuardianDetails(this.patientId)\n            if (isEmpty(relations)) {\n              item.other.editable = true\n              return 'add'\n            }\n            return relations.map((r: any) => ` ${r.name} (${r.relationshipType})`).join(\" \")\n          },\n          other: {\n            editable: false,\n            attribute: \"\",\n            category: \"guardian\",\n          }\n        },\n        { \n          label: \"Init W(KG)\", \n          value: '...',\n          asyncValue: () => this.patient.getInitialWeight() \n        },\n        { \n          label: \"Init H(CM)\", \n          value: '...',\n          asyncValue: () => this.patient.getInitialHeight() \n        },\n        { \n          label: \"Init BMI\", \n          value: '...',\n          asyncValue: () => this.patient.getInitialBMI() \n        },\n        {\n          label: 'init Preg',\n          value: '...',\n          condition: () => this.patient.isFemale(),\n          asyncValue: () => this.patient.getInitialObs('Is patient pregnant', 'value_coded')\n        },\n        {\n          label: 'init Breastfeeding',\n          value: '...',\n          condition: () => this.patient.isFemale(),\n          asyncValue: () => this.patient.getInitialObs('Is patient breast feeding', 'value_coded')\n        },\n        {\n          label: 'cur Preg',\n          value: '...',\n          condition: () => this.patient.isFemale(),\n          asyncValue: async () => (await this.patient.isPregnant()) ? 'Yes' : 'No' \n        },\n        {\n          label: 'cur Breastfeeding',\n          value: '...',\n          condition: () => this.patient.isFemale(),\n          asyncValue: async () => (await this.patient.isBreastfeeding()) ? 'Yes' : 'No'\n        },\n        { \n          label: \"TI\", \n          value:  '...',\n          asyncValue: () => ObservationService.getFirstValueCoded(\n            this.patientId, \"Ever received ART\"\n          )\n        },\n        { \n          label: \"Agrees to follow up\", \n          value: '...',\n          asyncValue: () => ObservationService.getFirstValueCoded(\n            this.patientId, \"Agrees to followup\"\n          ) \n        },\n        { \n          label: \"Reason for starting ART\", \n          value: '...',\n          asyncValue: () => ObservationService.getFirstValueCoded(\n            this.patientId, \"Reason for ART eligibility\"\n          )\n        },\n        { \n          label: \"HIV test date\", \n          value: '...',\n          asyncValue: async () => {\n            const date = await ObservationService.getFirstValueDatetime(\n              this.patientId, 'Confirmatory HIV test date'\n            )\n            return date ? HisDate.toStandardHisDisplayFormat(date) : ''\n          }\n        },\n        { \n          label: \"HIV test place\", \n          value: \"...\",\n          asyncValue: () => ObservationService.getFirstValueText(\n            this.patientId, \"Confirmatory HIV test location\"\n          )\n        },\n        { \n          label: \"Date of starting first line ART\", \n          value: '...',\n          asyncValue: async () => {\n            const date = await ObservationService.getFirstValueDatetime(\n              this.patientId, 'Date ART started'\n            )\n            return date ? HisDate.toStandardHisDisplayFormat(date) : ''\n          }\n        },\n        {\n          label: \"Pulmonary TB within the last 2 years\",\n          value: '...',\n          init: async () => {\n            this.tbStats = (await ObservationService.getAllValueCoded(\n              this.patientId, \"Who stages criteria present\"\n            )) || []\n          },\n          staticValue: () => this.hasTbStat('Tuberculosis (PTB or EPTB) within the last 2 years')\n        },\n        {\n          label: \"Extra pulmonary TB (EPTB)\",\n          value:'...',\n          staticValue: () => this.hasTbStat('Extrapulmonary tuberculosis (EPTB)')\n        },\n        {\n          label: \"Pulmonary TB (current)\",\n          value: \"...\",\n          staticValue: () => this.hasTbStat('Pulmonary tuberculosis (current)')\n        },\n        {\n          label: \"Kaposis sarcoma\",\n          value: '...',\n          staticValue: () => this.hasTbStat('Kaposis sarcoma')\n        }\n      ]\n    },\n    buildDetails(data: Record<string, any>) {\n      const fmtTurple = (turple: Array<[string, number]>) => turple.map(([t, v]: any) => `${t} (${v})`).join('/')\n      return [\n        {\n          label: 'Outcome',\n          value: data.outcome\n        },\n        {\n          label: 'Outcome Date',\n          value: data.outcome_date\n        },\n        {\n          label: 'Side effects',\n          value: data.side_effects\n        },\n        {\n          label: 'Viral load',\n          value: data.viral_load\n        },\n        {\n          label: 'Pills Brought',\n          value: fmtTurple(data.pills_brought)\n        },\n        {\n          label: 'Pills dispensed',\n          value: fmtTurple(data.pills_dispensed)\n        },\n        {\n          label: 'Visit by',\n          value: data.visit_by\n        },\n        {\n          label: \"Regimen\",\n          value: data.regimen\n        },\n        {\n          label: 'Adherence',\n          value: fmtTurple(data.adherence)\n        },\n        {\n          label: 'TB Status',\n          value: data.tb_status\n        },\n        {\n          label: 'Height (cm)',\n          value: data.height\n        },\n        {\n          label: 'Weight (Kg)',\n          value: data.weight\n        },\n        {\n          label: 'BMI',\n          value: data.bmi\n        },\n        {\n          label: \"Is pregnant\",\n          value: data.isPregnant,\n          visible: this.patient.isFemale()\n        },\n        {\n          label: \"Is breastfeeding\",\n          value: data.isBreastfeeding,\n          visible: this.patient.isFemale()\n        }\n      ]\n    },\n    async onNewRow(row: any) {\n      const r = [...row]\n      if (r[1] && r[1].td !='...') {\n        return r\n      }\n      const date = r[0].td\n      const data = await ProgramService.getCurrentProgramInformation(this.patientId, date)\n      const drugs = await ProgramService.getMastercardDrugInformation(this.patientId, date)\n      const pillsDispensed = (drugs?.pills_given || []).map((d: any) =>  {\n        return `${d['short_name'] || d['name']} <b>(${d.quantity || '?'})</b>`\n      }).join('<br/>')\n      let isPregnant = 'N/A'\n      let isBreastfeeding = 'N/A'\n      if (this.patient.isFemale()) {\n        const pregObs = await ObservationService.getFirstObs(this.patientId, 'Is patient pregnant', date)\n        if (pregObs && toDate(pregObs.obs_datetime) === date) {\n          isPregnant = pregObs.value_coded\n        }\n        const bfeed = await ObservationService.getFirstObs(this.patientId, 'Is patient breast feeding', date)\n        if (bfeed && toDate(bfeed.obs_datetime) === date) {\n          isBreastfeeding = bfeed.value_coded\n        }\n      }\n      r[1] = table.td(data.weight)\n      r[2] = table.td(data.regimen)\n      r[3] = table.td(data.viral_load)\n      r[4] = table.td(data.tb_status)\n      r[5] = table.td(data.outcome.match(/Unk/i) ? \"Unknown\" : data.outcome)\n      r[6] = table.td(pillsDispensed)\n      r[7] = table.tdBtn('More', async () => {\n        (await modalController.create({\n          component: MastercardDetails,\n          backdropDismiss: false,\n          cssClass: \"large-modal\",\n          componentProps: {\n            title: date,\n            visitData: this.buildDetails({\n              ...data,\n              isPregnant,\n              isBreastfeeding\n            })\n          }\n        })\n        ).present()\n      })\n      return r\n    },\n    hasTbStat(conceptName: string) {\n      return this.tbStats.includes(conceptName) ? 'Yes' : 'No'\n    },\n    updateDemographics(attribute: string) {\n      this.$router.push({\n        path: \"/patient/registration\",\n        query: {\n          'edit_person': this.patientId,\n          'person_attribute': attribute,\n        },\n      });\n    },\n    addGuardian() {\n      this.$router.push({\n        path: `/guardian/registration/${this.patientId}`,\n        query: {\n          source: this.$route.name?.toString(),\n        },\n      });\n    },\n    updateARVNumber() {\n      this.$router.push({name: \"Edit ARV Number\"})\n    }\n  }\n});\n","import { render } from \"./Mastercard.vue?vue&type=template&id=58dbbf14&ts=true\"\nimport script from \"./Mastercard.vue?vue&type=script&lang=ts\"\nexport * from \"./Mastercard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-04a5a269\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"pagination\" }\nconst _hoisted_2 = { class: \"btn-group\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_ion_button, {\n        color: \"light\",\n        onClick: _ctx.setFirstPage,\n        disabled: _ctx.isInFirstPage\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" First \")\n        ]),\n        _: 1\n      }, 8, [\"onClick\", \"disabled\"]),\n      _createVNode(_component_ion_button, {\n        color: \"light\",\n        onClick: _ctx.prevPage\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_icon, { icon: _ctx.caretBack }, null, 8, [\"icon\"])\n        ]),\n        _: 1\n      }, 8, [\"onClick\"]),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.pages, (page) => {\n        return (_openBlock(), _createBlock(_component_ion_button, {\n          onClick: ($event: any) => (page.show()),\n          color: page.isActive ? 'primary' : 'light',\n          key: page.index\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(page.name), 1)\n          ]),\n          _: 2\n        }, 1032, [\"onClick\", \"color\"]))\n      }), 128)),\n      _createVNode(_component_ion_button, {\n        color: \"light\",\n        onClick: _ctx.nextPage\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_icon, { icon: _ctx.caretForward }, null, 8, [\"icon\"])\n        ]),\n        _: 1\n      }, 8, [\"onClick\"]),\n      _createVNode(_component_ion_button, {\n        color: \"light\",\n        onClick: _ctx.setLastPage,\n        disabled: _ctx.isInLastPage\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Last \")\n        ]),\n        _: 1\n      }, 8, [\"onClick\", \"disabled\"])\n    ]),\n    _createElementVNode(\"h6\", null, \"Page \" + _toDisplayString(_ctx.currentPage + 1) + \" of \" + _toDisplayString(_ctx.totalPages), 1)\n  ]))\n}","\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { caretBack, caretForward } from \"ionicons/icons\";\nimport { IonIcon, IonButton } from \"@ionic/vue\"\n\nexport default defineComponent({\n   components: { \n    IonIcon,\n    IonButton,\n   },\n   props: {\n    maxVisibleButtons: {\n      type: Number,\n      required: false,\n      default: 3\n    },\n    totalPages: {\n      type: Number,\n      required: true\n    }\n  },\n  emits: ['onChangePage'],\n  setup(props, { emit }) {\n    const currentPage = ref(0)\n    const isInFirstPage = computed(() => currentPage.value === 0)\n    const isInLastPage = computed(() => currentPage.value === props.totalPages)\n    const startPage = computed(() => {\n      if(currentPage.value === 0) return 0\n      if(currentPage.value === props.totalPages) return props.totalPages - props.maxVisibleButtons\n      return currentPage.value - 1\n    })\n\n    const setPage = (page: number) => emit('onChangePage', page)\n\n    const pages = computed(() => {\n      const range = []\n      for (\n        let i = startPage.value;\n        i <= Math.min(startPage.value + props.maxVisibleButtons - 1, props.totalPages - 1);\n        i++\n      ) {\n        range.push({\n          index: i,\n          name: i + 1,\n          show: () => currentPage.value = i,\n          isActive: i === currentPage.value\n        })\n      }\n      return range\n    })\n\n    watch(props, ({totalPages}) => { \n      if (typeof totalPages === 'number') currentPage.value = 0\n    }, \n    { \n      immediate: true,\n      deep: true\n    }) \n\n    watch(currentPage, (page) => setPage(page))\n\n    const setFirstPage = () => currentPage.value = 0\n    const setLastPage = () => currentPage.value = props.totalPages - 1\n    const prevPage = () => { if(currentPage.value > 0) currentPage.value -= 1 }\n    const nextPage = () => { if((currentPage.value + 1) < props.totalPages) currentPage.value += 1 }\n\n    return {\n      currentPage,\n      caretBack,\n      caretForward,\n      startPage,\n      pages,\n      isInFirstPage,\n      isInLastPage,\n      nextPage,\n      prevPage,\n      setPage,\n      setFirstPage,\n      setLastPage,\n    }\n  },\n})\n","import { render } from \"./Pagination.vue?vue&type=template&id=04a5a269&scoped=true&ts=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=ts\"\nexport * from \"./Pagination.vue?vue&type=script&lang=ts\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=04a5a269&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/projects/malawi-emr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04a5a269\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./InformationHeader.vue?vue&type=style&index=0&id=47a90a47&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Pagination.vue?vue&type=style&index=0&id=04a5a269&scoped=true&lang=css\""],"sourceRoot":""}