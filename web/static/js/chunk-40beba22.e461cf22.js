(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40beba22"],{"336a":function(t,e,a){"use strict";var r=a("df61"),n=a.n(r);n.a},"4dfe":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ctrs"},[a("div",{staticClass:"ctr-table"},[a("div",{staticClass:"ctr-row"},[a("div",{staticClass:"ctr-cell"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"Start Date",readonly:!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),a("div",{staticClass:"ctr-cell"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"End Date",readonly:!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),a("div",{staticClass:"ctr-cell"},[a("button",{staticClass:"btn btn-success",on:{click:t.submitDates}},[t._v("Submit")])])])])])},n=[],s=a("f0ca"),i=a.n(s),o=a("c1df"),c=a.n(o),l=(a("6f3c"),a("1789")),u={components:{DatePick:i.a},props:["onSubmit"],data:function(){return{startDate:null,endDate:null,format:"DD/MMM/YYYY",date:l["a"].format(new Date,"DD/MMM/YYYY")}},methods:{initDates:function(){},submitDates:function(){this.startDate=c()(this.startDate).format("YYYY-MM-DD"),this.endDate=c()(this.endDate).format("YYYY-MM-DD"),this.onSubmit([this.startDate,this.endDate])},parseDate:function(t,e){return l["a"].parse(t,e)},formatDate:function(t,e){return l["a"].format(t,e)}},mounted:function(){var t=this;setTimeout((function(){return t.initDates()}),300)}},d=u,p=(a("336a"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"15deca72",null);e["a"]=f.exports},"5b8c":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[a("side-bar"),a("div",{attrs:{id:"page-content-wrapper"}},[a("top-nav"),a("div",{staticClass:"col-12 table-col",attrs:{id:"main-container"}},[a("span",[t._v(t._s(t.report_title)),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])]),a("b-row",[a("b-col",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Regimen")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedRegimen,expression:"selectedRegimen"}],staticClass:"form-control",attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedRegimen=e.target.multiple?a:a[0]}}},t._l(t.regimens,(function(e,r){return a("option",{key:r},[t._v(" "+t._s(e)+" ")])})),0)])]),a("b-col",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Formulation")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formulation,expression:"formulation"}],staticClass:"form-control",attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.formulation=e.target.multiple?a:a[0]}}},[a("option",[t._v("pellets")]),a("option",[t._v("tablets")]),a("option",[t._v("granules")])])])]),a("b-col",[a("sdPicker",{attrs:{onSubmit:t.fetchDates}})],1)],1),a("b-overlay",{attrs:{show:t.hideReport,"spinner-type":"grow","spinner-variant":"primary"},scopedSlots:t._u([t.reportSelected?null:{key:"overlay",fn:function(){return[a("h1",[t._v("No Report Selected")])]},proxy:!0}],null,!0)},[a("table",{staticClass:"table table-striped report",attrs:{id:"cohort-clients"}},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("ARV number")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("Gender")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("DOB")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("Action")])])]),a("tbody",t._l(t.reportData,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.arv_number))]),a("td",{staticClass:"center-text"},[t._v(t._s(e.gender))]),a("td",{staticClass:"center-text"},[t._v(t._s(e.birthdate))]),a("td",[a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.$router.push("/patient/mastercard/"+e.patient_id)}}},[t._v("show")])],1)])})),0),a("tfoot",[a("tr",[a("td",[t._v(" Date Created: "+t._s(t.moment().format("YYYY-MM-DD:h:m:s"))+" e-Mastercard Version : "+t._s(t.EMCVersion)+" API Version "+t._s(t.APIVersion)+" ")])])])])])],1)],1)],1)},n=[],s=(a("99af"),a("b0c0"),a("96cf"),a("1da1")),i=a("8051"),o=a("ebd8"),c=a("7c08"),l=a("c1df"),u=a.n(l),d=a("4dfe"),p=a("1157"),f=a.n(p);a("6810");a("2cdf"),a("fd5e"),a("5caa"),a("c3dc"),a("4e95"),a("a8a1"),a("919c"),a("4b69"),a("7dae"),a("a821");var m={name:"reports",components:{"top-nav":o["a"],"side-bar":c["a"],sdPicker:d["a"]},methods:{fetchDates:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.report_title="Clinic "+this.$store.state.location.name+" regimen formulation: patient level: report ",this.report_title+=u()(e[0]).format("DDMMMYYYY"),this.report_title+=" - "+u()(e[1]).format("DDMMMYYYY"),a="/programs/1/reports/regimens_and_formulations?start_date=".concat(e[0],"&end_date=").concat(e[1],"\n        &regimen=").concat(this.selectedRegimen,"&formulation=").concat(this.formulation),this.reportLoading=!0,this.reportSelected=!0,t.next=8,i["a"].get(encodeURI(a),{},{});case 8:r=t.sent,200===r.status?r.json().then((function(t){return n.checkResult(t)})):this.reportLoading=!1;case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),initDataTable:function(){this.dTable=f()("#cohort-clients").dataTable({order:[[0,"asc"]],fixedHeader:!0,dom:"Bfrtip",retrieve:!0,buttons:[{extend:"copy",title:this.report_title},{extend:"csv",title:this.report_title,footer:!0},{extend:"pdf",title:this.report_title},{extend:"print",title:this.report_title}],columnDefs:[]}),this.reportLoading=!1},checkResult:function(t){var e=this;this.reportData=t,setTimeout((function(){return e.initDataTable()}),400)}},mounted:function(){},computed:{hideReport:function(){return this.reportLoading||!this.reportSelected}},data:function(){return{report_title:"Regimen distribution ",reportData:null,dTable:null,selectedRegimen:null,formulation:null,reportSelected:!1,reportLoading:!1,formatedData:[],APIVersion:sessionStorage.APIVersion,EMCVersion:sessionStorage.EMCVersion,regimens:["0A","2A","4A","5A","6A","7A","8A","9A","10A","11A","12A","13A","14A","15A","16A","17A","0P","2P","4P","9P","11P","14P","14PP","15P","15PP","16P","17P"]}}},v=m,h=(a("b8f0"),a("6683"),a("2877")),b=Object(h["a"])(v,r,n,!1,null,"585ba792",null);e["default"]=b.exports},6683:function(t,e,a){"use strict";var r=a("6e3f"),n=a.n(r);n.a},"6e3f":function(t,e,a){},a9d0:function(t,e,a){},b8f0:function(t,e,a){"use strict";var r=a("a9d0"),n=a.n(r);n.a},df61:function(t,e,a){}}]);
//# sourceMappingURL=chunk-40beba22.e461cf22.js.map