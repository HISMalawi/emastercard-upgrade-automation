{"version":3,"sources":["webpack:///./src/views/Mastercard.vue?3c40","webpack:///./src/components/PatientInformation.vue?9b96","webpack:///./node_modules/core-js/modules/es.map.js","webpack:///./src/views/Mastercard.vue?718d","webpack:///./src/components/PatientInformation.vue?6e99","webpack:///./src/services/staging_condition_service.js","webpack:///src/components/PatientInformation.vue","webpack:///./src/components/PatientInformation.vue?c4eb","webpack:///./src/components/PatientInformation.vue","webpack:///./src/components/VisitData.vue?89bc","webpack:///src/components/VisitData.vue","webpack:///./src/components/VisitData.vue?d313","webpack:///./src/components/VisitData.vue","webpack:///./src/components/encounters/encounter.vue?798f","webpack:///./src/components/encounters/reception.vue?768d","webpack:///src/components/encounters/reception.vue","webpack:///./src/components/encounters/reception.vue?844e","webpack:///./src/components/encounters/reception.vue","webpack:///./src/components/encounters/appointment.vue?0d19","webpack:///src/components/encounters/appointment.vue","webpack:///./src/components/encounters/appointment.vue?eb9e","webpack:///./src/components/encounters/appointment.vue","webpack:///./src/components/encounters/consultation.vue?6f9f","webpack:///src/components/encounters/consultation.vue","webpack:///./src/components/encounters/consultation.vue?bf47","webpack:///./src/components/encounters/consultation.vue","webpack:///./src/components/encounters/prescription.vue?dec0","webpack:///src/components/encounters/prescription.vue","webpack:///./src/components/encounters/prescription.vue?dd0b","webpack:///./src/components/encounters/prescription.vue","webpack:///./src/components/encounters/adherence.vue?c2ac","webpack:///src/components/encounters/adherence.vue","webpack:///./src/components/encounters/adherence.vue?537f","webpack:///./src/components/encounters/adherence.vue","webpack:///src/components/encounters/encounter.vue","webpack:///./src/components/encounters/encounter.vue?8dc1","webpack:///./src/components/encounters/encounter.vue","webpack:///./src/components/outcome.vue?bde4","webpack:///./src/components/Programs.vue?472b","webpack:///src/components/Programs.vue","webpack:///./src/components/Programs.vue?d2ae","webpack:///./src/components/Programs.vue","webpack:///src/components/outcome.vue","webpack:///./src/components/outcome.vue?24cc","webpack:///./src/components/outcome.vue","webpack:///./src/components/encounters/viral_load.vue?701e","webpack:///src/components/encounters/viral_load.vue","webpack:///./src/components/encounters/viral_load.vue?0e7d","webpack:///./src/components/encounters/viral_load.vue","webpack:///src/views/Mastercard.vue","webpack:///./src/views/Mastercard.vue?4243","webpack:///./src/views/Mastercard.vue","webpack:///./src/services/date_utils.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/utils/arrays.js","webpack:///./src/components/encounters/consultation.vue?7fda","webpack:///./src/components/VisitData.vue?2ef8"],"names":["collection","collectionStrong","module","exports","init","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$bvModal","show","_v","staticStyle","scopedSlots","_u","key","fn","proxy","ref","staticRenderFns","voidEditRedict","_m","_s","arvNumber","name","age","initialAge","sex","initialWeight","initialHeight","bmi","latestVLResult","ti","landmark","phoneNumber","guardianFirstName","guardianLastName","guardianRelation","guardianNumber","_e","dateOfHIVTest","placeOfHIVTest","followUp","parseStartDate","startReason","pregnant","breastfeeding","tbStatusAtInitiation","whoStage","stagingConditions","voidARVNumber","sitePrefix","model","value","callback","$$v","arv_num","expression","saveARVNumber","firstName","lastName","phoneNumberUnknown","inputType","numberState","updatedPhoneNumber","updatedAddress","text","updatedSex","updatedDOB","updateDetails","updatedguardianFirstName","updatedguardianLastName","guardianphoneNumberUnknown","guardianinputType","guardianNumberState","updatedguardianNumber","updateGuardianDetails","conditions","data","dob","location","occupation","nameOfGuardian","startDate","EPTB","PTB","kaposisSarcoma","patientID","showARVNumber","guardianID","updatedguardianRelation","obs","computed","methods","setPersonObject","redirect","$store","commit","PERSON","getPatient","getGuardian","getObs","getConcept","createOb","conceptSet","then","res","returnValue","context","variableName","forEach","push","ret","value_coded","valueType","conceptID","backupConcept","default","obsService","getAtribute","attr","person_attribute_type_id","attribute","getPrefix","showMessage","theme","position","duration","getBaseGuardian","given_name","middle_name","family_name","gender","birthdate","birthdate_estimated","home_district","home_traditional_authority","home_village","current_district","current_traditional_authority","current_village","cell_phone_number","relationship","patient_type","facility_name","closeGuardianModal","$router","url","parseObs","getStartDate","retrieveStarDate","clearStore","mounted","$route","params","id","setLatestVLResult","entry","type","patient","person","component","_l","visit","index","moment","visitDate","format","Math","round","diff","givenTo","weight","height","tbStatus","sideEffects","loadVisitDrugs","ARTRegimen","dispensed","nextAppointment","outcome","viralLoad","encounters","deleteVisit","state","selectedVisit","isLoadingDrugs","order","dIndex","drug","quantity","units","patientVisits","visitDrugs","mockOBJ","outcoume","adherence","encountersToDelete","getVisits","itemsProcessed","console","log","getLastOrder","removeEncounter","setVisits","details","temp","getEncounters","getCurrentPatientInfo","getNextAppointMent","visits","tempob","element","subConcepts","innerElement","conceptNames","val","el","regimen","visit_by","replace","viral_load","children","returnConcept","createEncounters","posting","close","date","addEncounter","directives","rawName","hasWeight","domProps","_q","$set","guardian","concept_id","saveEncounter","reception","encounter_id","$emit","encounterObject","setPresent","watch","earliestExpiry","appointmentdate","props","value_datetime","prescribed_drugs","remaining_drugs","breastFeeding","tb_status","currentStatus","hasSE","sides","otherSE","otherSideEffects","otherSides","onTb","fpm","Implant","drugs","ARVs","CPT","IPT","tbSymptoms","fever","prescribedFPM","currentFPM","tbSymps","drugsToPrescribe","onFP","prescribeFP","hasTBSymps","statusTB","isFemale","consultation","tb","Object","keys","child","getCoded","parentArray","includes","handler","deep","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","selectedRegimen","multiple","composing","ARVquantity","CPTquantity","selected3HPOption","IPTquantity","RFPquantity","threeHPquantity","pyridoxineQuantity","regimens","selectedDrugs","drugOrder","prescribeARVs","prescribeCPT","prescribeIPT","prescribeThreeHP","latestWeight","RFPRegimens","CPTRegimens","IPTRegimens","RFPplusINHRegimens","rifapepentineRegimens","rfpinhregimens","getRegimens","getCPT","getRFP","getIPT","getThreeHp","getAutoExpireDate","doses","auto_expire","toDrugOrder","drug_name","drug_id","am","pm","frequency","currentDrugs","consultationObs","prescribeARV","pyridoxine","INH","prescribeRFP","evening_tabs","dose","morning_tabs","drug_inventory_id","i","equivalent_daily_dose","start_date","auto_expire_date","instructions","qty","selectedRegimens","drug_order","currentWeight","previousDispensation","pillCount","lastDrugs","drug_order_adherence_concept_id","amount_of_drug_brought_to_clinic_concept_id","timeDiff","abs","date2","getTime","date1","diffDays","ceil","enc","encounterID","numEnc","success","fail","postResponse","isEnrolled","enrollDate","states","state_id","program_workflow_state_id","locations","getlocations","getVal","postOutcome","error","end_date","voidState","patient_state_id","visit_date","enroll","patient_programs","voidProgram","getPrograms","components","programs","errors","outcomes","location_name","voiding","getOutcomes","getPatientOutcomes","location_id","label","l","program","errorMessage","$v","form","orderDate","style","required","isValidDate","$dirty","reason","reasons","specimen","specimens","resultDate","modifier","modifiers","ldl","isArray","_i","$$a","$$el","$$c","checked","$$i","concat","slice","mixins","validations","isValid","sessionStorage","user","username","validateForm","$touch","$invalid","createLabOrder","createLabResult","PatientInformation","VisitData","clinicRegistration","encounter","ISO_FORMAT","LOCAL_FORMAT","dateQuarter","month","getMonth","year","getFullYear","dateQuarterStr","isoDate","localDate","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","TypeError","uniqBy","arr","Map","Boolean","item","uniqueKey","join","values","uniq","self","indexOf"],"mappings":"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","file":"js/chunk-44d6bdee.74be82fb.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mastercard.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mastercard.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientInformation.vue?vue&type=style&index=0&id=2f42d51c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientInformation.vue?vue&type=style&index=0&id=2f42d51c&scoped=true&lang=css&\"","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex\",attrs:{\"id\":\"wrapper\"}},[_c('side-bar'),_c('div',{attrs:{\"id\":\"page-content-wrapper\"}},[_c('top-nav'),_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('patient-information')],1),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$bvModal.show('encounter-modal')}}},[_vm._v(\"Add Visit\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$bvModal.show('outcome-modal')}}},[_vm._v(\"Update Outcome\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$bvModal.show('viral-load-modal')}}},[_vm._v(\"Viral Load\")]),_c('div',{staticClass:\"row\",staticStyle:{\"margin\":\"10px\",\"margin-top\":\"5px\"}},[_c('visit-data')],1),_c('encounter'),_c('b-modal',{attrs:{\"id\":\"outcome-modal\",\"title\":\"outcome\",\"size\":\"xl\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticClass:\"w-100\"})]},proxy:true}])},[_c('outcome')],1),_c('b-modal',{attrs:{\"id\":\"viral-load-modal\",\"title\":\"encounter\",\"size\":\"xl\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticClass:\"w-100\"})]},proxy:true}])},[_c('viral-load',{ref:\"viral-load\"})],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid card\",staticStyle:{\"margin-top\":\"35px\"}},[_c('button',{staticClass:\"btn btn-info\",staticStyle:{\"z-index\":\"1\",\"position\":\"absolute\",\"left\":\"47.5%\",\"bottom\":\"99%\",\"font-size\":\"13px\"},on:{\"click\":function($event){return _vm.voidEditRedict()}}},[_vm._v(\"Edit/Void\")]),_c('div',{staticClass:\"container-fluid\",staticStyle:{\"margin-top\":\"8px\"}},[_c('table',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-md-6 information editable\",attrs:{\"data-toggle\":\"modal\"},on:{\"click\":function($event){return _vm.$bvModal.show('arv-number-modal')}}},[_c('p',[_vm._v(_vm._s(_vm.arvNumber))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\",on:{\"click\":function($event){return _vm.$bvModal.show('patient-info-modal')}}},[_vm._m(1),_c('div',{staticClass:\"col-md-6 information editable\"},[_c('p',[_vm._v(_vm._s(_vm.name))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\",on:{\"click\":function($event){return _vm.$bvModal.show('patient-info-modal')}}},[_vm._m(2),_c('div',{staticClass:\"col-md-6 information editable\"},[_c('p',[_vm._v(_vm._s(_vm.age)+\" (\"+_vm._s(_vm.initialAge)+\")\")])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\",on:{\"click\":function($event){return _vm.$bvModal.show('patient-info-modal')}}},[_vm._m(3),_c('div',{staticClass:\"col-md-6 information editable\"},[_c('p',[_vm._v(_vm._s(_vm.sex))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(4),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.initialWeight)+\"kg and \"+_vm._s(_vm.initialHeight)+\"cm\")])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(5),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.bmi))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(6),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.latestVLResult))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(7),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.ti))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\",on:{\"click\":function($event){return _vm.$bvModal.show('patient-info-modal')}}},[_vm._m(8),_c('div',{staticClass:\"col-md-6 information editable\"},[_c('p',[_vm._v(_vm._s(_vm.landmark))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\",on:{\"click\":function($event){return _vm.$bvModal.show('patient-info-modal')}}},[_vm._m(9),_c('div',{staticClass:\"col-md-6 information editable\"},[_c('p',[_vm._v(_vm._s(_vm.phoneNumber))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\",on:{\"click\":function($event){return _vm.$bvModal.show('guardian-info-modal')}}},[_vm._m(10),(_vm.guardianFirstName)?_c('div',{staticClass:\"col-md-6 information editable\"},[_c('p',[_vm._v(_vm._s(_vm.guardianFirstName + \" \" + _vm.guardianLastName + \" (\" + _vm.guardianRelation + \")\" + \" (\" + _vm.guardianNumber + \")\"))])]):_vm._e()])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(11),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.dateOfHIVTest)+\" \"+_vm._s(_vm.placeOfHIVTest))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(12),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.followUp))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(13),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.parseStartDate))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(14),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.startReason))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(15),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.pregnant))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(16),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.breastfeeding))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(17),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.tbStatusAtInitiation))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_vm._m(18),_c('div',{staticClass:\"col-md-6 information\"},[_c('p',[_vm._v(_vm._s(_vm.whoStage))])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('p',[_vm._v(\"Staging conditions\")]),_vm._v(\" \"+_vm._s(_vm.stagingConditions.length > 0 ? _vm.stagingConditions[0] : '')+\" \")])])])])]),_c('b-modal',{attrs:{\"id\":\"arv-number-modal\",\"title\":\"Edit ARV number\",\"size\":\"xl\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticClass:\"w-100\"})]},proxy:true}])},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"exampleFormControlSelect1\"}},[_vm._v(_vm._s(_vm.arvNumber)+\" ->\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":_vm.voidARVNumber}},[_vm._v(\"X\")])]),_c('div',{staticClass:\"col\"},[_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"prepend\":_vm.sitePrefix + '-ARV-'}},[_c('b-input',{attrs:{\"id\":\"inline-form-input-username\",\"type\":\"number\"},model:{value:(_vm.arv_num),callback:function ($$v) {_vm.arv_num=$$v},expression:\"arv_num\"}})],1)],1),_c('div',{staticClass:\"col\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.saveARVNumber}},[_vm._v(\"Submit\")])])])]),_c('b-modal',{attrs:{\"id\":\"patient-info-modal\",\"title\":\"patient detials\",\"size\":\"xl\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticClass:\"w-100\"})]},proxy:true}])},[_c('div',[_c('b-form',[_c('label',{attrs:{\"for\":\"text-name\"}},[_vm._v(\"First Name\")]),_c('b-input',{attrs:{\"type\":\"text\",\"id\":\"text-name\"},model:{value:(_vm.firstName),callback:function ($$v) {_vm.firstName=$$v},expression:\"firstName\"}}),_c('label',{attrs:{\"for\":\"text-last-name\"}},[_vm._v(\"Last Name\")]),_c('b-input',{attrs:{\"type\":\"text\",\"id\":\"text-last-name\"},model:{value:(_vm.lastName),callback:function ($$v) {_vm.lastName=$$v},expression:\"lastName\"}}),_c('label',{attrs:{\"for\":\"text-phone-number\"}},[_vm._v(\"Phone Number\")]),_c('b-input-group',{staticClass:\"mb-2\"},[_c('b-input-group-prepend',{attrs:{\"is-text\":\"\"}},[_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\"},model:{value:(_vm.phoneNumberUnknown),callback:function ($$v) {_vm.phoneNumberUnknown=$$v},expression:\"phoneNumberUnknown\"}},[_vm._v(\"Unknown \")])],1),_c('b-input',{attrs:{\"type\":_vm.inputType,\"id\":\"text-phone-number\",\"state\":_vm.numberState,\"disabled\":_vm.phoneNumberUnknown},model:{value:(_vm.updatedPhoneNumber),callback:function ($$v) {_vm.updatedPhoneNumber=$$v},expression:\"updatedPhoneNumber\"}})],1),_c('label',{attrs:{\"for\":\"text-address\"}},[_vm._v(\"Physical Address\")]),_c('b-input',{attrs:{\"type\":\"text\",\"id\":\"text-address\"},model:{value:(_vm.updatedAddress),callback:function ($$v) {_vm.updatedAddress=$$v},expression:\"updatedAddress\"}}),_c('label',{attrs:{\"for\":\"input-sex\"}},[_vm._v(\"Sex\")]),_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"id\":\"inline-form-custom-select-pref\",\"options\":[{ text: 'Male', value: 'M' }, { text: 'Female', value: 'F' }]},model:{value:(_vm.updatedSex),callback:function ($$v) {_vm.updatedSex=$$v},expression:\"updatedSex\"}}),_c('label',{attrs:{\"for\":\"example-datepicker\"}},[_vm._v(\"Date of birth\")]),_c('b-form-datepicker',{staticClass:\"mb-2\",attrs:{\"id\":\"example-datepicker\"},model:{value:(_vm.updatedDOB),callback:function ($$v) {_vm.updatedDOB=$$v},expression:\"updatedDOB\"}}),_c('div',{staticClass:\"row justify-content-center\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.updateDetails}},[_vm._v(\"Save\")])],1)],1)],1)]),_c('b-modal',{attrs:{\"id\":\"guardian-info-modal\",\"title\":\"guardian detials\",\"size\":\"xl\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticClass:\"w-100\"})]},proxy:true}])},[_c('div',[_c('b-form',[_c('label',{attrs:{\"for\":\"text-name\"}},[_vm._v(\"First Name\")]),_c('b-input',{attrs:{\"type\":\"text\",\"id\":\"text-name\"},model:{value:(_vm.updatedguardianFirstName),callback:function ($$v) {_vm.updatedguardianFirstName=$$v},expression:\"updatedguardianFirstName\"}}),_c('label',{attrs:{\"for\":\"text-last-name\"}},[_vm._v(\"Last Name\")]),_c('b-input',{attrs:{\"type\":\"text\",\"id\":\"text-last-name\"},model:{value:(_vm.updatedguardianLastName),callback:function ($$v) {_vm.updatedguardianLastName=$$v},expression:\"updatedguardianLastName\"}}),_c('label',{attrs:{\"for\":\"text-phone-number\"}},[_vm._v(\"Phone Number\")]),_c('b-input-group',{staticClass:\"mb-2\"},[_c('b-input-group-prepend',{attrs:{\"is-text\":\"\"}},[_c('b-form-checkbox',{attrs:{\"name\":\"guardian-check\",\"switch\":\"\"},model:{value:(_vm.guardianphoneNumberUnknown),callback:function ($$v) {_vm.guardianphoneNumberUnknown=$$v},expression:\"guardianphoneNumberUnknown\"}},[_vm._v(\"Unknown \")])],1),_c('b-input',{attrs:{\"type\":_vm.guardianinputType,\"id\":\"guardian-phone-number\",\"state\":_vm.guardianNumberState,\"disabled\":_vm.guardianphoneNumberUnknown},model:{value:(_vm.updatedguardianNumber),callback:function ($$v) {_vm.updatedguardianNumber=$$v},expression:\"updatedguardianNumber\"}})],1),_c('div',{staticClass:\"row justify-content-center\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.updateGuardianDetails}},[_vm._v(\"Save\")])],1)],1)],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"ARV #\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Name\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"DOB and Age at initiation\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Sex\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Initial Weight and height\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Initial BMI\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Latest VL Result\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"TI\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Physical Address\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Phone Number\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Name of Guardian\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Date and Place of HIV Test\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Agrees to follow up\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Date of starting first line ARV Regimen\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Reason for Starting ART\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Pregnant at initiation\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"Breastfeeding at initiation\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"TB Status at initiation\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('p',[_vm._v(\"WHO Stage\")])])}]\n\nexport { render, staticRenderFns }","export let conditions = {\n    '1': 'id',\n    '836': 'Herpes zoster',\n    '1210': 'Parotid enlargement, persistent unexplained',\n    '2575': 'Angular cheilitis',\n    '2576': 'Oral ulcerations, recurrent',\n    '2891': 'Lineal gingival erythema',\n    '5012': 'Respiratory tract infections, recurrent (sinusitis, tonsilitus, otitis media, pharyngitis)',\n    '5327': 'Asymptomatic HIV infection',\n    '5328': 'Persistent generalized lymphadenopathy',\n    '6775': 'Wart virus infection, extensive',\n    '6776': 'Molluscum contagiosum, extensive',\n    '7536': 'Papular pruritic eruptions / Fungal nail infections',\n    '7537': 'Hepatosplenomegaly, persistent unexplained',\n    '836': 'Herpes zoster',\n    '1215': 'Bacterial pneumonia, severe recurrent',\n    '2575': 'Angular cheilitis',\n    '2576': 'Oral ulcerations, recurrent',\n    '2578': 'Seborrhoeic dermatitis',\n    '2582': 'Anaemia, unexplained < 8 g/dl',\n    '2889': 'Chronic HIV-associated lung disease, including bronchiectasis',\n    '5012': 'Respiratory tract infections, recurrent (sinusitis, tonsilitus, otitis media, pharyngitis)',\n    '5024': 'Symptomatic lymphoid interstitial pneumonia',\n    '5027': 'Fever, persistent unexplained, intermittent or constant, >1 month',\n    '5332': 'Moderate weight loss less than or equal to 10 percent, unexplained',\n    '5337': 'Oral hairy leukoplakia',\n    '7038': 'Unspecified stage 2 condition',\n    '7536': 'Papular pruritic eruptions / Fungal nail infections',\n    '7539': 'Tuberculosis (PTB or EPTB) within the last 2 years',\n    '7543': 'Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)',\n    '7544': 'Diarrhoea, persistent unexplained (14 days or more)',\n    '7545': 'Oral candidiasis (from age 2 months)',\n    '7546': 'Acute necrotizing ulcerative gingivitis or periodontitis',\n    '7547': 'Lymph node tuberculosis',\n    '7954': 'Neutropaenia, unexplained < 500 /mm(cubed)',\n    '7955': 'Thrombocytopaenia, chronic < 50,000 /mm(cubed)',\n    '8206': 'Pulmonary tuberculosis (current)',\n    '507': 'Kaposis sarcoma',\n    '882': 'Pneumocystis pneumonia',\n    '1362': 'HIV encephalopathy',\n    '1547': 'Extrapulmonary tuberculosis (EPTB)',\n    '2582': 'Anaemia, unexplained < 8 g/dl',\n    '2585': 'Disseminated non-tuberculosis mycobacterial infection',\n    '2587': 'Cerebral or B-cell non Hodgkin lymphoma',\n    '2894': 'Bacterial infections, severe recurrent  (empyema, pyomyositis, meningitis, bone/joint infections but EXCLUDING pneumonia)',\n    '3068': 'Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)',\n    '5018': 'Diarrhoea, chronic (>1 month) unexplained',\n    '5027': 'Fever, persistent unexplained, intermittent or constant, >1 month',\n    '5046': 'Progressive multifocal leukoencephalopathy',\n    '5048': 'Toxoplasmosis of the brain (from age 1 month)',\n    '5334': 'Oral candidiasis',\n    '5337': 'Oral hairy leukoplakia',\n    '5340': 'Candidiasis of oseophagus, trachea and bronchi or lungs',\n    '6408': 'Other',\n    '7039': 'Unspecified stage 3 condition',\n    '7539': 'Tuberculosis (PTB or EPTB) within the last 2 years',\n    '7540': 'Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained',\n    '7541': 'Severe bacterial infections (pneumonia, empyema, pyomyositis, bone/joint, meningitis, bacteraemia)',\n    '7548': 'Cryptococcal meningitis or other extrapulmonary cryptococcosis',\n    '7549': 'Cryptosporidiosis, chronic with diarroea',\n    '7550': 'Disseminated mycosis (coccidiomycosis or histoplasmosis)',\n    '7552': 'Cytomegalovirus infection: rentinitis or other organ (from age 1 month)',\n    '7954': 'Neutropaenia, unexplained < 500 /mm(cubed)',\n    '7955': 'Thrombocytopaenia, chronic < 50,000 /mm(cubed)',\n    '7956': 'Isosporiasis >1 month',\n    '7957': 'Symptomatic HIV-associated nephropathy or cardiomyopathy',\n    '7960': 'Chronic herpes simplex infection (orolabial or cutaneous >1 month or visceral at any site)',\n    '7961': 'Recto-vaginal fistula, HIV-associated',\n    '8205': 'Hepatitis B or C infection',\n    '8206': 'Pulmonary tuberculosis (current)',\n    '507': 'Kaposis sarcoma',\n    '882': 'Pneumocystis pneumonia',\n    '1215': 'Bacterial pneumonia, severe recurrent',\n    '1547': 'Extrapulmonary tuberculosis (EPTB)',\n    '2583': 'Toxoplasmosis of the brain',\n    '2587': 'Cerebral or B-cell non Hodgkin lymphoma',\n    '2588': 'Invasive cancer of cervix',\n    '5340': 'Candidiasis of oseophagus, trachea and bronchi or lungs',\n    '5344': 'Chronic herpes simplex infection (orolabial, gential / anorectal >1 month or visceral at any site)',\n    '6408': 'Other',\n    '7040': 'Unspecified stage 4 condition',\n    '7548': 'Cryptococcal meningitis or other extrapulmonary cryptococcosis',\n    '7551': 'Cytomegalovirus infection (retinitis or infection or other organs)',\n    '7957': 'Symptomatic HIV-associated nephropathy or cardiomyopathy',\n    '7959': 'Non-typhoidal Salmonella bacteraemia, recurrent'\n  };","<template>\n  <div class=\"container-fluid card\" style=\"margin-top: 35px;\">\n    <button\n      @click=\"voidEditRedict()\"\n      class=\"btn btn-info\"\n      style=\"z-index: 1; position: absolute; left: 47.5%; bottom: 99%; font-size: 13px;\"\n    >Edit/Void</button>\n    <div class=\"container-fluid\" style=\"margin-top: 8px;\">\n      <table class=\"row\">\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>ARV #</p>\n            </div>\n            <div\n              class=\"col-md-6 information editable\"\n              data-toggle=\"modal\"\n              @click=\"$bvModal.show('arv-number-modal')\"\n            >\n              <p>{{arvNumber}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\" @click=\"$bvModal.show('patient-info-modal')\">\n            <div class=\"col-md-6\">\n              <p>Name</p>\n            </div>\n            <div class=\"col-md-6 information editable\">\n              <p>{{name}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\" @click=\"$bvModal.show('patient-info-modal')\">\n            <div class=\"col-md-6\">\n              <p>DOB and Age at initiation</p>\n            </div>\n            <div class=\"col-md-6 information editable\">\n              <p>{{age}} ({{initialAge}})</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\" @click=\"$bvModal.show('patient-info-modal')\">\n            <div class=\"col-md-6\">\n              <p>Sex</p>\n            </div>\n            <div class=\"col-md-6 information editable\">\n              <p>{{sex}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>Initial Weight and height</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{initialWeight}}kg and {{initialHeight}}cm</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>Initial BMI</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{bmi}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>Latest VL Result</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{latestVLResult}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>TI</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{ti}}</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"col-md-3\">\n          <div class=\"row\" @click=\"$bvModal.show('patient-info-modal')\">\n            <div class=\"col-md-6\">\n              <p>Physical Address</p>\n            </div>\n            <div class=\"col-md-6 information editable\">\n              <p>{{landmark}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\" @click=\"$bvModal.show('patient-info-modal')\">\n            <div class=\"col-md-6\">\n              <p>Phone Number</p>\n            </div>\n            <div class=\"col-md-6 information editable\">\n              <p>{{phoneNumber}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\" @click=\"$bvModal.show('guardian-info-modal')\">\n            <div class=\"col-md-6\">\n              <p>Name of Guardian</p>\n            </div>\n            <div class=\"col-md-6 information editable\" v-if=\"guardianFirstName\">\n              <p>{{guardianFirstName + \" \" + guardianLastName + \" (\" + guardianRelation + \")\" + \" (\" + guardianNumber + \")\"}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>Date and Place of HIV Test</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{dateOfHIVTest}} {{placeOfHIVTest}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>Agrees to follow up</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{followUp}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>Date of starting first line ARV Regimen</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{parseStartDate}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>Reason for Starting ART</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{startReason}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>Pregnant at initiation</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{pregnant}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>Breastfeeding at initiation</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{breastfeeding}}</p>\n            </div>\n          </div>\n        </div>\n      \n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>TB Status at initiation</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{tbStatusAtInitiation}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <p>WHO Stage</p>\n            </div>\n            <div class=\"col-md-6 information\">\n              <p>{{whoStage}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"row\">\n            <div class=\"col-md-12\">\n              <p>Staging conditions</p>\n              {{stagingConditions.length > 0 ? stagingConditions[0] : ''}}\n              <!-- <ul style=\"padding: 0;\">\n                <li v-for=\"(item, index) in stagingConditions\" :key=\"index\" class=\"horizontal-list\">\n                  {{item}}, \n                  </li>\n              </ul> -->\n            </div>\n          </div>\n        </div>\n      </table>\n    </div>\n    <b-modal id=\"arv-number-modal\" title=\"Edit ARV number\" size=\"xl\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <label for=\"exampleFormControlSelect1\">{{arvNumber}} -></label> <button class=\"btn btn-danger\" @click=\"voidARVNumber\">X</button>\n        </div>\n        <div class=\"col\">\n          <b-input-group :prepend=\"sitePrefix + '-ARV-'\" class=\"mb-2 mr-sm-2 mb-sm-0\">\n            <b-input id=\"inline-form-input-username\" v-model=\"arv_num\" type=\"number\"></b-input>\n          </b-input-group>\n        </div>\n        <div class=\"col\">\n          <button @click=\"saveARVNumber\" class=\"btn btn-primary\">Submit</button>\n        </div>\n      </div>\n      <template v-slot:modal-footer>\n        <div class=\"w-100\"></div>\n      </template>\n    </b-modal>\n    <b-modal id=\"patient-info-modal\" title=\"patient detials\" size=\"xl\">\n      <div>\n        <b-form>\n          <label for=\"text-name\">First Name</label>\n          <b-input type=\"text\" id=\"text-name\" v-model=\"firstName\"></b-input>\n          <label for=\"text-last-name\">Last Name</label>\n          <b-input type=\"text\" id=\"text-last-name\" v-model=\"lastName\"></b-input>\n\n          <label for=\"text-phone-number\">Phone Number</label>\n            <b-input-group class=\"mb-2\">\n            <b-input-group-prepend is-text>\n              <b-form-checkbox v-model=\"phoneNumberUnknown\" name=\"check-button\" switch>Unknown </b-form-checkbox>\n            </b-input-group-prepend>\n              <b-input :type=\"inputType\" id=\"text-phone-number\" v-model=\"updatedPhoneNumber\" :state=\"numberState\" :disabled=\"phoneNumberUnknown\"></b-input>\n            </b-input-group>\n          <label for=\"text-address\">Physical Address</label>\n          <b-input type=\"text\" id=\"text-address\" v-model=\"updatedAddress\"></b-input>\n          <label for=\"input-sex\">Sex</label>\n          <b-form-select\n            id=\"inline-form-custom-select-pref\"\n            class=\"mb-2 mr-sm-2 mb-sm-0\"\n            :options=\"[{ text: 'Male', value: 'M' }, { text: 'Female', value: 'F' }]\"\n            v-model=\"updatedSex\"\n          ></b-form-select>\n          <label for=\"example-datepicker\">Date of birth</label>\n          <b-form-datepicker id=\"example-datepicker\" class=\"mb-2\" v-model=\"updatedDOB\"></b-form-datepicker>\n\n          <div class=\"row justify-content-center\">\n            <b-button variant=\"primary\" @click=\"updateDetails\">Save</b-button>\n          </div>\n        </b-form>\n      </div>\n      <template v-slot:modal-footer>\n        <div class=\"w-100\"></div>\n      </template>\n    </b-modal>\n    <b-modal id=\"guardian-info-modal\" title=\"guardian detials\" size=\"xl\">\n      <div>\n        <b-form>\n          <label for=\"text-name\">First Name</label>\n          <b-input type=\"text\" id=\"text-name\" v-model=\"updatedguardianFirstName\"></b-input>\n          <label for=\"text-last-name\">Last Name</label>\n          <b-input type=\"text\" id=\"text-last-name\" v-model=\"updatedguardianLastName\"></b-input>\n          <label for=\"text-phone-number\">Phone Number</label>\n            <b-input-group class=\"mb-2\">\n            <b-input-group-prepend is-text>\n              <b-form-checkbox v-model=\"guardianphoneNumberUnknown\" name=\"guardian-check\" switch>Unknown </b-form-checkbox>\n            </b-input-group-prepend>\n          <b-input :type=\"guardianinputType\" id=\"guardian-phone-number\" v-model=\"updatedguardianNumber\" :state=\"guardianNumberState\" :disabled=\"guardianphoneNumberUnknown\"></b-input>\n          </b-input-group>\n\n          <div class=\"row justify-content-center\">\n            <b-button variant=\"primary\" @click=\"updateGuardianDetails\">Save</b-button>\n          </div>\n        </b-form>\n      </div>\n      <template v-slot:modal-footer>\n        <div class=\"w-100\"></div>\n      </template>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nconst numberRegex = /^(\\+?265|0)(((88|9[89])\\d{7})|(1\\d{6})|(2\\d{8})|(31\\d{8}))$/;\nimport ApiClient from \"../services/api_client\";\nimport EventBus from \"../services/event-bus.js\";\nimport GlobalProperties from \"@/services/global_properties\";\nimport {conditions} from \"../services/staging_condition_service.js\";\nimport moment from \"moment\";\nimport date_utils from '../services/date_utils';\nexport default {\n  data: function() {\n    return {\n      arvNumber: null,\n      arv_num: null,\n      name: null,\n      firstName: null,\n      lastName: null,\n      age: null,\n      sex: null,\n      updatedDOB: null,\n      updatedSex: null,\n      dob: null,\n      initialWeight: null,\n      initialHeight: null,\n      updatedAddress: null,\n      pregnant: null,\n      breastfeeding:  null,\n      bmi: null,\n      latestVLResult: null,\n      ti: null,\n      location: null,\n      landmark: null,\n      occupation: null,\n      nameOfGuardian: null,\n      dateOfHIVTest: null,\n      placeOfHIVTest: null,\n      whoStage: null,\n      followUp: null,\n      startDate: null,\n      startReason: null,\n      EPTB: null,\n      PTB: null,\n      kaposisSarcoma: null,\n      tbStatusAtInitiation: null,\n      patientID: null,\n      sitePrefix: null,\n      showARVNumber: false,\n      phoneNumber: null,\n      updatedPhoneNumber: null,\n      guardianID: null,\n      guardianFirstName: null,\n      guardianLastName: null,\n      guardianRelation: null,\n      guardianNumber: null,\n      updatedguardianFirstName: null,\n      updatedguardianLastName: null,\n      updatedguardianRelation: null,\n      updatedguardianNumber: null,\n      phoneNumberUnknown: false,\n      guardianphoneNumberUnknown: false,\n      stagingConditions: [],\n      obs: [\n        {\n          conceptID: 2552\n        },\n        {\n          conceptID: 5089,\n          variableName: \"initialWeight\",\n          valueType: \"value_numeric\",\n          secondType: \"value_text\"\n        },\n        {\n          conceptID: 5090,\n          variableName: \"initialHeight\",\n          valueType: \"value_numeric\",\n          secondType: \"value_text\"\n        },\n        {\n          conceptID: 2137,\n          variableName: \"bmi\",\n          valueType: \"value_numeric\",\n          secondType: \"value_text\"\n        },\n        {\n          conceptID: 7881,\n          variableName: \"placeOfHIVTest\",\n          valueType: \"value_text\"\n        },\n        {\n          conceptID: 7882,\n          variableName: \"dateOfHIVTest\",\n          valueType: \"value_datetime\",\n          secondType: \"value_text\"\n        },\n        {\n          conceptID: 7754,\n          variableName: \"ti\",\n          valueType: \"value_coded\",\n          secondType: \"value_text\",\n          returnValue: \"Yes\",\n          default: \"No\",\n          params: \"value_coded=1065\",\n          backupConcept: {\n            conceptID: 7751,\n            variableName: \"ti\",\n            valueType: \"value_datetime\",\n            secondType: \"value_text\",\n            returnValue: \"Yes\",\n            default: \"No\"\n          }\n        },\n        {\n          conceptID: 6131,\n          variableName: \"pregnant\",\n          valueType: \"value_coded\",\n          secondType: \"value_text\",\n          returnValue: \"Yes\",\n          default: \"No\",\n          params: \"value_coded=1065\",\n        },\n        {\n          conceptID: 7965,\n          variableName: \"breastfeeding\",\n          valueType: \"value_coded\",\n          secondType: \"value_text\",\n          returnValue: \"Yes\",\n          default: \"No\",\n          params: \"value_coded=1065\",\n        },\n        {\n          conceptID: 2552,\n          variableName: \"followUp\",\n          valueType: \"value_coded\",\n          secondType: \"value_text\",\n          returnValue: \"Yes\",\n          default: \"No\",\n          params: \"value_coded=1065\",\n          backupConcept: {\n            conceptID: 9685,\n            variableName: \"followUp\",\n            valueType: \"value_datetime\",\n            secondType: \"value_text\",\n            returnValue: \"Yes\",\n            default: \"No\",\n            backupConcept: {\n              conceptID: 9686,\n              variableName: \"followUp\",\n              valueType: \"value_datetime\",\n              secondType: \"value_text\",\n              returnValue: \"Yes\",\n              default: \"No\"\n            }\n          }\n        },\n        {\n          conceptID: 10583,\n          variableName: \"tbStatusAtInitiation\",\n          valueType: \"value_coded\",\n          secondType: \"value_text\",\n          conceptNames: {\n            10584: \"Current\",\n            10585: \"Last 2 years\",\n            10586: \"More than 2 years\",\n            10587: \"Never\"\n          }\n        },\n        {\n          conceptID: 7563,\n          variableName: \"startReason\",\n          valueType: \"value_coded\",\n          secondType: \"value_text\"\n        },\n        {\n          conceptID: 7562,\n          variableName: \"whoStage\",\n          valueType: \"value_text\",\n          secondType: \"value_coded\"\n        },\n        {\n          conceptID: 2743,\n          subConcepts: [],\n        }\n      ], initialObs: [\n\n      ],\n    };\n  },\n  computed: {\n    \n  },\n  methods: {\n\n    voidEditRedict(){\n      this.setPersonObject()\n      this.redirect(`/registration/${this.patientID}/false`)\n    },\n\n    setPersonObject(){\n      const PERSON = {\n        name: this.name,\n        dob: \"\",\n        age: \"\",\n        arvNumber: this.arvNumber,\n        sex: this.sex\n      };\n      this.$store.commit(\"setPatient\", PERSON);\n    },\n\n    getPatient: async function() {\n      let f = await ApiClient.get(`/patients/${this.patientID}`);\n      return await f.json();\n    },\n\n    getGuardian: async function() {\n      let guardian = await ApiClient.get(\n        `/people/${this.patientID}/relationships`\n      ).then(res => {\n        res.json().then(ret => {\n          if (ret.length > 0) {\n            this.guardianID = ret[0].person_b;\n            let person_name = ret[0][\"relation\"][\"names\"][0];\n            let relationship_type = ret[0][\"type\"][\"b_is_to_a\"];\n            this.guardianFirstName = person_name[\"given_name\"];\n            this.guardianLastName = person_name[\"family_name\"];\n            this.guardianRelation = relationship_type;\n            this.updatedguardianFirstName = person_name[\"given_name\"];\n            this.updatedguardianLastName = person_name[\"family_name\"];\n            this.updatedguardianRelation = relationship_type;\n            this.guardianNumber = this.getAtribute(\n              ret[0].relation.person_attributes,\n              12\n            );\n            this.updatedguardianNumber = this.getAtribute(\n              ret[0].relation.person_attributes,\n              12\n            );\n            if(this.guardianphoneNumber === \"Unknown\") {\n              this.guardianphoneNumberUnknown = true;\n            }\n            this.nameOfGuardian =\n              person_name[\"given_name\"] +\n              \" \" +\n              person_name[\"family_name\"] +\n              \" (\" +\n              relationship_type +\n              \")\";\n          }\n        });\n      });\n    },\n    getObs: async function(conceptSet, startDate) {\n      let url = `/observations?person_id=${this.patientID}&&concept_id=${conceptSet.conceptID}`;\n      url = conceptSet.params ? url + `&&` + conceptSet.params : url;\n      url = startDate ? url + `&&obs_datetime=`+ startDate : url;\n      let observations = await ApiClient.get(url);\n      return await observations.json();\n    },\n    getConcept: async function(conceptSet, results, context) {\n      await ApiClient.get(`/concepts/${results}`).then(res => {\n        res.json().then(f => {\n          context[conceptSet.variableName] = f.concept_names[0].name;\n        });\n      });\n    },\n    createOb: function(conceptSet, context, startDate) {\n\n    this.$store.state.currentHeight = null;\n      this.getObs(conceptSet).then(res => {\n        if (res.length > 0) {\n          if (conceptSet.returnValue) {\n            context[conceptSet.variableName] = conceptSet.returnValue;\n          } else if (conceptSet.subConcepts) {\n            context.stagingConditions = [];\n            res.forEach(ret => {\n              context.stagingConditions.push(conditions[ret.value_coded]);\n            });\n          } else {\n            let val = res[res.length - 1][conceptSet.valueType]\n              ? res[res.length - 1][conceptSet.valueType]\n              : res[res.length - 1][conceptSet.secondType];\n            context[conceptSet.variableName] =\n              conceptSet.valueType === \"value_datetime\" &&\n              conceptSet.format !== false\n                ? moment(val).format(\"DD-MMM-YYYY\")\n                : val;\n            if (conceptSet.valueType === \"value_coded\") {\n                if(conceptSet.conceptNames) {\n                    context[conceptSet.variableName] = conceptSet.conceptNames[val]; \n                }else {\n\n                 this.getConcept(conceptSet, val, context);\n                  \n                }\n                \n                \n            }\n            if (conceptSet.conceptID === 5089) {\n              let weight = res[0][conceptSet.valueType]\n                ? res[0][conceptSet.valueType]\n                : res[0][conceptSet.secondType];\n              EventBus.$emit(\"set-initial-weight\", weight);\n              this.$store.commit(\"setWeight\", weight);\n            }\n            if (conceptSet.conceptID === 5090) {\n              let height = res[0][conceptSet.valueType]\n                ? res[0][conceptSet.valueType]\n                : res[0][conceptSet.secondType];\n              EventBus.$emit(\"set-previous-height\", height);\n              this.$store.commit(\"setHeight\", height);\n            }\n          }\n\n          if (conceptSet.conceptID === 2552) {\n            this.$store.commit(\"setInitialRegistration\", res[res.length - 1]);\n          }\n\n          if (conceptSet.conceptID === 5089) {\n            this.$store.commit(\"setInitialVitals\", res[res.length - 1]);\n          }\n\n          if (conceptSet.conceptID === 7563) {\n            this.$store.commit(\"setInitialStaging\", res[res.length - 1]);\n          }\n        } else {\n          if (conceptSet.backupConcept) {\n            this.createOb(conceptSet.backupConcept, context);\n          }\n          if (conceptSet.default) {\n            context[conceptSet.variableName] = conceptSet.default;\n          } else {\n            context[conceptSet.variableName] = \"N/A\";\n          }\n        }\n      });\n    },\n    obsService: function(observations) {\n      switch (key) {\n        case value:\n          break;\n\n        default:\n          break;\n      }\n    },\n    getAtribute: function(person_attributes, person_attribute_type_id) {\n      let attribute = person_attributes.filter(attr => {\n        return attr.person_attribute_type_id == person_attribute_type_id;\n      });\n      return attribute.length > 0 ? attribute[0].value : \"\";\n    },\n    getPrefix: async function() {\n      this.sitePrefix = await GlobalProperties.getSitePrefix();\n    },\n    saveARVNumber: async function() {\n      let finalNum = `${this.sitePrefix}-ARV-${this.arv_num}`;\n      let identifier_data = {\n        identifier: finalNum,\n        identifier_type: 4,\n        patient_id: this.$route.params.id\n      };\n      const response = await ApiClient.post(\n        `/patient_identifiers/`,\n        identifier_data\n      );\n      if (response.status === 201 || response.status === 200) {\n        this.showMessage(\"ARV number updated\");\n        this.arvNumber = finalNum;\n        this.$root.$emit(\"bv::hide::modal\", \"arv-number-modal\", \"#btnShow\");\n      } else if (response.status === 400) {\n        this.showMessage(\"ARV number already in use\");\n      }\n    },\n    voidARVNumber: async function() {\n      const response = await ApiClient.post(\n        `/programs/1/void_arv_number/${this.arvNumber}`,\n      );\n      if (response.status === 201 || response.status === 200) {\n        this.showMessage(\"ARV number voided\");\n        this.arvNumber = \"N/A\";\n        this.$root.$emit(\"bv::hide::modal\", \"arv-number-modal\", \"#btnShow\");\n      } else if (response.status === 400) {\n        this.showMessage(\"ARV number already in use\");\n      }\n    },\n    showMessage: function(message) {\n      let toast = this.$toasted.show(message, {\n        theme: \"toasted-primary\",\n        position: \"top-right\",\n        duration: 5000\n      });\n    },\n    updateDetails: async function() {\n      let params = {};\n      let errors = [];\n      if (`${this.firstName} ${this.lastName}` !== this.name) {\n        params.given_name = this.firstName;\n        params.family_name = this.lastName;\n      }\n      if (this.updatedDOB !== this.dob) {\n        params.birthdate = this.updatedDOB;\n        params.birthdate_estimated = 0;\n      }\n      if (this.updatedSex !== this.sex) {\n        params.gender = this.updatedSex;\n      }\n      if (this.updatedPhoneNumber !== this.phoneNumber) {\n        if(!this.numberState) {\n          errors.push(\"fix phone number\");\n        }\n        if(this.phoneNumberUnknown) {\n         params.cell_phone_number = \"Unknown\"; \n        }\n        params.cell_phone_number = this.updatedPhoneNumber;\n      }\n      if (this.updatedAddress !== this.landmark) {\n        params.landmark = this.updatedAddress;\n      }\n      if (Object.keys(params).length > 0 && errors.length === 0) {\n        const response = await ApiClient.put(\n          `/people/${this.$route.params.id}`,\n          params\n        );\n        if (response.status === 201 || response.status === 200) {\n          this.showMessage(\"Successfully saved\");\n          if (`${this.firstName} ${this.lastName}` !== this.name) {\n            this.name = `${this.firstName} ${this.lastName}`;\n          }\n          if (this.updatedDOB !== this.dob) {\n            this.dob = this.updatedDOB;\n            this.age = ` ${moment(this.dob).format(\"DD-MMM-YYYY\")}`;\n          }\n          if (this.updatedSex !== this.sex) {\n            this.sex = this.updatedSex;\n          }\n          if (this.updatedPhoneNumber !== this.phoneNumber) {\n            this.phoneNumber = this.updatedPhoneNumber;\n          }\n          if (this.updatedAddress !== this.landmark) {\n            this.landmark = this.updatedAddress;\n          }\n          this.$root.$emit(\"bv::hide::modal\", \"patient-info-modal\", \"#btnShow\");\n        } else {\n          console.log(\"Failed to update\");\n        }\n      } else {\n          errors.forEach(element => {\n            this.showMessage(element);\n          });\n        // this.$root.$emit(\"bv::hide::modal\", \"patient-info-modal\", \"#btnShow\");\n      }\n    },\n    getBaseGuardian() {\n      return {\n        given_name: \"\",\n        middle_name: \"\",\n        family_name: \"\",\n        gender: \"N/A\",\n        birthdate: moment(new Date(\"1970-01-01\")).format(\"YYYY-MM-DD\"),\n        birthdate_estimated: \"N/A\",\n        home_district: \"N/A\",\n        home_traditional_authority: \"N/A\",\n        home_village: \"N/A\",\n        current_district: \"N/A\",\n        current_traditional_authority: \"N/A\",\n        current_village: \"N/A\",\n        landmark: \"N/A\",\n        cell_phone_number: \"\",\n        occupation: null,\n        relationship: \"N/A\",\n        patient_type: \"\",\n        facility_name: null\n      };\n    },\n    updateGuardianDetails: async function() {\n      let params = {};\n      let errors = [];\n      if (this.guardianFirstName !== this.updatedguardianFirstName) {\n        params.given_name = this.updatedguardianFirstName;\n      }\n      if (this.guardianLastName !== this.updatedguardianLastName) {\n        params.family_name = this.updatedguardianLastName;\n      }\n      if (this.updatedguardianNumber !== this.guardianNumber) {\n        if(!this.guardianNumberState) {\n          errors.push(\"fix phone number\");\n        }\n        if(this.guardianphoneNumberUnknown) {\n         params.cell_phone_number = \"Unknown\"; \n        }\n        params.cell_phone_number = this.updatedguardianNumber;\n      }\n\n      if (Object.keys(params).length > 0) {\n        let response;\n        if(!this.guardianID) {\n          let guardian = this.getBaseGuardian();\n          guardian.given_name = params.given_name;\n          guardian.family_name = params.family_name;\n          guardian.cell_phone_number = params.cell_phone_number;\n          response = await ApiClient.post('/people', guardian)\n          if (response.status === 201 || response.status === 200) {\n\n               response.json().then(data => {\n               const relationship = {\n              relationship_type_id: 13,\n              relation_id: data.person_id\n            };\n              ApiClient.post(`/people/${this.patientID}/relationships`, relationship).then(data => {\n                this.closeGuardianModal();\n              })\n              \n              \n              });\n            \n          } else {\n            console.log(\"Failed to update\");\n          } \n        }else {\n\n        response = await ApiClient.put(\n          `/people/${this.guardianID}`,\n          params\n        );\n        if (response.status === 201 || response.status === 200) {\n         this.closeGuardianModal(); \n        } else {\n          console.log(\"Failed to update\");\n        }\n        }\n        \n      } else {\n        this.$root.$emit(\"bv::hide::modal\", \"guardian-info-modal\", \"#btnShow\");\n      }\n    },\n    closeGuardianModal() {\n          this.showMessage(\"Successfully saved\");\n          if (this.guardianFirstName !== this.updatedguardianFirstName) {\n            this.guardianFirstName = this.updatedguardianFirstName;\n          }\n          if (this.guardianLastName !== this.updatedguardianLastName) {\n            this.guardianLastName = this.updatedguardianLastName;\n          }\n          if (this.updatedguardianNumber !== this.guardianNumber) {\n            this.guardianNumber = this.updatedguardianNumber;\n          }\n          this.$root.$emit(\n            \"bv::hide::modal\",\n            \"guardian-info-modal\",\n            \"#btnShow\"\n          );\n    },\n    redirect: function(url) {\n      this.$router.push(url);\n    }, \n    parseObs: function(startDate) {\n      this.obs.forEach(value => {\n        this.createOb(value, this, startDate);\n      });\n    },\n    getStartDate: async function (){\n    this.$store.state.currentHeight = null;\n      let startDateSet = {\n          conceptID: 2516,\n          variableName: \"startDate\",\n          valueType: \"value_datetime\",\n          secondType: \"value_text\",\n          format: false\n        };\n\n      this.getObs(startDateSet).then(res => {\n        if(res.length > 0) {\n\n        this[startDateSet.variableName] = res[res.length - 1][startDateSet.valueType]\n              ? res[res.length - 1][startDateSet.valueType]\n              : res[res.length - 1][startDateSet.secondType];\n        this.parseObs(this[startDateSet.variableName]);\n        }else {\n\n          this.retrieveStarDate().then(orders => {\n              if(orders.length > 0) {\n                this[startDateSet.variableName] = orders[orders.length -1].order.start_date;\n                this.parseObs(this[startDateSet.variableName]);\n              }else {\n                this[startDateSet.variableName] = \"N/A\";\n                this.parseObs(null);\n              }\n          });\n        }\n      });\n    },\n    retrieveStarDate: async function() {\n      let url = `/patients/${this.$route.params.id}/drugs_orders_by_program?program_id=1`;\n      let observations = await ApiClient.get(url);\n      return await observations.json();\n    },\n    async setLatestVLResult (){\n      ApiClient\n        .get(`/lab/orders?patient_id=${this.patientID}`)\n        .then(res => res.json())\n        .then(orders => {\n          const results = orders.reduce((rs, order) => {\n            const r = order.tests.filter(t => t.name.match(/hiv/i) && t.result && t.result.length).map(t => t.result);\n            return rs.concat(r.reduce((a, c) => a.concat(c), []));\n          }, [])\n          .sort((a, b) => new Date(a.date) > new Date(b.date) ? -1 : 1);\n          this.latestVLResult = !results.length \n            ? '' \n            : `${results[0].value_modifier}${results[0].value} (${date_utils.localDate(results[0].date)})`;\n        })\n        .catch(e => console.log(e))\n    },\n    /**\n     * Clear all cached patient data in global state.\n     */\n    clearStore() {\n      this.$store.commit('setInitialRegistration', {});\n      this.$store.commit('setInitialVitals', {});\n      this.$store.commit('setInitialStaging', {});\n    }\n  },\n  mounted() {\n    this.getPrefix();\n    this.clearStore(); \n    this.patientID = this.$route.params.id;\n    this.setLatestVLResult();\n    this.getPatient().then(patient => {\n      this.name = `${patient[\"person\"].names[0].given_name} ${patient.person.names[0].family_name}`;\n      this.firstName = patient[\"person\"].names[0].given_name;\n      this.lastName = patient[\"person\"].names[0].family_name;\n      this.dob = patient.person.birthdate;\n      this.updatedDOB = patient.person.birthdate;\n      this.age = ` ${moment(patient.person.birthdate).format(\"DD-MMM-YYYY\")}`;\n      let identifier = patient.patient_identifiers.filter(function(entry) {\n        return entry.type.name === \"ARV Number\";\n      });\n      this.arvNumber = identifier.length > 0 ? identifier[0].identifier : \"N/A\";\n      this.sex = patient.person.gender;\n      this.updatedSex = patient.person.gender;\n      this.location =\n        patient.person.addresses.length > 0\n          ? patient.person.addresses[0].city_village\n          : \"\";\n      this.landmark = this.getAtribute(patient.person.person_attributes, 19);\n      this.updatedAddress = this.getAtribute(\n        patient.person.person_attributes,\n        19\n      );\n      this.occupation = this.getAtribute(patient.person.person_attributes, 13);\n      this.phoneNumber = this.getAtribute(patient.person.person_attributes, 12);\n      this.updatedPhoneNumber = this.getAtribute(\n        patient.person.person_attributes,\n        12\n      );\n      if(this.phoneNumber === \"Unknown\") {\n        this.phoneNumberUnknown = true;\n      }\n      let personObj = {\n        name: this.name,\n        dob: patient.person.birthdate,\n        age: moment().diff(patient.person.birthdate, \"years\", false),\n        arvNumber: this.arvNumber,\n        sex: this.sex\n      };\n      this.$store.commit(\"setPatient\", personObj);\n    });\n    \n    this.getGuardian();\n    this.getStartDate();\n    EventBus.$on('reload-first-visits', payload => {\n      this.getStartDate();\n    });\n   \n  },\n  computed: {\n    initialAge() {\n      let initAge = \"N/A\";\n      if (this.startDate !== \"N/A\") {\n        initAge = moment(this.startDate).diff(this.dob, \"years\", false);\n      }\n      return initAge;\n    }, \n    parseStartDate() {\n      let dateofStarting = null;\n      if(this.startDate !== \"N/A\" && this.startDate !== null) {\n        dateofStarting = moment(this.startDate).format(\"DD-MMM-YYYY\");\n      }else {\n        dateofStarting = \"N/A\";\n      }\n      return dateofStarting;\n    },numberState() {\n      let state = true;\n      if(!this.phoneNumberUnknown) {\n        state =  `${this.updatedPhoneNumber}`.match(numberRegex) === null ? false : true ;\n      }\n      return state;\n    }, inputType: function() {\n      let type = \"number\";\n      if(this.phoneNumberUnknown) {\n        type = \"text\";\n        this.updatedPhoneNumber = \"Unknown\";\n      }else {\n        if(this.phoneNumber === \"Unknown\") {\n          this.updatedPhoneNumber = null;\n        }else {\n          this.updatedPhoneNumber = this.phoneNumber;\n        }\n      }\n      \n      return type;\n    },guardianNumberState() {\n      let state = true;\n      if(!this.guardianphoneNumberUnknown) {\n        state =  `${this.updatedguardianNumber}`.match(numberRegex) === null ? false : true ;\n      }\n      return state;\n    }, guardianinputType: function() {\n      let type = \"number\";\n      if(this.guardianphoneNumberUnknown) {\n        type = \"text\";\n        this.updatedguardianNumber = \"Unknown\";\n      }else {\n        if(this.guardianphoneNumber === \"Unknown\") {\n          this.updatedguardianNumber = null;\n        }else {\n          this.updatedguardianNumber = this.guardianNumber;\n        }\n      }\n      \n      return type;\n    }\n  },\n  watch: {\n     startDate: {\n     handler(val){\n      EventBus.$emit(\"set-start-date\", this.startDate);\n     },\n     deep: true\n  }\n  }\n};\n</script>\n\n<style scoped>\n.information {\n  color: #62676e;\n  /* mix-blend-mode: difference; */\n}\n.editable{\n  \n  color: #537fb5;\n}\n.col-md-3 {\n  border: 0.5px black solid;\n  border-radius: 2px;\n  line-height: 20px;\n  font-size: 15px;\n  background-color: #f6f6f6;\n  text-align: left;\n  padding: 3px;\n  /* margin: auto; */\n  /* font-family: 'Avenir', Helvetica, Arial, sans-serif; */\n  /* padding: 10px; */\n}\n.horizontal-list {\n      display: inline-block;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientInformation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PatientInformation.vue?vue&type=template&id=2f42d51c&scoped=true&\"\nimport script from \"./PatientInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./PatientInformation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PatientInformation.vue?vue&type=style&index=0&id=2f42d51c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f42d51c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('table',{staticClass:\"table table-dark\"},[_vm._m(0),_c('tbody',_vm._l((_vm.patientVisits),function(visit,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(_vm.moment(visit.visitDate).format(\"DD-MMM-YYYY\"))+\" (\"+_vm._s(Math.round(_vm.moment(visit.visitDate).diff(_vm.moment(_vm.startDate), 'months', true)))+\"M)\")]),_c('td',[_vm._v(_vm._s(visit.givenTo))]),_c('td',[_vm._v(_vm._s(visit.weight))]),_c('td',[_vm._v(_vm._s(visit.height))]),_c('td',[_vm._v(_vm._s(visit.pregnant))]),_c('td',[_vm._v(_vm._s(visit.breastfeeding))]),_c('td',[_vm._v(_vm._s(visit.tbStatus))]),_c('td',[_vm._v(_vm._s(visit.sideEffects))]),_c('td',[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){return _vm.loadVisitDrugs(visit)}}},[_vm._v(\" \"+_vm._s(visit.ARTRegimen)+\" (\"+_vm._s(visit.dispensed)+\") \")])]),_c('td',[_vm._v(_vm._s(visit.nextAppointment))]),_c('td',[_vm._v(_vm._s(visit.outcome))]),_c('td',[_vm._v(_vm._s(visit.viralLoad))]),_c('td',[_c('click-confirm',{attrs:{\"disabled\":visit.encounters.length === 0}},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":visit.encounters.length === 0},on:{\"click\":function($event){return _vm.deleteVisit(index, visit.encounters)}}},[(visit.state === 'deleting')?[_c('span',{staticClass:\"spinner-border spinner-border-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]:[_c('span',[_vm._v(\"X\")])]],2)])],1)])}),0)]),_c('b-modal',{attrs:{\"id\":\"visit-drugs\",\"title\":(\"Drugs dispensed on \" + (_vm.moment(_vm.selectedVisit.visitDate).format('DD/MMM/YYYY'))),\"size\":\"xl\"}},[(_vm.isLoadingDrugs)?_c('center',[_vm._v(\" Please wait...\")]):_vm._e(),(!_vm.isLoadingDrugs)?_c('table',{staticClass:\"table\"},[_c('tr',[_c('th',[_vm._v(\"Drug\")]),_c('th',[_vm._v(\"Quantity\")]),_c('th',[_vm._v(\"Units\")])]),_vm._l((_vm.visitDrugs),function(order,dIndex){return _c('tr',{key:dIndex},[_c('td',[_vm._v(\" \"+_vm._s(order.drug.name)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(order.quantity))]),_c('td',[_vm._v(\" \"+_vm._s(order.units))])])})],2):_vm._e()],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Visit Date\")]),_c('th',[_vm._v(\"Given To\")]),_c('th',[_vm._v(\"Weight\")]),_c('th',[_vm._v(\"Height\")]),_c('th',[_vm._v(\"Preg\")]),_c('th',[_vm._v(\"B/F\")]),_c('th',[_vm._v(\"TB status\")]),_c('th',[_vm._v(\"Side Effects\")]),_c('th',[_vm._v(\"ART Regimen\")]),_c('th',[_vm._v(\"Next Appointment\")]),_c('th',[_vm._v(\"Outcome\")]),_c('th',[_vm._v(\"Viral Load\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"width:100%\">\n    <table class=\"table table-dark\">\n      <thead>\n        <tr>\n          <th>Visit Date</th>\n          <th>Given To</th>\n          <th>Weight</th>\n          <th>Height</th>\n          <th>Preg</th>\n          <th>B/F</th>\n          <th>TB status</th>\n          <th>Side Effects</th>\n          <th>ART Regimen</th>\n          <th>Next Appointment</th>\n          <th>Outcome</th>\n          <th>Viral Load</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(visit, index) in patientVisits\" :key=\"index\">\n          <td>{{moment(visit.visitDate).format(\"DD-MMM-YYYY\")}} ({{Math.round(moment(visit.visitDate).diff(moment(startDate), 'months', true))}}M)</td>\n          <td>{{visit.givenTo}}</td>\n          <td>{{visit.weight}}</td>\n          <td>{{visit.height}}</td>\n          <td>{{visit.pregnant}}</td>\n          <td>{{visit.breastfeeding}}</td>\n          <td>{{visit.tbStatus}}</td>\n          <td>{{visit.sideEffects}}</td>\n          <td>\n            <button style=\"width:100%\" class=\"btn btn-primary\" @click=\"loadVisitDrugs(visit)\"> \n              {{visit.ARTRegimen}} ({{visit.dispensed}})\n            </button>\n          </td>\n          <td>{{visit.nextAppointment}}</td>\n          <td>{{visit.outcome}}</td>\n          <td>{{visit.viralLoad}}</td>\n          <td>\n            <click-confirm :disabled=\"visit.encounters.length === 0\">\n            <button class=\"btn btn-danger\" @click=\"deleteVisit(index, visit.encounters)\" :disabled=\"visit.encounters.length === 0\">\n              <template v-if=\"visit.state === 'deleting'\">\n                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                <span class=\"sr-only\">Loading...</span>\n              </template>\n              <template v-else>\n                <span>X</span>\n              </template>\n            </button>\n            </click-confirm>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <b-modal id=\"visit-drugs\" :title=\"`Drugs dispensed on ${moment(selectedVisit.visitDate).format('DD/MMM/YYYY')}`\" size=\"xl\">\n      <center v-if=\"isLoadingDrugs\"> Please wait...</center>\n      <table class=\"table\" v-if=\"!isLoadingDrugs\"> \n        <tr> \n          <th>Drug</th>\n          <th>Quantity</th>\n          <th>Units</th>\n        </tr>\n        <tr v-for=\"(order, dIndex) in visitDrugs\" :key=\"dIndex\"> \n          <td> {{order.drug.name}} </td>\n          <td> {{order.quantity}}</td>\n          <td> {{order.units}}</td>\n        </tr>\n      </table>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport ApiClient from \"../services/api_client\";\nimport EventBus from \"../services/event-bus.js\";\nimport moment from \"moment\";\nexport default {\n  data: function() {\n    return {\n      isLoadingDrugs: false,\n      selectedVisit: '',\n      patientVisits: [],\n      startDate: null,\n      visitDrugs: [],\n      mockOBJ: {\n        visitDate: null,\n        givenTo: null,\n        weight: null,\n        height: null,\n        sideEffects: null,\n        ARTRegimen: null,\n        nextAppointment: null,\n        viralLoad: null,\n        outcoume: null,\n        encounters: [],\n        state: null,\n        tbStatus: null,\n        pregnant: null,\n        breastfeeding: null,\n        dispensed: null,\n        adherence: null\n      },\n      encountersToDelete: [],\n      obs: [\n        {\n          conceptID: 5089,\n          variableName: \"weight\",\n          valueType: \"value_numeric\",\n          secondType: \"value_text\"\n        },\n        {\n          conceptID: 5090,\n          variableName: \"height\",\n          valueType: \"value_numeric\",\n          secondType: \"value_text\"\n        },\n        {\n          conceptID: 5096,\n          variableName: \"nextAppointment\",\n          valueType: \"value_datetime\",\n          secondType: \"value_text\"\n        },\n        {\n          conceptID: 7459,\n          variableName: \"tbStatus\",\n          valueType: \"value_coded\",\n          secondType: \"value_text\",\n          conceptNames: {\n            7454: \"TB NOT suspected\",\n            7455: \"TB suspected\",\n            7456: \"Confirmed TB NOT on treatment\",\n            7458: \"Confirmed TB on treatment\"\n          }\n        },\n        {\n          conceptID: 856,\n          variableName: \"viralLoad\",\n          valueType: \"value_numeric\",\n          secondType: \"value_text\",\n          prepend: \"value_text\"\n        },\n        {\n          conceptID: 2540,\n          variableName: \"adherence\",\n          valueType: \"value_numeric\",\n          secondType: \"value_text\",\n        }\n      ]\n    };\n  },\n  methods: {\n    getVisits: async function() {\n      // let temp = [];\n      await ApiClient.get(`/patients/${this.$route.params.id}/visits?program_id=1&include_defaulter_dates=true`).then(\n        res => {\n          res.json().then(ret => {\n            this.setVisits(ret);\n          });\n        }\n      );\n    },\n    loadVisitDrugs(visit) {\n      this.isLoadingDrugs = true\n      this.selectedVisit = visit\n      this.$bvModal.show('visit-drugs')\n      ApiClient.get(`/drug_orders?patient_id=${this.$route.params.id}&program_id=1&start_date=${this.selectedVisit.visitDate}`)\n        .then(res => res.json().then(ret => {\n          this.isLoadingDrugs = false\n          this.visitDrugs = ret\n        })).catch((e) => {\n          alert(e)\n          this.isLoadingDrugs = false\n        })\n    },\n    deleteVisit: function(index, encounters) {\n      let itemsProcessed = encounters.length;\n      this.patientVisits[index].state = \"deleting\";\n      encounters.forEach(encounter=> {\n        this.removeEncounter(encounter).then(el => {\n          if(el.status == 204) {\n            itemsProcessed -= 1;\n            if(itemsProcessed === 0) {\n              this.patientVisits.splice(index, 1)\n              EventBus.$emit(\"reload-first-visits\", \"\");\n            }\n          }else {\n            console.log(\"not deleted\")\n          }\n        })\n      })\n      \n    },\n    getLastOrder: async function(encounterDate) {\n    let patientID = this.$route.params.id;\n    let response =  await ApiClient.get(`/programs/1/patients/${patientID}/last_drugs_received?date=`+encounterDate);\n    return await response.json();\n  },\n    removeEncounter: async function(encounter) {\n      let response = await ApiClient.remove('encounters/'+encounter);\n      return response;\n    },\n    setVisits: function(details){\n      let temp = [];\n      let encounters = [];\n      details.forEach(element => {\n               \n              temp.push({\n               visitDate: element,\n               encounters: this\n              });\n      });\n      this.createOb(temp);\n    },\n    getObs: async function(conceptSet, element) {\n\n      let url = `/observations?person_id=${this.$route.params.id}&&concept_id=${conceptSet.conceptID}&&obs_datetime=${element.visitDate}`;\n      url = conceptSet.params ? url + `&&` + conceptSet.params : url;\n      let observations = await ApiClient.get(url);\n      return await observations.json();\n    },\n    getEncounters: async function(date) {\n\n      let url = `/encounters?patient_id=${this.$route.params.id}&&date=${date}`;\n      let observations = await ApiClient.get(url);\n      return await observations.json();\n    },\n    getCurrentPatientInfo: async function(element) {\n      let url = `programs/1/patients/${this.$route.params.id}/visit?date=${element.visitDate}`;\n      let observations = await ApiClient.get(url);\n      return await observations.json();\n    },\n    getNextAppointMent: async function() {\n      let url = `programs/1/patients/${this.$route.params.id}/next_appointment_date`;\n      let observations = await ApiClient.get(url);\n      return await observations.json();\n    },\n    getConcept: async function(results) {\n      let concepts = await ApiClient.get(`/concepts/${results}`);\n      return await concepts.json();\n      \n    },\n    createOb: function(visits) {\n      let m = [];\n      visits.forEach(element => {\n        let tempob = {...this.mockOBJ};\n        tempob.visitDate = element.visitDate;\n        this.obs.forEach(innerElement => {\n        this.getObs(innerElement, element).then(res => {\n          if (res.length > 0) {\n            if (innerElement.returnValue) {\n              element.variableName = innerElement.returnValue;\n              \n            } else if (innerElement.subConcepts) {\n              res.forEach(ret => {\n                try {\n                    element.subConcepts[ret.value_coded].variableName = element.subConcepts[ret.value_coded].returnValue;\n                } catch (error) {}\n              });\n            } else {\n              \n              let val = res[res.length - 1][innerElement.valueType]\n                ? res[res.length - 1][innerElement.valueType]\n                : res[res.length - 1][innerElement.secondType];\n                  tempob[innerElement.variableName] = innerElement.valueType === \"value_datetime\"\n                  ? moment(val).format(\"DD-MMM-YYYY\")\n                  : val;\n              if (innerElement.valueType === \"value_coded\") {\n                if(innerElement.conceptNames) {\n                    tempob[innerElement.variableName] = innerElement.conceptNames[val]; \n                }else {\n                  this.getConcept(val).then(con => {\n                    tempob[innerElement.variableName] =  con.concept_names[0].name;\n                  });\n                }\n                \n                \n              }\n              if(innerElement.prepend) {\n                tempob[innerElement.variableName]= ((innerElement.conceptID === 856 && val === 1) ? \"LDL\" : res[res.length - 1][innerElement.prepend] + \" \" + val);\n              }\n            }\n          } else {\n            if (innerElement.backupConcept) {\n            }\n            if (innerElement.default) {\n              element.variableName = innerElement.default;\n            } else {\n              element[innerElement.variableName] = \"N/A\";\n            }\n          }\n        });\n        });\n        this.getCurrentPatientInfo(element).then(el=> {\n          element.ARTRegimen = el.regimen;\n          element.outcome = el.outcome;\n          tempob.ARTRegimen = el.regimen;\n          tempob.outcome = el.outcome;\n          el.visit_by = el.visit_by.replace(/Unk/ig, '');\n          element.givenTo = el.visit_by;\n          tempob.givenTo = el.visit_by;\n          tempob.viralLoad = el.viral_load;\n          if(el.pills_dispensed.length > 0) {\n                element.dispensed = el.pills_dispensed[0][1];            \n                tempob.dispensed = el.pills_dispensed[0][1];            \n              }\n\n        })\n        this.getObs({conceptID: 7755}, element).then(el=> {\n          let sideEffects = el.filter(function(curr, index) {\n            return el[index].children[0].value_coded == 1065;\n          }).length;\n          sideEffects = sideEffects === 0 ? \"No\" : \"Yes\";\n          element.sideEffects = sideEffects;\n          tempob.sideEffects = sideEffects;\n        })\n        this.getObs({conceptID: 6131, params: \"value_coded=1065\"}, element).then(el=> {\n          if(el.length > 0) {\n            element.pregnant = \"Yes\";\n            tempob.pregnant = \"Yes\";\n          }else {\n            element.pregnant = \"\";\n            tempob.pregnant = \"\";\n          }\n        })\n        this.getObs({conceptID: 7965, params: \"value_coded=1065\"}, element).then(el=> {\n          if(el.length > 0) {\n            element.breastfeeding = \"Yes\";\n            tempob.breastfeeding = \"Yes\";\n          }else {\n            tempob.breastfeeding = \"\";\n            element.breastfeeding = \"\";\n          }\n        })\n        this.getEncounters(element.visitDate).then(el => {\n            let j = [];\n            el.forEach(f => {\n              j.push(f.encounter_id);\n            })\n            tempob.encounters = [...j];\n        });\n        this.patientVisits.push(tempob);\n      });\n        \n        // this.setVisits(m);\n        // this.$forceUpdate();\n    },\n    returnConcept: async function() {\n      \n    }\n  },\n  mounted() {\n    this.getVisits();\n    EventBus.$on('reload-visits', payload => {\n      this.patientVisits = [];\n      this.encountersToDelete = [];\n      this.getVisits();\n    });\n    EventBus.$on('set-start-date', payload => {\n      this.startDate = payload;\n    });\n    // this.getEncounters('2020-02-24');\n  }\n};\n</script>\n\n<style scoped>\n  /* .available */\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisitData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisitData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VisitData.vue?vue&type=template&id=89871b68&scoped=true&\"\nimport script from \"./VisitData.vue?vue&type=script&lang=js&\"\nexport * from \"./VisitData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VisitData.vue?vue&type=style&index=0&id=89871b68&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89871b68\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":\"encounter-modal\",\"title\":\"encounter\",\"size\":\"xl\",\"no-close-on-backdrop\":\"\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.createEncounters}},[(_vm.posting === true)?[_c('span',{staticClass:\"spinner-border spinner-border-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]:[_c('span',[_vm._v(\"Save\")])]],2)]},proxy:true},{key:\"modal-header\",fn:function(ref){\nvar close = ref.close;\nreturn [_c('b-col',[_c('p',[_vm._v(\" New visit \")])]),_c('b-col',{attrs:{\"cols\":\"9\"}},[_c('b-form-datepicker',{staticClass:\"mb-2\",attrs:{\"id\":\"encounter-datepicker\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_c('b-col',{attrs:{\"cols\":\"1\"}},[_c('b-button',{on:{\"click\":function($event){return close()}}},[_vm._v(\" X \")])],1)]}}])},[_c('vitals',{ref:\"vitals\",on:{\"addEncounter\":_vm.addEncounter}}),_c('consultation',{ref:\"consultation\",on:{\"addEncounter\":_vm.addEncounter}}),_c('prescription',{ref:\"prescription\",attrs:{\"date\":_vm.date},on:{\"addEncounter\":_vm.addEncounter}}),_c('reception',{ref:\"reception\",on:{\"addEncounter\":_vm.addEncounter}}),_c('adherence',{ref:\"adherence\",attrs:{\"date\":_vm.date},on:{\"addEncounter\":_vm.addEncounter}}),_c('appointment',{ref:\"appointment\",attrs:{\"date\":_vm.date},on:{\"addEncounter\":_vm.addEncounter}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-col',[_c('div',[_c('div',{staticClass:\"row \"},[_c('div',{staticClass:\"col d-flex justify-content-start\"},[_c('p',[_vm._v(\"Drugs given to patient\")])]),_c('div',{staticClass:\"col\"},[_c('fieldset',[_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.patient.value_coded),expression:\"patient.value_coded\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"value\":\"1065\",\"name\":\"patient\",\"disabled\":_vm.hasWeight},domProps:{\"checked\":_vm._q(_vm.patient.value_coded,\"1065\")},on:{\"change\":function($event){return _vm.$set(_vm.patient, \"value_coded\", \"1065\")}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"inlineRadio1\"}},[_vm._v(\"Yes\")])]),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.patient.value_coded),expression:\"patient.value_coded\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"value\":\"1066\",\"name\":\"patient\",\"disabled\":_vm.hasWeight},domProps:{\"checked\":_vm._q(_vm.patient.value_coded,\"1066\")},on:{\"change\":function($event){return _vm.$set(_vm.patient, \"value_coded\", \"1066\")}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"inlineRadio2\"}},[_vm._v(\"No\")])])])]),_c('div',{staticClass:\"col d-flex justify-content-start\"},[_c('p',[_vm._v(\"Drugs given to guardian\")])]),_c('div',{staticClass:\"col\"},[_c('fieldset',[_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.guardian.value_coded),expression:\"guardian.value_coded\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"value\":\"1065\",\"name\":\"guardian\",\"disabled\":_vm.hasWeight},domProps:{\"checked\":_vm._q(_vm.guardian.value_coded,\"1065\")},on:{\"change\":function($event){return _vm.$set(_vm.guardian, \"value_coded\", \"1065\")}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"inlineRadio1\"}},[_vm._v(\"Yes\")])]),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.guardian.value_coded),expression:\"guardian.value_coded\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"value\":\"1066\",\"name\":\"guardian\",\"disabled\":_vm.hasWeight},domProps:{\"checked\":_vm._q(_vm.guardian.value_coded,\"1066\")},on:{\"change\":function($event){return _vm.$set(_vm.guardian, \"value_coded\", \"1066\")}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"inlineRadio2\"}},[_vm._v(\"No\")])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<b-col>\n  <div>\n    <div class=\"row \">\n      <div class=\"col d-flex justify-content-start\">\n        <p>Drugs given to patient</p>\n      </div>\n      <div class=\"col\">\n        <fieldset>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              value=\"1065\"\n              name=\"patient\"\n              v-model=\"patient.value_coded\"\n              :disabled=\"hasWeight\"\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio1\">Yes</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              value=\"1066\"\n              name=\"patient\"\n              v-model=\"patient.value_coded\"\n              :disabled=\"hasWeight\"\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio2\">No</label>\n          </div>\n        </fieldset>\n      </div>\n      <div class=\"col d-flex justify-content-start\">\n        <p>Drugs given to guardian</p>\n      </div>\n      <div class=\"col\">\n        <fieldset>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              value=\"1065\"\n              name=\"guardian\"\n              v-model=\"guardian.value_coded\"\n              :disabled=\"hasWeight\"\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio1\">Yes</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              value=\"1066\"\n              name=\"guardian\"\n              v-model=\"guardian.value_coded\"\n              :disabled=\"hasWeight\"\n            />\n\n            <label class=\"form-check-label\" for=\"inlineRadio2\">No</label>\n          </div>\n        </fieldset>\n      </div>\n    </div>\n  </div>\n</b-col>\n</template>\n\n<script>\nimport EventBus from \"@/services/event-bus.js\";\nexport default {\n  data: function() {\n    return {\n      patient: {\n        value_coded: null,\n        concept_id: 1805 \n      },\n      guardian: {\n        value_coded: null,\n        concept_id: 2122\n      }, \n      hasWeight: false,\n    };\n  },\n  methods: {\n    saveEncounter: function() {\n      let encounterObject = {\n        reception: {\n          encounter_id: 51,\n          obs: {\n            patient: this.patient,\n            guardian: this.guardian\n          }\n        }\n      };\n      this.$emit(\"addEncounter\", encounterObject);\n    }, \n    setPresent: function() {\n    if(this.patient.value_coded === \"1066\") {\n      this.guardian.value_coded = \"1065\";\n    }\n    else if(this.patient.value_coded === \"1065\"){\n\n      this.guardian.value_coded = \"1066\";\n    }\n    else if(this.guardian.value_coded === \"1066\") {\n      this.patient.value_coded = \"1065\";\n    }\n    else if(this.guardian.value_coded === \"1065\"){\n\n      this.patient.value_coded = \"1066\";\n    }\n    EventBus.$emit('set-present', this.patient.value_coded);\n  }\n  }, \n  watch: {\n    patient: {\n     handler(val){\n       this.setPresent();\n     },\n     deep: true\n    },\n    guardian: {\n     handler(val){\n       this.setPresent();\n     },\n     deep: true\n    }\n  }, mounted() {\n    EventBus.$on('set-weight', payload => {\n      if(payload !== null && payload !==  \"\" && payload !== 0) {\n         this.patient.value_coded = \"1065\";\n         this.guardian.value_coded = \"1066\";\n         this.hasWeight = true;\n       }else {\n        this.patient.value_coded = null;\n        this.guardian.value_coded = null;\n         this.hasWeight = false;\n       }\n    \n    });\n  }\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reception.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reception.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reception.vue?vue&type=template&id=1ef0627a&\"\nimport script from \"./reception.vue?vue&type=script&lang=js&\"\nexport * from \"./reception.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-col',[_c('label',{attrs:{\"for\":\"appointment-datepicker\"}},[_vm._v(\"Choose an appointment date\")]),_c('b-form-datepicker',{staticClass:\"mb-2\",attrs:{\"id\":\"appointment-datepicker\",\"min\":_vm.date,\"max\":_vm.earliestExpiry},model:{value:(_vm.appointmentdate.value_datetime),callback:function ($$v) {_vm.$set(_vm.appointmentdate, \"value_datetime\", $$v)},expression:\"appointmentdate.value_datetime\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- <input type=\"date\" class=\"form-control\" name=\"\" id=\"\" v-model=\"date.value_datetime\"> -->\n  <b-row>\n    <b-col>\n\n  <label for=\"appointment-datepicker\">Choose an appointment date</label>\n  <b-form-datepicker  id=\"appointment-datepicker\" class=\"mb-2\" v-model=\"appointmentdate.value_datetime\" :min=\"date\" :max=\"earliestExpiry\"></b-form-datepicker>\n    </b-col>\n  </b-row>\n</template>\n\n<script>\nimport EventBus from \"@/services/event-bus.js\";\nimport moment from \"moment\";\nexport default {\nprops: [\"date\"],\ndata: function() {\n    return {\n\n      appointmentdate: {\n        value_datetime: null,\n        concept_id: 5096\n      },\n      prescribed_drugs: 0,\n      remaining_drugs: 0,\n    }\n},\nmethods: {\n  saveEncounter: function() {\n    let encounterObject = {\n      hiv_staging: {\n        encounter_id: 7,\n        obs: {\n          date: this.appointmentdate,\n        }\n      }\n    }\n    this.$emit('addEncounter', encounterObject);\n  }\n},\n    mounted() {\n    EventBus.$on('earliest-expiry-date', payload => {\n      this.prescribed_drugs = payload;\n    });\n    EventBus.$on('drugs-remaining', payload => {\n      this.remaining_drugs = payload;\n    });\n  },\n  \n  computed: {\n    earliestExpiry() {\n      let earliestExpiry = moment(this.date).add((this.prescribed_drugs + this.remaining_drugs), 'days').format(\"YYYY-MM-DD\");\n      return earliestExpiry;\n    }\n  }\n\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appointment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appointment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./appointment.vue?vue&type=template&id=4ee1ccd0&\"\nimport script from \"./appointment.vue?vue&type=script&lang=js&\"\nexport * from \"./appointment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('b-row',[(_vm.isFemale)?_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Pregnant\"}},[_c('b-form-radio',{attrs:{\"name\":\"pregnant-radios\",\"value\":\"1065\",\"inline\":\"\"},model:{value:(_vm.pregnant.value_coded),callback:function ($$v) {_vm.$set(_vm.pregnant, \"value_coded\", $$v)},expression:\"pregnant.value_coded\"}},[_vm._v(\"Yes\")]),_c('b-form-radio',{attrs:{\"name\":\"pregnant-radios\",\"value\":\"1066\",\"inline\":\"\"},model:{value:(_vm.pregnant.value_coded),callback:function ($$v) {_vm.$set(_vm.pregnant, \"value_coded\", $$v)},expression:\"pregnant.value_coded\"}},[_vm._v(\"No\")])],1)],1):_vm._e(),(_vm.isFemale)?_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Breastfeeding\"}},[_c('b-form-radio',{attrs:{\"name\":\"breastfeeding-radios\",\"value\":\"1065\",\"inline\":\"\"},model:{value:(_vm.breastFeeding.value_coded),callback:function ($$v) {_vm.$set(_vm.breastFeeding, \"value_coded\", $$v)},expression:\"breastFeeding.value_coded\"}},[_vm._v(\"Yes\")]),_c('b-form-radio',{attrs:{\"name\":\"breastfeeding-radios\",\"value\":\"1066\",\"inline\":\"\"},model:{value:(_vm.breastFeeding.value_coded),callback:function ($$v) {_vm.$set(_vm.breastFeeding, \"value_coded\", $$v)},expression:\"breastFeeding.value_coded\"}},[_vm._v(\"No\")])],1)],1):_vm._e(),_c('b-col',[_c('b-form-select',{attrs:{\"options\":_vm.tb_status},model:{value:(_vm.currentStatus),callback:function ($$v) {_vm.currentStatus=$$v},expression:\"currentStatus\"}})],1),_c('b-col',[_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\"},model:{value:(_vm.hasSE),callback:function ($$v) {_vm.hasSE=$$v},expression:\"hasSE\"}},[_vm._v(\"Has Side Effects / Contraindications?\")]),_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"collapse-1\"},model:{value:(_vm.hasSE),callback:function ($$v) {_vm.hasSE=$$v},expression:\"hasSE\"}},[_c('b-card',[_c('b-form-group',{attrs:{\"label\":\"Side Effects:\"}},[_c('b-form-checkbox-group',{attrs:{\"id\":\"checkbox-group-1\",\"options\":_vm.sideEffects,\"name\":\"flavour-1\"},model:{value:(_vm.sides),callback:function ($$v) {_vm.sides=$$v},expression:\"sides\"}})],1),_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\"},model:{value:(_vm.otherSE),callback:function ($$v) {_vm.otherSE=$$v},expression:\"otherSE\"}},[_vm._v(\"Other\")]),_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"collapse-1-inner\"},model:{value:(_vm.otherSE),callback:function ($$v) {_vm.otherSE=$$v},expression:\"otherSE\"}},[_c('b-card',[_c('b-form-checkbox-group',{attrs:{\"options\":_vm.otherSideEffects},model:{value:(_vm.otherSides),callback:function ($$v) {_vm.otherSides=$$v},expression:\"otherSides\"}})],1)],1)],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div>\n      <b-row>\n        <b-col v-if=\"isFemale\">\n          <b-form-group label=\"Pregnant\" >\n            <b-form-radio\n              v-model=\"pregnant.value_coded\"\n              name=\"pregnant-radios\"\n              value=\"1065\"\n              inline\n            >Yes</b-form-radio>\n            <b-form-radio\n              v-model=\"pregnant.value_coded\"\n              name=\"pregnant-radios\"\n              value=\"1066\"\n              inline\n            >No</b-form-radio>\n          </b-form-group>\n        </b-col>\n        <b-col v-if=\"isFemale\">\n          <b-form-group label=\"Breastfeeding\">\n            <b-form-radio\n              v-model=\"breastFeeding.value_coded\"\n              name=\"breastfeeding-radios\"\n              value=\"1065\"\n              inline\n            >Yes</b-form-radio>\n            <b-form-radio\n              v-model=\"breastFeeding.value_coded\"\n              name=\"breastfeeding-radios\"\n              value=\"1066\"\n              inline\n            >No</b-form-radio>\n          </b-form-group>\n        </b-col>\n      \n        <b-col>\n          <b-form-select v-model=\"currentStatus\" :options=\"tb_status\"></b-form-select>\n        </b-col>\n\n        <b-col>\n          <b-form-checkbox\n            v-model=\"hasSE\"\n            name=\"check-button\"\n            switch\n          >Has Side Effects / Contraindications?</b-form-checkbox>\n\n          <b-collapse id=\"collapse-1\" class=\"mt-2\" v-model=\"hasSE\">\n            <b-card>\n              <b-form-group label=\"Side Effects:\">\n                <b-form-checkbox-group\n                  id=\"checkbox-group-1\"\n                  v-model=\"sides\"\n                  :options=\"sideEffects\"\n                  name=\"flavour-1\"\n                ></b-form-checkbox-group>\n              </b-form-group>\n              <b-form-checkbox v-model=\"otherSE\" name=\"check-button\" switch>Other</b-form-checkbox>\n              <b-collapse id=\"collapse-1-inner\" class=\"mt-2\" v-model=\"otherSE\">\n                <b-card>\n                  <b-form-checkbox-group v-model=\"otherSides\" :options=\"otherSideEffects\"></b-form-checkbox-group>\n                </b-card>\n              </b-collapse>\n            </b-card>\n          </b-collapse>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport EventBus from \"../../services/event-bus.js\";\nexport default {\n  data: function() {\n    return {\n      gender: null,\n      pregnant: {\n        value_coded: null,\n        concept_id: 6131\n      },\n      breastFeeding: {\n        value_coded: null,\n        concept_id: 7965\n      },\n      onTb: {\n        value_coded: null,\n        concept_id: 2690\n      },\n      currentStatus: null,\n      fpm: {\n        \"Oral contraceptive pills\": 780,\n        \"Depo-Provera\": 907,\n        \"Intrauterine device/loop\": 5275,\n        Implant: 7857,\n        \"Male condoms\": 7858,\n        \"Female condoms\": 7859,\n        \"Tubal ligation\": 1719,\n        \"None of the above\": 1107\n      },\n      tb_status: [\n        { value: null, text: 'TB Status' },\n        { value: 7454, text: 'TB Not Suspected' },\n        { value: 7455, text: 'TB Suspected' },\n        { value: 7456, text: 'Confirmed TB Not on treatment' },\n        { value: 7458, text: 'Confirmed TB on treatment' },\n      ],\n      drugs: {\n        ARVs: 1085,\n        CPT: 916,\n        IPT: 656\n      },\n      tbSymptoms: {\n        \"cough of any duration\": 8261,\n        fever: 5945,\n        \"night sweats\": 6029,\n        \"Weight loss / Failure to thrive / malnutritionweight loss\": 8260\n      },\n      sideEffects: [\n        { text: \"peripheral neuropaphy\", value: 821 },\n        { text: \"jaundince\", value: 215 },\n        { text: \"lipodostrophy\", value: 2148 },\n        { text: \"kidney failure\", value: 9242 },\n        { text: \"psychosis\", value: 219 },\n        { text: \"gynaecomastia\", value: 9440 },\n        { text: \"anemia\", value: 3 },\n        { text: \"skin rash\", value: 512 },\n        { text: \"insomnia\", value: 867 }\n      ],\n      otherSideEffects: [\n        { text: \"fever\", value: 5945 },\n        { text: \"vomiting\", value: 5980 },\n        { text: \"dizziness\", value: 877 },\n        { text: \"headache\", value: 620 },\n        { text: \"nausea\", value: 5978 },\n        { text: \"weight loss\", value: 8260 },\n        { text: \"lactic acidosis\", value: 1458 },\n        { text: \"cough\", value: 107 }\n      ],\n      prescribedFPM: [],\n      currentFPM: [],\n      sides: [],\n      otherSides: [],\n      tbSymps: [],\n      drugsToPrescribe: [],\n      onFP: false,\n      prescribeFP: false,\n      hasSE: false,\n      otherSE: false,\n      hasTBSymps: false,\n      statusTB: null\n    };\n  },\n  computed: {\n    isFemale() {\n      return this.$store.state.patient.sex === \"F\" ? true : false;\n    }\n  },\n  methods: {\n    saveEncounter: function() {\n      let encounterObject = {\n        consultation: {\n          encounter_id: 53,\n          obs: {\n            tb: {\n              value_coded: this.currentStatus,\n              concept_id: 7459\n            }\n          }\n        }\n      };\n      if (this.isFemale) {\n        encounterObject.consultation.obs.pregnant = this.pregnant;\n        encounterObject.consultation.obs.breastFeeding = this.breastFeeding;\n        encounterObject.consultation.obs.onFP = {\n          concept_id: 1717,\n          value_coded: 1066\n        };\n        Object.keys(this.fpm).forEach(el => {\n          encounterObject.consultation.obs[`pres` + el] = {\n            concept_id: this.fpm[el],\n            value_coded: this.getCoded(this.prescribedFPM, this.fpm[el])\n          };\n        });\n        Object.keys(this.fpm).forEach(el => {\n          encounterObject.consultation.obs[`curr` + el] = {\n            concept_id: this.fpm[el],\n            value_coded: this.getCoded(this.currentFPM, this.fpm[el])\n          };\n        });\n        if (this.onFP) {\n          encounterObject.consultation.obs.onFP.value_coded = 1065;\n        }\n      }\n      this.sideEffects.forEach(el => {\n        encounterObject.consultation.obs[el.text] = {\n          concept_id: 7755,\n          value_coded: el.value,\n          child: {\n            concept_id: el.value,\n            value_coded: this.getCoded(this.sides, el.value)\n          }\n        };\n      });\n      if (this.otherSE) {\n        this.otherSideEffects.forEach(el => {\n          encounterObject.consultation.obs[el.text] = {\n            concept_id: 7951,\n            value_coded: el.value,\n            child: {\n              concept_id: el.value,\n              value_coded: this.getCoded(this.otherSides, el.value)\n            }\n          };\n        });\n      }\n      Object.keys(this.tbSymptoms).forEach(el => {\n        encounterObject.consultation.obs[el] = {\n          concept_id: this.tbSymptoms[el],\n          value_coded: this.tbSymptoms[el],\n          child: {\n            concept_id: this.tbSymptoms[el],\n            value_coded: this.getCoded(this.tbSymps, this.tbSymptoms[el])\n          }\n        };\n      });\n      this.drugsToPrescribe.forEach(el => {\n        encounterObject.consultation.obs[el] = {\n          concept_id: 1282,\n          value_coded: el\n        };\n      });\n      this.$emit(\"addEncounter\", encounterObject);\n    },\n    getCoded: function(parentArray, val) {\n      return parentArray.includes(val) ? 1065 : 1066;\n    }\n  },\n  watch: {\n    currentStatus: {\n      handler(val) {\n        if([7455, 7456, 7458].includes(val)) {\n          EventBus.$emit(\"set-tb\", true);\n        }else {\n\n          EventBus.$emit(\"set-tb\", false);\n        }\n      },\n      deep: true\n    }\n  }\n};\n</script>\n\n<style scoped>\n.col-md-4 {\n  text-align: left;\n}\n.container-fluid {\n  padding-left: 0px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./consultation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./consultation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./consultation.vue?vue&type=template&id=06aa17ed&scoped=true&\"\nimport script from \"./consultation.vue?vue&type=script&lang=js&\"\nexport * from \"./consultation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./consultation.vue?vue&type=style&index=0&id=06aa17ed&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06aa17ed\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{attrs:{\"for\":\"inputState\"}},[_vm._v(\"Regimen\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedRegimen),expression:\"selectedRegimen\"}],staticClass:\"form-control\",attrs:{\"id\":\"inputState\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedRegimen=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.regimens),function(regimen,index){return _c('option',{key:index},[_vm._v(_vm._s(index))])}),0)]),_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{attrs:{\"for\":\"ARV-quantity\"}},[_vm._v(\"Quantity\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ARVquantity),expression:\"ARVquantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"ARV-quantity\"},domProps:{\"value\":(_vm.ARVquantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ARVquantity=$event.target.value}}})])])]),_c('b-col',[_c('label',{attrs:{\"for\":\"CPT-quantity\"}},[_vm._v(\"CPT Quantity\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.CPTquantity),expression:\"CPTquantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"CPT-quantity\"},domProps:{\"value\":(_vm.CPTquantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.CPTquantity=$event.target.value}}})]),_c('b-col',[_c('label',[_vm._v(\"TB Meds\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected3HPOption),expression:\"selected3HPOption\"}],staticClass:\"form-control\",attrs:{\"id\":\"inputState\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected3HPOption=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',[_vm._v(\"6H\")]),_c('option',[_vm._v(\"3HP (RFP + INH)\")]),_c('option',[_vm._v(\"3HP (INH 300 / RFP 300)\")])])])],1),_c('b-row',[(['6H', '3HP (RFP + INH)'].includes(_vm.selected3HPOption))?_c('b-col',[_c('label',{attrs:{\"for\":\"IPT-quantity\"}},[_vm._v(\"IPT Quantity\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.IPTquantity),expression:\"IPTquantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"IPT-quantity\"},domProps:{\"value\":(_vm.IPTquantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.IPTquantity=$event.target.value}}})]):_vm._e(),(_vm.selected3HPOption === '3HP (RFP + INH)')?_c('b-col',[_c('label',[_vm._v(\"RFP Quantity\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.RFPquantity),expression:\"RFPquantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"IPT-quantity\"},domProps:{\"value\":(_vm.RFPquantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.RFPquantity=$event.target.value}}})]):_vm._e(),(_vm.selected3HPOption === '3HP (INH 300 / RFP 300)')?_c('b-col',[_c('label',{attrs:{\"for\":\"3HP-quantity\"}},[_vm._v(\"3HP Quantity\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.threeHPquantity),expression:\"threeHPquantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"IPT-quantity\"},domProps:{\"value\":(_vm.threeHPquantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.threeHPquantity=$event.target.value}}})]):_vm._e(),(_vm.selected3HPOption)?_c('b-col',[_c('label',{attrs:{\"for\":\"pyridoxine-quantity\"}},[_vm._v(\"Pyridoxine Quantity\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pyridoxineQuantity),expression:\"pyridoxineQuantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"pyridoxine-quantity\"},domProps:{\"value\":(_vm.pyridoxineQuantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pyridoxineQuantity=$event.target.value}}})]):_vm._e()],1),_c('p')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-row>\n      <b-col cols=\"6\">\n\n      <div class=\"form-row\" >\n        <div class=\"form-group col-md-6\">\n          <label for=\"inputState\">Regimen</label>\n          <select\n            id=\"inputState\"\n            class=\"form-control\"\n            v-model=\"selectedRegimen\"\n          >\n            <option v-for=\"(regimen, index) in regimens\" :key=\"index\">{{index}}</option>\n          </select>\n        </div>\n        <div class=\"form-group col-md-6\">\n          <label for=\"ARV-quantity\">Quantity</label>\n          <input type=\"number\" class=\"form-control\" id=\"ARV-quantity\" v-model=\"ARVquantity\" />\n        </div>\n      </div>\n      </b-col>\n      <b-col>\n        <label for=\"CPT-quantity\">CPT Quantity</label>\n        <input type=\"number\" class=\"form-control\" id=\"CPT-quantity\" v-model=\"CPTquantity\" />\n      </b-col>\n      <b-col> \n        <label>TB Meds</label>\n        <select id=\"inputState\" class=\"form-control\" v-model=\"selected3HPOption\"> \n          <option>6H</option>\n          <option>3HP (RFP + INH)</option>\n          <option>3HP (INH 300 / RFP 300)</option>\n        </select>\n      </b-col>\n    </b-row>\n    <b-row>\n      <b-col v-if=\"['6H', '3HP (RFP + INH)'].includes(selected3HPOption)\">\n        <label for=\"IPT-quantity\">IPT Quantity</label>\n        <input type=\"number\" class=\"form-control\" id=\"IPT-quantity\" v-model=\"IPTquantity\" />\n      </b-col>\n      <b-col v-if=\"selected3HPOption === '3HP (RFP + INH)'\"> \n        <label>RFP Quantity</label>\n        <input type=\"number\" class=\"form-control\" id=\"IPT-quantity\" v-model=\"RFPquantity\" />\n      </b-col>\n      <b-col v-if=\"selected3HPOption === '3HP (INH 300 / RFP 300)'\">\n        <label for=\"3HP-quantity\">3HP Quantity</label>\n        <input type=\"number\" class=\"form-control\" id=\"IPT-quantity\" v-model=\"threeHPquantity\" />\n      </b-col>\n      <b-col v-if=\"selected3HPOption\">\n        <label for=\"pyridoxine-quantity\">Pyridoxine Quantity</label>\n        <input type=\"number\" class=\"form-control\" id=\"pyridoxine-quantity\" v-model=\"pyridoxineQuantity\" />\n      </b-col>\n    </b-row>\n    <p/>\n  </div>\n</template>\n\n<script>\nimport ApiClient from \"../../services/api_client\";\nimport EventBus from \"../../services/event-bus.js\";\nimport moment from \"moment\";\nimport { uniqBy } from '@/utils/arrays';\nexport default {\n  props: [\"date\"],\n  data: function() {\n    return {\n      regimens: [],\n      selected3HPOption: '',\n      selectedRegimen: null,\n      selectedDrugs: [],\n      drugOrder: [],\n      nextAppointment: null,\n      RFPquantity: null,\n      ARVquantity: null,\n      CPTquantity: null,\n      IPTquantity: null,\n      pyridoxineQuantity: null,\n      threeHPquantity: null,\n      prescribeARVs: false,\n      prescribeCPT: false,\n      prescribeIPT: false,\n      prescribeThreeHP: false,\n      weight: null,\n      latestWeight: null,\n      RFPRegimens: [],\n      CPTRegimens: [], \n      IPTRegimens: [],\n      RFPplusINHRegimens: [],\n      rifapepentineRegimens: [],\n      rfpinhregimens:  [],\n      onTb: false, \n      \"Unknown Regimen\": [{\n        \"drug_id\": 1046,\n        \"name\": \"Unknown ARV\",\n        \"combination\": 0,\n        \"am\": 1,\n        \"pm\": 0,\n      }]\n    };\n  },\n  methods: {\n    getRegimens: async function(val) {\n      await ApiClient.get(`/programs/1/regimens?weight=${this.weight}&tb_dosage=${this.onTb}`).then(\n        res => {\n          res.json().then(ret => {\n            this.regimens = ret;\n            this.regimens[\"Unknown\"] = this[\"Unknown Regimen\"];\n          });\n        }\n      );\n    },\n    getCPT: async function() {\n      await ApiClient.get(`/programs/1/regimen_extras?weight=${this.weight}&name=Cotrimoxazole`).then(\n        res => {\n          res.json().then(ret => {\n            this.CPTRegimens = uniqBy(ret, 'concept_name');\n          });\n        }\n      );\n    },\n    getRFP: async function() {\n      await ApiClient.get(`/programs/1/regimen_extras?weight=${this.weight}&name=Rifapentine`).then(\n        res => {\n          res.json().then(ret => {\n            this.RFPRegimens = ret;\n          })\n        }\n      )\n    },\n    getIPT: async function() {\n      await ApiClient.get(`/programs/1/regimen_extras?weight=${this.weight}&name=INH`)\n        .then(res => res.json().then(drugs => this.IPTRegimens = uniqBy(drugs, ['concept_name', 'frequency'])));\n    },\n    getThreeHp: async function() {\n      await ApiClient.get(`/programs/1/regimen_extras?weight=${this.weight}&name=INH / RFP`).then(\n        res => {\n          res.json().then(ret => {\n            this.RFPplusINHRegimens = ret;\n          })\n        }\n      )\n    },\n    getAutoExpireDate: function() {\n      if(this.ARVquantity && this.selectedRegimen) {\n        let doses = [];\n        this.regimens[this.selectedRegimen].forEach(element => {\n          let equivalent_daily_dose = parseFloat(element.am) + parseFloat(element.pm);\n          let auto_expire = (this.ARVquantity/equivalent_daily_dose) + 2;\n          doses.push(auto_expire);\n        });\n        EventBus.$emit(\"earliest-expiry-date\", Math.min(...doses));\n      }\n    },\n    toDrugOrder: function(drug, quantity) {\n      return {\n        quantity,\n        drug_name: drug.drug_name,\n        drug_id: drug.drug_id,\n        units: drug.units,\n        am: drug.am,\n        pm: drug.pm,\n        frequency: drug.frequency\n      }\n    },\n    saveEncounter: function() {\n      let selectedRegimens = [];\n      this.selectedDrugs = [];\n      let currentDrugs = this.regimens[this.selectedRegimen];\n      let consultationObs= {}\n\n      if(this.ARVquantity && this.selectedRegimen) {\n        currentDrugs.forEach(element => {\n          this.selectedDrugs.push(this.toDrugOrder(element, this.ARVquantity));\n        });\n        consultationObs.prescribeARV= {\n          concept_id : 1282,\n          value_coded : 1085\n        }\n      }\n\n      if(this.CPTquantity) {\n        this.CPTRegimens.filter(c => c.frequency === 'Daily (QOD)')\n          .forEach(element => {\n            this.selectedDrugs.push(this.toDrugOrder(element, this.CPTquantity));\n          });\n          consultationObs.prescribeCPT= {\n            concept_id : 1282,\n            value_coded : 916\n          }\n      }\n      \n      if(this.selected3HPOption) {\n        const pyridoxine = this.IPTRegimens.find(({concept_name}) => concept_name === 'Pyridoxine')\n        if (pyridoxine && this.pyridoxineQuantity) {\n          this.selectedDrugs.push(this.toDrugOrder(pyridoxine, this.pyridoxineQuantity))\n        }\n\n        if(this.IPTquantity) {\n          const INH = this.IPTRegimens.find(drug =>  drug.concept_name === \"Isoniazid\" && (\n            (this.selected3HPOption === '6H' && drug.frequency === 'Daily (QOD)') || \n            (this.selected3HPOption === '3HP (RFP + INH)' && drug.frequency === 'Weekly (QW)')\n          ))\n          this.selectedDrugs.push(this.toDrugOrder(INH, this.IPTquantity))\n          consultationObs.prescribeIPT= {\n            concept_id :1282,\n            value_coded : 656\n          }\n        }\n\n        if (this.RFPquantity && this.selected3HPOption === \"3HP (RFP + INH)\") {\n          this.selectedDrugs.push(this.toDrugOrder(this.RFPRegimens[0], this.RFPquantity));\n          consultationObs.prescribeRFP= {\n            concept_id :1282,\n            value_coded : 9974 //Rifapentine\n          }\n        }\n\n        if(this.threeHPquantity && this.selected3HPOption === \"3HP (INH 300 / RFP 300)\") {\n          this.selectedDrugs.push(this.toDrugOrder(this.RFPplusINHRegimens[0], this.threeHPquantity));\n          consultationObs.prescribeThreeHP= {\n            concept_id :1282,\n            value_coded : 10565 //Isoniazid/Rifapentine\n          }\n        }\n      }\n\n      for (let i = 0; i < this.selectedDrugs.length; i++) {\n        let morning_tabs = parseFloat(this.selectedDrugs[i][\"am\"]);\n        let evening_tabs = parseFloat(this.selectedDrugs[i][\"pm\"]);\n        let frequency = this.selectedDrugs[i][\"frequency\"];\n        let equivalent_daily_dose = morning_tabs + evening_tabs;\n        let instructions =\n          this.selectedDrugs[i].drug_name +\n          \":- Morning: \" +\n          morning_tabs +\n          \" tab(s), Evening: \" +\n          evening_tabs +\n          \" tabs\";\n        let dose = 0;\n\n        if (evening_tabs == 0) {\n          dose = morning_tabs;\n        }\n\n        if (morning_tabs == 0) {\n          dose = evening_tabs;\n        }\n\n        if (morning_tabs > 0 && evening_tabs > 0) {\n          dose = (morning_tabs + evening_tabs) / 2;\n        }\n\n        let drug_order = {\n          drug_inventory_id: this.selectedDrugs[i].drug_id,\n          dose: dose,\n          equivalent_daily_dose: equivalent_daily_dose,\n          frequency: frequency,\n          start_date: moment(this.date).format(\"YYYY-MM-DD\"),\n          auto_expire_date: moment(this.date).add((this.selectedDrugs[i].quantity/equivalent_daily_dose) + 2, 'days').format(\"YYYY-MM-DD\"),\n          instructions: instructions,\n          units: this.selectedDrugs[i].units,\n          qty: this.selectedDrugs[i].quantity\n        };\n        if(this.selectedDrugs[i].drug_name === \"Cotrimoxazole (480mg tablet)\") {\n\n        }else {\n\n          selectedRegimens.push(drug_order);\n        }\n      }\n  \n    let enc = {\n      prescription: {\n        encounter_id: 25,\n        drug_orders: selectedRegimens \n      }\n    }\n    let enc2 = {\n      consultation2: {\n        encounter_id: 53,\n        obs: consultationObs\n      }\n    }\n    this.$emit('addEncounter',  enc);\n    this.$emit('addEncounter',  enc2);\n    },\n    \n  },\n  mounted() {\n    this.latestWeight = this.$store.state.currentWeight;\n    this.weight = this.latestWeight;\n    this.getRegimens();\n    this.getCPT();\n    this.getIPT();\n    this.getRFP();\n    this.getThreeHp()\n    EventBus.$on('set-weight', payload => {\n      this.selectedRegimen = null;\n      this.ARVquantity = null;\n      if(payload.trim() === \"\") {\n        this.weight = this.latestWeight;\n      }else {\n        this.weight = payload;\n      }\n      this.getRegimens();\n      this.getCPT();\n      this.getIPT();\n      this.getRFP();\n      this.getThreeHp();\n    });\n    EventBus.$on('set-initial-weight', payload => {\n      this.latestWeight = payload;\n      this.weight = payload;\n      this.getRegimens();\n      this.getCPT();\n      this.getIPT();\n      this.getRFP();\n      this.getThreeHp();\n    });\n \n    EventBus.$on('set-tb', payload => {\n      this.onTb = payload;\n    });\n  },\n  watch: {\n     ARVquantity: {\n     handler(){\n        this.getAutoExpireDate();\n     },\n     deep: true\n  },   \n  selectedRegimen: {\n     handler(){\n        this.getAutoExpireDate();\n     },\n     deep: true\n  }\n}\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./prescription.vue?vue&type=template&id=8288ab46&\"\nimport script from \"./prescription.vue?vue&type=script&lang=js&\"\nexport * from \"./prescription.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{attrs:{\"for\":\"inputState\"}},[_vm._v(\"Pill Count: Last dispensation(\"+_vm._s(_vm.previousDispensation)+\")\")])]),_c('div',{staticClass:\"form-group col-md-6\"},[(_vm.previousDispensation > 0)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pillCount),expression:\"pillCount\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"pill-count\"},domProps:{\"value\":(_vm.pillCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pillCount=$event.target.value}}}):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"form-row\" >\n      <div class=\"form-group col-md-6\">\n        <label for=\"inputState\">Pill Count: Last dispensation({{ previousDispensation }})</label>\n      </div>\n      <div class=\"form-group col-md-6\" >\n        <input type=\"number\" class=\"form-control\" id=\"pill-count\" v-model=\"pillCount\" v-if=\"previousDispensation > 0\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ApiClient from \"../../services/api_client\";\nimport EventBus from \"../../services/event-bus.js\";\nimport moment from \"moment\";\n\nexport default {\nprops: [\"date\"],\ndata: function() {\n    return {\n      pillCount: null,\n      lastDrugs: [],\n      adherence: 0,\n    } \n},\nmethods: {\n  saveEncounter: function() {\n    let observations = {};\n      var drug_order_adherence_concept_id = 6987;\n      var amount_of_drug_brought_to_clinic_concept_id = 2540;\n      this.lastDrugs.forEach(element => {\n        \n      \n            let expected = this.calculateExpected(element.quantity, element.equivalent_daily_dose, element.order.start_date);\n            let adh = this.calculateAdherence(element.quantity, this.pillCount, expected);\n            observations['adherence'+element.order_id] = {\n                concept_id: drug_order_adherence_concept_id,\n                value_drug: element.drug_inventory_id,\n                order_id: element.order_id,\n                value_numeric: adh,\n                value_modifier: '%',\n                person_id: this.$route.params.id,\n            };\n\n            observations['amount'+element.order_id] = {\n                concept_id: amount_of_drug_brought_to_clinic_concept_id,\n                order_id: element.order_id,\n                value_numeric: this.pillCount,\n                person_id: this.$route.params.id\n            };\n      });\n    let encounterObject = {\n      adherence: {\n        encounter_id: 68,\n        obs: {\n          ...observations\n        }\n      }\n    }\n    this.$emit('addEncounter', encounterObject);\n  },\n  calculateExpected: function(given, equivalent_daily_dose, start_date) {\n    let date1 = new Date(this.date);\n    let date2 = new Date(start_date);\n    let days_gone = this.dateDiffInDays(date2, date1);\n\n    return (given - (days_gone * parseFloat(equivalent_daily_dose)));\n  },\n  calculateAdherence: function(given, pill_count, expected) {\n        return Math.round(100 * (given - pill_count) / (given - expected));\n  },\n  getLastOrder: async function(encounterDate) {\n    this.lastDrugs = [];\n    let patientID = this.$route.params.id;\n      await ApiClient.get(`/programs/1/patients/${patientID}/last_drugs_received?date=`+encounterDate).then(\n        res => {\n          res.json().then(ret => {\n            if(ret.length > 0) {\n\n              this.lastDrugs = ret;            \n            }\n          });\n        }\n      );\n  },\n  dateDiffInDays: function(date1, date2) {\n      var timeDiff = Math.abs(date2.getTime() - date1.getTime());\n      var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      return diffDays;\n  }\n\n}, mounted() {\n  this.getLastOrder(this.date);\n  EventBus.$on('change-date', payload => {\n    // his.getLastOrder();\n  });\n},\nwatch: { \n      \tdate: function(newVal, oldVal) { \n          this.getLastOrder(newVal);\n        },\n        pillCount: function(newVal, oldVal) { \n          EventBus.$emit('drugs-remaining', parseInt(newVal) || 0);\n        }\n      },\n  computed: {\n   previousDispensation() {\n     return this.lastDrugs.length > 0 ? this.lastDrugs[0].quantity : 0;\n   } \n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./adherence.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./adherence.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./adherence.vue?vue&type=template&id=afb04262&\"\nimport script from \"./adherence.vue?vue&type=script&lang=js&\"\nexport * from \"./adherence.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<b-modal id=\"encounter-modal\" title=\"encounter\" size=\"xl\" no-close-on-backdrop>\n\n    <vitals v-on:addEncounter=\"addEncounter\" ref=\"vitals\"></vitals>\n    <consultation ref=\"consultation\" v-on:addEncounter=\"addEncounter\" />\n\n    <prescription v-on:addEncounter=\"addEncounter\" ref=\"prescription\" :date=\"date\" />\n    <reception ref=\"reception\" v-on:addEncounter=\"addEncounter\"></reception>\n    <adherence v-on:addEncounter=\"addEncounter\" ref=\"adherence\" :date=\"date\"></adherence>\n    <appointment v-on:addEncounter=\"addEncounter\" ref=\"appointment\" :date=\"date\"></appointment>\n\n    <template v-slot:modal-footer>\n        <button class=\"btn btn-primary\" @click=\"createEncounters\">\n            <template v-if=\"posting === true\">\n                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                <span class=\"sr-only\">Loading...</span>\n            </template>\n            <template v-else>\n                <span>Save</span>\n            </template>\n        </button>\n    </template>\n    <template v-slot:modal-header=\"{ close }\">\n        <b-col>\n            <p>\n                New visit\n            </p>\n        </b-col>\n        <b-col cols=\"9\">\n\n            <b-form-datepicker id=\"encounter-datepicker\" class=\"mb-2\" v-model=\"date\"></b-form-datepicker>\n        </b-col>\n        <b-col cols=\"1\">\n            <b-button @click=\"close()\">\n                X\n            </b-button>\n        </b-col>\n    </template>\n</b-modal>\n\n</template>\n\n<script>\nimport vitals from '@/components/encounters/vitals.vue'\nimport clinicRegistration from '@/components/encounters/clinicRegistration.vue'\nimport reception from '@/components/encounters/reception.vue';\nimport staging from '@/components/encounters/staging.vue';\nimport appointment from '@/components/encounters/appointment.vue';\nimport consultation from '@/components/encounters/consultation.vue';\nimport prescription from '@/components/encounters/prescription.vue';\nimport adherence from '@/components/encounters/adherence.vue';\nimport ApiClient from \"@/services/api_client\";\nimport EncounterService from \"@/services/encounter_service\";\nimport EventBus from \"@/services/event-bus.js\";\nimport moment from \"moment/moment\";\nexport default {\n    data: function() {\n        return {\n            encounters: {},\n            numEnc: 0,\n            patientPresent: false,\n            posting: false,\n            verifiedEnc: [],\n            date: moment().format(\"YYYY-MM-DD\")\n        }\n    },\n    components: {\n        \"vitals\": vitals,\n        \"clinic-registration\": clinicRegistration,\n        \"reception\": reception,\n        \"appointment\": appointment,\n        \"staging\": staging,\n        \"consultation\": consultation,\n        \"prescription\": prescription,\n        \"adherence\": adherence\n    },\n    methods: {\n        addEncounter(encounterData) {\n            let key = Object.keys(encounterData)[0];\n            this.encounters[key] = encounterData[key];\n\n        },\n        saveEncounter: function(encounterOb) {\n            let observations = [];\n            let enc = {\n                url: \"observations\"\n            };\n              if(Object.keys(encounterOb).includes(\"obs\")) {\n                Object.keys(encounterOb.obs).forEach(element => {\n                    let valueKey = encounterOb.obs[element][this.getExpected(encounterOb.obs[element])];\n                    if(valueKey !== null && valueKey !== \"\") {\n                        observations.push(encounterOb.obs[element]);\n                    }\n                });\n                enc.observations = observations;\n                if(observations.length > 0) {\n                    this.verifiedEnc.push(encounterOb.encounter_id);\n                    this.postEncounter(enc, encounterOb.encounter_id)\n                }\n                \n            }else if(Object.keys(encounterOb).includes(\"drug_orders\")) {\n                enc.drug_orders = encounterOb.drug_orders;\n                enc.url = \"drug_orders\"\n                if(enc.drug_orders.length > 0) {\n                    this.verifiedEnc.push(encounterOb.encounter_id);\n                    this.postEncounter(enc, encounterOb.encounter_id)\n                }\n            }\n            \n            \n        },\n        postEncounter: async function(enc, encounter_id) {\n            const personId = this.$route.params.id;\n            const encounter = await EncounterService.createEncounter(\n                personId,\n                encounter_id,\n                this.date\n            );\n            this.successfulOperation = true;\n            if (encounter.status === 201 || encounter.status === 200) {\n                let encounterID = encounter.encounter_id;\n                enc.encounter_id = encounterID;\n                const response = await ApiClient.post(enc.url, enc);\n                if (response.status === 201 || response.status === 200) {\n                    if(enc.url === \"drug_orders\") {\n                        let orders = await response.json();\n                        let dispensations  = [];\n                        orders.forEach(element => {\n                            let qty = enc.drug_orders.filter(stage => {\n                                return stage.drug_inventory_id === element.drug_inventory_id;\n                            })\n                                dispensations.push({date: this.date, \n                                drug_order_id: element.order_id, \n                                quantity: qty[0][\"qty\"]})\n                        });\n                        const respo = await ApiClient.post('/dispensations', {dispensations: dispensations, program_id: 1});\n\n                    }\n                this.numEnc++;\n                if(this.numEnc === this.verifiedEnc.length) {\n                    this.posting = false;\n                    EventBus.$emit(\"reload-visits\", \"\");\n                    EventBus.$emit(\"reload-first-visits\", \"\");\n                    let toast = this.$toasted.show(\"Encounter Saved\", { \n                    theme: \"toasted-primary\", \n                    position: \"top-right\", \n                    duration : 2000\n                });\n                this.$root.$emit('bv::hide::modal', 'encounter-modal', '#btnShow')\n                }\n                this.success = true;\n                this.fail = false;\n                this.postResponse = \"Appointment has been set.\";\n                } else {\n                let toast = this.$toasted.show(\"Some Observations failed to save !!\", { \n                    theme: \"toasted-primary\", \n                    position: \"top-right\", \n                    duration : 5000\n                });   \n                this.fail = true;\n                this.postResponse = \"Appointment could not be set.\";\n                }\n            } else {\n                // this.posting = false;\n                this.success = false;\n                this.fail = true;\n                this.postResponse = \"Appointment could not be set.\";\n            }\n        },\n        createEncounters: function() {\n            this.posting = true;\n            \n            let encounters = Object.keys(this.$refs);\n            encounters.forEach(el => {\n                this.$refs[el].saveEncounter();\n            })\n            let keys = Object.keys(this.encounters);\n            keys.forEach(enc => {\n                this.saveEncounter(this.encounters[enc]);\n            });\n            // this.posting = false;\n        },\n        getExpected: function(element) {\n            let expected = [\n                \"value_group_id\",\n                \"value_boolean\",\n                \"value_coded\",\n                \"value_coded_name_id\",\n                \"value_drug\",\n                \"value_datetime\",\n                \"value_numeric\",\n                \"value_modifier\",\n                \"value_text\"\n            ];\n            let key = \"\";\n            Object.keys(element).filter(function(elem) {\n                if (expected.includes(elem)) {\n                    key = elem;\n                }\n            });\n            return key;\n        },\n        removeModal: function() {\n\n                // get modal\n                const modal = document.getElementById(\"exampleModalCenter\");\n\n                // change state like in hidden modal\n                modal.classList.remove('show');\n                modal.setAttribute('aria-hidden', 'true');\n                modal.setAttribute('style', 'display: none');\n\n                // get modal backdrop\n                const modalBackdrops = document.getElementsByClassName('modal-backdrop');\n\n                // remove opened modal backdrop\n                document.body.removeChild(modalBackdrops[0]);\n        }\n    },\n    mounted() {\n    EventBus.$on('set-present', payload => {\n        this.patientPresent = payload === \"1066\" ? false : true;  \n    });\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./encounter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./encounter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./encounter.vue?vue&type=template&id=455161e9&\"\nimport script from \"./encounter.vue?vue&type=script&lang=js&\"\nexport * from \"./encounter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"alert alert-dark\"},[_vm._v(\" Patient is \"),(!_vm.isEnrolled)?_c('strong',[_vm._v(\" not \")]):_vm._e(),_vm._v(\" enrolled in porgram. \"),(_vm.enrollDate)?_c('span',[_vm._v(\"Date enrolled is \"+_vm._s(_vm.moment(_vm.enrollDate).format(\"DD-MMM-YYYY\")))]):_vm._e()]),_c('programs'),_c('br'),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"input-group mb-3\"},[_vm._m(0),(_vm.states.length > 0)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state),expression:\"state\"}],staticClass:\"form-control\",attrs:{\"name\":\"\",\"id\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.state=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.states),function(state,index){return _c('option',{key:index,domProps:{\"value\":{\n              state_id: state.program_workflow_state_id,\n              name: state.name,\n            }}},[_vm._v(\" \"+_vm._s(state.name)+\" \")])}),0):_vm._e()])]),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"input-group mb-3\"},[_vm._m(1),_c('b-form-datepicker',{attrs:{\"id\":\"encounter-datepicker\",\"min\":_vm.moment(_vm.enrollDate).format('YYYY-MM-DD')},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1)]),(_vm.state.name === 'Patient transferred out')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('v-select',{attrs:{\"options\":_vm.locations,\"placeholder\":\"Next facility\"},on:{\"search\":_vm.getlocations,\"input\":_vm.getVal}})],1)]):_vm._e(),_c('div',{staticClass:\"col\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.postOutcome}},[_vm._v(\"Submit\")])])]),_c('div',{staticClass:\"text-center\"},_vm._l((_vm.errors),function(error,index){return _c('p',{key:index,staticStyle:{\"color\":\"red\"}},[_vm._v(\" \"+_vm._s(error)+\" \")])}),0),_c('table',{staticClass:\"table table-bordered\"},[_vm._m(2),_c('tbody',_vm._l((_vm.outcomes),function(outcome,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(outcome.name))]),_c('td',[_vm._v(_vm._s(_vm.moment(outcome.start_date).format(\"DD-MMM-YYYY\")))]),(outcome.end_date)?_c('td',[_vm._v(\" \"+_vm._s(_vm.moment(outcome.end_date).format(\"DD-MMM-YYYY\"))+\" \")]):_c('td'),_c('td',[_c('click-confirm',[_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.voidState(outcome.patient_state_id, index)}}},[(_vm.voiding)?[_c('span',{staticClass:\"spinner-border spinner-border-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]:[_c('span',[_vm._v(\"X\")])]],2)])],1)])}),0)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\",attrs:{\"id\":\"height\"}},[_vm._v(\"Outcome \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\"},[_vm._v(\"Outcome Date\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-dark\"},[_c('tr',[_c('th',[_vm._v(\"Outcome\")]),_c('th',[_vm._v(\"Start Date\")]),_c('th',[_vm._v(\"End Date\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('b-form-datepicker',{attrs:{\"disabled\":_vm.isEnrolled},model:{value:(_vm.visit_date),callback:function ($$v) {_vm.visit_date=$$v},expression:\"visit_date\"}})],1),_c('div',{staticClass:\"col\"},[_c('button',{staticClass:\"btn btn-success\",attrs:{\"disabled\":_vm.isEnrolled},on:{\"click\":_vm.enroll}},[_vm._v(\" Enroll in program \")])]),_c('div',{staticClass:\"col\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":_vm.patient_programs.length === 0},on:{\"click\":_vm.voidProgram}},[_vm._v(\" Void program \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"row\">\n        <div class=\"col\">\n            <b-form-datepicker   v-model=\"visit_date\" :disabled=\"isEnrolled\" ></b-form-datepicker>\n        </div>\n        <div class=\"col\">\n            <button class=\"btn btn-success\" @click=\"enroll\" :disabled=\"isEnrolled\">\n                Enroll in program\n            </button>\n        </div>\n        <div class=\"col\">\n            <button class=\"btn btn-danger\" @click=\"voidProgram\" :disabled=\"patient_programs.length === 0\"> \n                Void program\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ApiClient from \"../services/api_client\";\nexport default {\ndata: function(){\n    return {\n        visit_date: null,\n        patient_programs: []\n    }\n},\nmethods: {\n    voidProgram: async function(id, index) {\n      let patient_program_id = this.patient_programs.filter( l => {return l.program.name === \"HIV PROGRAM\"})[0].patient_program_id;\n      let url = `/patient_programs/${patient_program_id}?reason='duplicate / system error'`;\n      const response = await ApiClient.remove(url);\n          if (response.status === 201 || response.status === 204) {\n                  let toast = this.$toasted.show(\"Program voided\", { \n                  theme: \"toasted-primary\", \n                  position: \"top-right\", \n                  duration : 2000\n                });\n                this.$root.$emit('bv::hide::modal', 'outcome-modal', '#btnShow')\n          } else {\n            console.log(response.status);\n            console.log('Failed to update')\n          }\n    },\n    enroll: async function() {\n        if(!this.visit_date) {\n            let toasted = this.$toasted.show(\"No date selected\", { \n                  theme: \"toasted-primary\", \n                  position: \"top-right\", \n                  duration : 2000\n                });\n        }else {\n\n        \n        let programs = {\n            program_id: 1,\n            date_enrolled: this.visit_date\n        }\n          let patientID = this.$route.params.id;\n          const response = await ApiClient.post(`/patients/${patientID}/programs`, programs);\n          if (response.status === 201 || response.status === 200) {\n                  let toast = this.$toasted.show(\"Patient Enrolled\", { \n                  theme: \"toasted-primary\", \n                  position: \"top-right\", \n                  duration : 2000\n                });\n                this.$root.$emit('bv::hide::modal', 'outcome-modal', '#btnShow')\n          } else if(response.status === 409){\n              let toast = this.$toasted.show(\"Patient already enrolled in program\", { \n                  theme: \"toasted-primary\", \n                  position: \"top-right\", \n                  duration : 2000\n                });\n          }else {\n              console.log('Failed to update')\n          }\n        }\n    },\n    getPrograms: async function() {\n        this.patient_programs = [];\n        let context = this;\n        await ApiClient.get(`/patients/${this.$route.params.id}/programs`).then(res => {\n            res.json().then(ret => {\n                context.patient_programs =ret;\n            })\n        })\n    }\n},\nmounted() {\n    this.getPrograms();\n},\ncomputed: {\n    isEnrolled() {\n        return this.patient_programs.filter( l => {return l.program.name === \"HIV PROGRAM\"}).length > 0 ? true : false  \n    }\n}\n}\n\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Programs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Programs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Programs.vue?vue&type=template&id=5d81c3d6&\"\nimport script from \"./Programs.vue?vue&type=script&lang=js&\"\nexport * from \"./Programs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"alert alert-dark\">\n      Patient is <strong v-if=\"!isEnrolled\"> not </strong> enrolled in porgram.\n      <span v-if=\"enrollDate\"\n        >Date enrolled is {{ moment(enrollDate).format(\"DD-MMM-YYYY\") }}</span\n      >\n    </div>\n    <programs></programs>\n    <br />\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"input-group mb-3\">\n          <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\" id=\"height\">Outcome </span>\n          </div>\n          <select\n            class=\"form-control\"\n            name=\"\"\n            id=\"\"\n            v-if=\"states.length > 0\"\n            v-model=\"state\"\n          >\n            <option\n              v-for=\"(state, index) in states\"\n              :key=\"index\"\n              :value=\"{\n                state_id: state.program_workflow_state_id,\n                name: state.name,\n              }\"\n            >\n              {{ state.name }}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class=\"col\">\n        <div class=\"input-group mb-3\">\n          <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\">Outcome Date</span>\n          </div>\n          <b-form-datepicker\n            id=\"encounter-datepicker\"\n            v-model=\"date\"\n            :min=\"moment(enrollDate).format('YYYY-MM-DD')\"\n          ></b-form-datepicker>\n        </div>\n      </div>\n\n      <div class=\"col\" v-if=\"state.name === 'Patient transferred out'\">\n        <div class=\"form-group\">\n          <v-select\n            :options=\"locations\"\n            @search=\"getlocations\"\n            @input=\"getVal\"\n            placeholder=\"Next facility\"\n          ></v-select>\n        </div>\n      </div>\n      <div class=\"col\">\n        <button @click=\"postOutcome\" class=\"btn btn-primary\">Submit</button>\n      </div>\n    </div>\n    <div class=\"text-center\">\n      <p v-for=\"(error, index) in errors\" :key=\"index\" style=\"color: red\">\n        {{ error }}\n      </p>\n    </div>\n    <table class=\"table table-bordered\">\n      <thead class=\"thead-dark\">\n        <tr>\n          <th>Outcome</th>\n          <th>Start Date</th>\n          <th>End Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(outcome, index) in outcomes\" :key=\"index\">\n          <td>{{ outcome.name }}</td>\n          <td>{{ moment(outcome.start_date).format(\"DD-MMM-YYYY\") }}</td>\n          <td v-if=\"outcome.end_date\">\n            {{ moment(outcome.end_date).format(\"DD-MMM-YYYY\") }}\n          </td>\n          <td v-else></td>\n          <!-- <td>{{moment(visit.visitDate).format(\"DD-MMM-YYYY\")}}</td> -->\n          <td>\n            <click-confirm>\n              <button\n                class=\"btn btn-danger\"\n                @click=\"voidState(outcome.patient_state_id, index)\"\n              >\n                <template v-if=\"voiding\">\n                  <span\n                    class=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  <span class=\"sr-only\">Loading...</span>\n                </template>\n\n                <template v-else>\n                  <span>X</span>\n                </template>\n              </button>\n            </click-confirm>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport ApiClient from \"../services/api_client\";\nimport \"vue-select/dist/vue-select.css\";\nimport VueSelect from \"vue-select\";\nimport moment from \"moment\";\nimport EventBus from \"../services/event-bus.js\";\nimport programs from \"@/components/Programs.vue\";\nimport EncounterService from \"@/services/encounter_service\";\nexport default {\n  components: {\n    \"v-select\": VueSelect,\n    programs: programs,\n  },\n  data: function () {\n    return {\n      states: [],\n      errors: [],\n      state: {},\n      outcomes: [],\n      date: null,\n      locations: [],\n      location: null,\n      location_name: null,\n      voiding: false,\n      enrollDate: null,\n      programs: [],\n    };\n  },\n  methods: {\n    getOutcomes: async function () {\n      await ApiClient.get(`/programs/1/workflows`).then((res) => {\n        res.json().then((f) => {\n          this.states = f[0].states;\n        });\n      });\n    },\n    getPatientOutcomes: async function () {\n      await ApiClient.get(`/patients/${this.$route.params.id}/programs`).then(\n        (res) => {\n          res.json().then((f) => {\n            if (f.length > 0) {\n              this.programs = f;\n              this.outcomes = f.filter((y) => {\n                return y.program_id === 1;\n              })[0][\"patient_states\"];\n              this.enrollDate = f[0].date_enrolled;\n            }\n          });\n        }\n      );\n    },\n    voidState: async function (id, index) {\n      this.voiding = true;\n      let url = `/programs/1/patients/${this.$route.params.id}/states/${id}?reason='duplicate / system error'`;\n      const response = await ApiClient.remove(url);\n      if (response.status === 201 || response.status === 204) {\n        EventBus.$emit(\"reload-visits\", \"\");\n        let toast = this.$toasted.show(\"Outcome deleted\", {\n          theme: \"toasted-primary\",\n          position: \"top-right\",\n          duration: 2000,\n        });\n        this.voiding = false;\n        this.outcomes.splice(index, 1);\n        // this.$root.$emit('bv::hide::modal', 'outcome-modal', '#btnShow')\n      } else {\n        console.log(response.status);\n        console.log(\"Failed to update\");\n      }\n    },\n    postOutcome: async function () {\n      this.errors = [];\n      if (Object.keys(this.state).length === 0) {\n        this.errors.push(\"Outcome is required\");\n      }\n      if (this.date === null || this.date === \"\") {\n        this.errors.push(\"Date is required\");\n      }\n      let outcomeData = {\n        state: this.state.state_id,\n        date: moment(this.date).format(\"YYYY-MM-DD\"),\n      };\n      if (this.state.name === \"Patient transferred out\") {\n        outcomeData.location_id = this.location;\n        if (this.location == null) {\n          this.errors.push(\"Location is required\");\n        } else {\n          let patientID = this.$route.params.id;\n          const encounter = await EncounterService.createEncounter(\n            patientID,\n            119,\n            this.date\n          );\n          if (encounter.status === 201 || encounter.status === 200) {\n            let encounterID = encounter.encounter_id;\n            let enc = {\n              encounter_id: encounterID,\n              observations: [\n                {\n                  value_text: this.location_name,\n                  value_coded: this.location,\n                  concept_id: 3003,\n                },\n              ],\n            };\n            const response = await ApiClient.post(\"observations\", enc);\n          }\n        }\n      }\n      if (this.errors.length === 0) {\n        let patientID = this.$route.params.id;\n        const response = await ApiClient.post(\n          `programs/1/patients/${patientID}/states`,\n          outcomeData\n        );\n        if (response.status === 201 || response.status === 200) {\n          EventBus.$emit(\"reload-visits\", \"\");\n          let toast = this.$toasted.show(\"Outcome Saved\", {\n            theme: \"toasted-primary\",\n            position: \"top-right\",\n            duration: 2000,\n          });\n          this.$root.$emit(\"bv::hide::modal\", \"outcome-modal\", \"#btnShow\");\n        } else {\n          console.log(\"Failed to update\");\n        }\n      }\n    },\n    getlocations: async function (val) {\n      this.locations = [];\n      await ApiClient.get(`/locations?name=` + val).then((res) => {\n        res.json().then((ret) => {\n          let loc = ret.forEach((element) => {\n            this.locations.push({\n              label: element.name,\n              code: element.name,\n              location_id: element.location_id,\n            });\n          });\n        });\n      });\n    },\n    getVal(val) {\n      this.location = val.location_id;\n      this.location_name = val.label;\n    },\n  },\n  mounted() {\n    this.getOutcomes();\n    this.getlocations(\"\");\n    this.getPatientOutcomes();\n  },\n  computed: {\n    isEnrolled() {\n      return this.programs.filter((l) => {\n        return l.program.name === \"HIV PROGRAM\";\n      }).length > 0\n        ? true\n        : false;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outcome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outcome.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./outcome.vue?vue&type=template&id=19a849fb&\"\nimport script from \"./outcome.vue?vue&type=script&lang=js&\"\nexport * from \"./outcome.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.errorMessage)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"alert alert-warning\"},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")])])]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"form\",attrs:{\"id\":\"form\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Date Ordered: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.$v.form.orderDate.$model),expression:\"$v.form.orderDate.$model\"}],staticClass:\"form-control\",style:((!_vm.$v.form.orderDate.required || !_vm.$v.form.orderDate.isValidDate) && _vm.$v.form.orderDate.$dirty ? 'border: 1.5px solid red;' : ''),attrs:{\"type\":\"date\",\"name\":\"\",\"id\":\"date\",\"placeholder\":\"\",\"aria-describedby\":\"helpId\"},domProps:{\"value\":(_vm.$v.form.orderDate.$model)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.$v.form.orderDate, \"$model\", $event.target.value)}}})])]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Reason: \")]),_c('v-select',{style:(!_vm.$v.form.reason.required && _vm.$v.form.reason.$dirty ? 'border: 1.5px solid red;' : ''),attrs:{\"options\":Object.keys(_vm.reasons),\"placeholder\":\"select reason\"},model:{value:(_vm.$v.form.reason.$model),callback:function ($$v) {_vm.$set(_vm.$v.form.reason, \"$model\", $$v)},expression:\"$v.form.reason.$model\"}})],1)])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Specimen: \")]),_c('v-select',{style:(!_vm.$v.form.specimen.required && _vm.$v.form.specimen.$dirty ? 'border: 1.5px solid red;' : ''),attrs:{\"options\":Object.keys(_vm.specimens),\"placeholder\":\"specimen\"},model:{value:(_vm.$v.form.specimen.$model),callback:function ($$v) {_vm.$set(_vm.$v.form.specimen, \"$model\", $$v)},expression:\"$v.form.specimen.$model\"}})],1)]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Result Date: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.$v.form.resultDate.$model),expression:\"$v.form.resultDate.$model\"}],staticClass:\"form-control\",style:((!_vm.$v.form.resultDate.required || !_vm.$v.form.resultDate.isValidDate) && _vm.$v.form.resultDate.$dirty ? 'border: 1.5px solid red;' : ''),attrs:{\"type\":\"date\",\"name\":\"\",\"id\":\"date\",\"aria-describedby\":\"helpId\"},domProps:{\"value\":(_vm.$v.form.resultDate.$model)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.$v.form.resultDate, \"$model\", $event.target.value)}}})])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Result Modifier: \")]),_c('v-select',{style:(!_vm.$v.form.modifier.required && _vm.$v.form.modifier.$dirty ? 'border: 1.5px solid red;' : ''),attrs:{\"options\":_vm.modifiers,\"placeholder\":\"modifier\",\"disabled\":_vm.ldl},model:{value:(_vm.$v.form.modifier.$model),callback:function ($$v) {_vm.$set(_vm.$v.form.modifier, \"$model\", $$v)},expression:\"$v.form.modifier.$model\"}})],1)]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Result Value: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.$v.form.viralLoad.$model),expression:\"$v.form.viralLoad.$model\"}],staticClass:\"form-control\",style:(!_vm.$v.form.viralLoad.required && _vm.$v.form.viralLoad.$dirty ? 'border: 1.5px solid red;' : ''),attrs:{\"type\":\"number\",\"placeholder\":\"\",\"aria-describedby\":\"helpId\",\"disabled\":_vm.ldl},domProps:{\"value\":(_vm.$v.form.viralLoad.$model)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.$v.form.viralLoad, \"$model\", $event.target.value)}}})])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 my-2\"},[_c('div',{staticClass:\"form-group form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ldl),expression:\"ldl\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"id\":\"exampleCheck1\"},domProps:{\"checked\":Array.isArray(_vm.ldl)?_vm._i(_vm.ldl,null)>-1:(_vm.ldl)},on:{\"change\":function($event){var $$a=_vm.ldl,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.ldl=$$a.concat([$$v]))}else{$$i>-1&&(_vm.ldl=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.ldl=$$c}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"exampleCheck1\"}},[_vm._v(\"LDL\")])])])])])])]),_c('div',{staticClass:\"row mt-5\"},[_c('div',{staticClass:\"col-md-12\"},[_c('button',{staticClass:\"btn btn-primary btn-lg\",attrs:{\"type\":\"submit\",\"form\":\"form\"},on:{\"click\":_vm.saveEncounter}},[_vm._v(\"Save\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"row\" v-if=\"errorMessage\">\n      <div class=\"col-md-12\">\n        <div class=\"alert alert-warning\">\n          {{ errorMessage }}\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <div class=\"form\" id=\"form\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <div class=\"form-group\">\n                <label for>Date Ordered: </label>\n                <input\n                  type=\"date\"\n                  name\n                  id=\"date\"\n                  class=\"form-control\"\n                  placeholder\n                  aria-describedby=\"helpId\"\n                  v-model=\"$v.form.orderDate.$model\"\n                  :style=\"(!$v.form.orderDate.required || !$v.form.orderDate.isValidDate) && $v.form.orderDate.$dirty ? 'border: 1.5px solid red;' : ''\"\n                />\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <div class=\"form-group\">\n                <label for>Reason: </label>\n                <v-select \n                  :options=\"Object.keys(reasons)\" \n                  v-model=\"$v.form.reason.$model\" \n                  :style=\"!$v.form.reason.required && $v.form.reason.$dirty ? 'border: 1.5px solid red;' : ''\"\n                  placeholder=\"select reason\" \n                />\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <div class=\"form-group\">\n                <label for>Specimen: </label>\n                <v-select \n                  :options=\"Object.keys(specimens)\" \n                  v-model=\"$v.form.specimen.$model\"\n                  :style=\"!$v.form.specimen.required && $v.form.specimen.$dirty ? 'border: 1.5px solid red;' : ''\"\n                  placeholder=\"specimen\"\n                />\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <div class=\"form-group\">\n                <label for>Result Date: </label>\n                <input\n                  type=\"date\"\n                  name\n                  id=\"date\"\n                  class=\"form-control\"\n                  aria-describedby=\"helpId\"\n                  v-model=\"$v.form.resultDate.$model\"\n                  :style=\"(!$v.form.resultDate.required || !$v.form.resultDate.isValidDate) && $v.form.resultDate.$dirty ? 'border: 1.5px solid red;' : ''\"\n                />\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <div class=\"form-group\">\n                <label for>Result Modifier: </label>\n                <v-select \n                  :options=\"modifiers\" \n                  v-model=\"$v.form.modifier.$model\"\n                  :style=\"!$v.form.modifier.required && $v.form.modifier.$dirty ? 'border: 1.5px solid red;' : ''\" \n                  placeholder=\"modifier\" \n                  :disabled=\"ldl\"\n                ></v-select>\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <div class=\"form-group\">\n                <label for>Result Value: </label>\n                <input\n                  type=\"number\"\n                  class=\"form-control\"\n                  placeholder\n                  aria-describedby=\"helpId\"\n                  v-model=\"$v.form.viralLoad.$model\"\n                  :style=\"!$v.form.viralLoad.required && $v.form.viralLoad.$dirty ? 'border: 1.5px solid red;' : ''\"\n                  :disabled=\"ldl\"\n                />\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-12 my-2\">\n              <div class=\"form-group form-check\">\n                <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\" v-model=\"ldl\" />\n                <label class=\"form-check-label\" for=\"exampleCheck1\">LDL</label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row mt-5\">\n      <div class=\"col-md-12\">\n        <button type=\"submit\" form=\"form\" class=\"btn btn-primary btn-lg\" @click=\"saveEncounter\">Save</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport \"vue-select/dist/vue-select.css\";\nimport ApiClient from \"../../services/api_client\";\nimport EncounterService from \"../../services/encounter_service\";\nimport VueSelect from \"vue-select\";\nimport EventBus from \"../../services/event-bus.js\";\nimport {\n  required,\n  requiredIf,\n  between\n} from \"vuelidate/lib/validators\";\nimport { validationMixin } from \"vuelidate\";\nimport moment from \"moment\";\n\nexport default {\n  components: {\n    \"v-select\": VueSelect\n  },\n  mixins: [validationMixin],\n  validations() {\n    return {\n      form: {\n        orderDate: {\n          required,\n          isValidDate(orderDate) {\n            const date = moment(orderDate);\n            return date.isValid() &&\n              date.isSameOrBefore(moment());\n          }\n        },\n        reason: {\n          required,\n        },\n        specimen: {\n          required,\n        },\n        resultDate: {\n          required,\n          isValidDate(resultDate) {\n            const date = moment(resultDate);\n            return date.isValid() &&\n              date.isSameOrAfter(moment(this.form.orderDate)) && \n              date.isSameOrBefore(moment());\n          },\n        },\n        modifier: {\n          required: requiredIf(() => !this.ldl),\n        },\n        viralLoad: {\n          required: requiredIf(() => !this.ldl),\n        } \n      }\n    };\n  },\n  data: function() {\n    return {\n      location: sessionStorage.location || \"\",\n      user: sessionStorage.username || \"\",\n      modifiers: [\"=\", \">\", \"<\", \"=>\", \"=<\"],\n      reasons: {\n        'Routine': 432, \n        'Targeted': 3280, \n        'Confirmatory': 1345, \n        'Stat': 6368, \n        'Repeat / Missing': 9144\n      },\n      specimens: {\n        'Blood': 8612, \n        'DBS (Free drop to DBS card)': 10095, \n        'DBS (Using capillary tube)': 10096\n      },\n      form:{\n        modifier: null,\n        viralLoad: null,\n        resultDate: null,\n        orderDate: null,\n        specimen: null,\n        reason: null,\n      },\n      ldl: false,\n      errorMessage: null,\n    };\n  },\n  methods: {\n    validateForm: function() {\n      this.$v.$touch();\n      return !this.$v.$invalid;\n    },\n    createLabOrder: async function(personId) {\n      const encounter = await EncounterService.createEncounter(personId, 13, this.form.orderDate);\n      if (encounter.status === 200 || encounter.status === 201) {\n        const response = await ApiClient.post(\"/lab/orders\", {\n          encounter_id: encounter.encounter_id,\n          orders: [{\n            encounter_id: encounter.encounter_id,\n            tests: [{ concept_id: 856 }],\n            reason_for_test_id: this.reasons[this.form.reason],\n            target_lab: this.location,\n            requesting_clinician: this.user,\n            date: this.form.orderDate,\n            specimen: {\n              concept_id: this.specimens[this.form.specimen]\n            }\n          }]\n        });\n        if (response.status === 200 || response.status === 201) {\n          const order = await response.json();\n          return order[0].tests[0].id;\n        }\n      }\n      return -1;\n    },\n    createLabResult: async function(personId, testID) {\n      const encounter = await EncounterService.createEncounter(personId, 57, this.form.resultDate);\n      if (encounter.status === 200 || encounter.status === 201) {\n        const response = await ApiClient.post(`lab/tests/${testID}/results`, {\n          encounter_id: encounter.encounter_id,\n          date: this.form.resultDate,\n          measures: [{\n            indicator: {\n              concept_id: 856,\n            },\n            value: this.ldl ? \"LDL\" : parseInt(this.form.viralLoad),\n            value_modifier: this.ldl ? \"=\" : this.form.modifier,\n            value_type: this.ldl? \"text\" : \"numeric\"\n          }]\n        });\n        return response.status === 200 || response.status === 201;\n      }\n      return false;\n    },\n    saveEncounter: async function() {\n      if(!this.validateForm()){\n        return this.errorMessage = \"Complete all required fields\";\n      }\n      const personId = this.$route.params.id;\n      const testID = await this.createLabOrder(personId);\n      if (testID > 0) {\n        if (await this.createLabResult(personId, testID)) {\n          this.posting = false;\n          EventBus.$emit(\"reload-visits\", \"\");\n          this.$toasted.show(\"Viral Load Saved\", { \n            theme: \"toasted-primary\", \n            position: \"top-right\", \n            duration : 2000\n          });\n          this.$root.$emit('bv::hide::modal', 'viral-load-modal', '#btnShow')\n          return\n        }\n      }\n      this.success = false;\n      this.fail = true;\n      this.postResponse = \"Viral load  could not be set.\";\n    },\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viral_load.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viral_load.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./viral_load.vue?vue&type=template&id=1d47ff46&\"\nimport script from \"./viral_load.vue?vue&type=script&lang=js&\"\nexport * from \"./viral_load.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"d-flex\" id=\"wrapper\">\n      <!-- Sidebar -->\n      <side-bar />\n      <!-- /#sidebar-wrapper -->\n\n      <!-- Page Content -->\n      <div id=\"page-content-wrapper\">\n        <top-nav />\n        <div class=\"container-fluid\">\n          <!-- <p>mastercard</p> -->\n          <div class=\"row\">\n            <patient-information />\n          </div>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$bvModal.show('encounter-modal')\"\n          >Add Visit</button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$bvModal.show('outcome-modal')\"\n          >Update Outcome</button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$bvModal.show('viral-load-modal')\"\n          >Viral Load</button>\n          <div class=\"row\" style=\"margin: 10px; margin-top: 5px;\">\n            <visit-data></visit-data>\n          </div>\n\n         <encounter/> \n\n          <b-modal id=\"outcome-modal\" title=\"outcome\" size=\"xl\">\n            <outcome />\n            <template v-slot:modal-footer>\n              <div class=\"w-100\"></div>\n            </template>\n          </b-modal>\n\n          <b-modal id=\"viral-load-modal\" title=\"encounter\" size=\"xl\">\n            <viral-load ref=\"viral-load\"></viral-load>\n            <template v-slot:modal-footer>\n              <div class=\"w-100\"></div>\n            </template>\n          </b-modal>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport TopNav from \"@/components/topNav.vue\";\nimport Sidebar from \"@/components/SideBar.vue\";\nimport PatientInformation from \"@/components/PatientInformation.vue\";\nimport VisitData from \"@/components/VisitData.vue\";\nimport clinicRegistration from \"@/components/encounters/clinicRegistration.vue\";\nimport encounter from \"@/components/encounters/encounter.vue\";\nimport outcome from \"@/components/outcome.vue\";\nimport viralLoad from \"@/components/encounters/viral_load.vue\";\nimport moment from \"moment/moment\";\nexport default {\n  name: \"home\",\n  components: {\n    \"top-nav\": TopNav,\n    \"side-bar\": Sidebar,\n    \"patient-information\": PatientInformation,\n    \"visit-data\": VisitData,\n    \"clinic-registration\": clinicRegistration,\n    encounter: encounter,\n    outcome: outcome,\n    \"viral-load\": viralLoad\n  },\n  data: function() {\n    return {\n      date: moment().format(\"YYYY-MM-DD\")\n    };\n  }\n};\n</script>\n\n<style >\n.btn-primary {\n  margin: 10px; \n  margin-top: 5px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mastercard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mastercard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mastercard.vue?vue&type=template&id=0707e6e8&\"\nimport script from \"./Mastercard.vue?vue&type=script&lang=js&\"\nexport * from \"./Mastercard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Mastercard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import moment from 'moment';\n\nexport default (() => {\n  const ISO_FORMAT = 'YYYY-MM-DD';\n  const LOCAL_FORMAT = 'DD/MMM/YYYY';\n\n  /**\n   * Returns quarter in which date belongs.\n   * \n   * @param {Date} date \n   */\n  function dateQuarter(date) {\n    const month = date.getMonth();\n    const year = date.getFullYear();\n\n    if (month < 3) {\n      return [`${year}-01-01`, `${year}-03-31`];\n    } else if (month < 6) {\n      return [`${year}-04-01`, `${year}-06-30`];\n    } else if (month < 9) {\n       return [`${year}-07-01`, `${year}-09-30`];\n    } else {\n      return [`${year}-10-01`, `${year}-12-31`];\n    }\n  }\n\n  function dateQuarterStr(date) {\n    const month = date.getMonth();\n    const year = date.getFullYear();\n\n    if (month < 3) {\n      return `Q1-${year}`;\n    } else if (month < 6) {\n      return `Q2-${year}`;\n    } else if (month < 9) {\n      return `Q3-${year}`;\n    } else {\n      return `Q4-${year}`;\n    }\n  }\n\n  function isoDate(date) {\n    return moment(date).format(ISO_FORMAT);\n  }\n\n  function localDate(date) {\n    return moment(date).format(LOCAL_FORMAT);\n  }\n\n  return {ISO_FORMAT, LOCAL_FORMAT, dateQuarter, dateQuarterStr, isoDate, localDate};\n})();","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","/**\n * Get distinct objects from an array of objects\n * \n * @param {Array} arr list of objects\n * @param {string | Array} key a key or list of keys to be used to identify distinct objects\n * @return {Array} new array with distinct objects\n */\nexport function uniqBy(arr, key) {\n  return [...new Map(arr.filter(Boolean).map(item => {\n    const uniqueKey = Array.isArray(key) \n      ? key.map(k => item[k]).join('_')\n      : item[key]\n    return [uniqueKey, item]\n  })).values()]\n}\n\n/**\n * Get distinct items from an array with possible duplicates\n * \n * @param {Array} arr list of items\n * @returns list of distinct items\n */\nexport function uniq(arr) {\n  return arr.filter((value, index, self) => self.indexOf(value) === index)\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./consultation.vue?vue&type=style&index=0&id=06aa17ed&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./consultation.vue?vue&type=style&index=0&id=06aa17ed&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisitData.vue?vue&type=style&index=0&id=89871b68&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisitData.vue?vue&type=style&index=0&id=89871b68&scoped=true&lang=css&\""],"sourceRoot":""}