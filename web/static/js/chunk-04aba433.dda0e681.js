(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04aba433"],{"0724":function(t,e,s){"use strict";var a=s("11c4"),i=s.n(a);i.a},"11c4":function(t,e,s){},"336a":function(t,e,s){"use strict";var a=s("df61"),i=s.n(a);i.a},"4dfe":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ctrs"},[s("div",{staticClass:"ctr-table"},[s("div",{staticClass:"ctr-row"},[s("div",{staticClass:"ctr-cell"},[s("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"Start Date",readonly:!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),s("div",{staticClass:"ctr-cell"},[s("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"End Date",readonly:!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),s("div",{staticClass:"ctr-cell"},[s("button",{staticClass:"btn btn-success",on:{click:t.submitDates}},[t._v("Submit")])])])])])},i=[],o=s("f0ca"),r=s.n(o),n=s("c1df"),d=s.n(n),l=(s("6f3c"),s("1789")),c={components:{DatePick:r.a},props:["onSubmit"],data:function(){return{startDate:null,endDate:null,format:"DD/MMM/YYYY",date:l["a"].format(new Date,"DD/MMM/YYYY")}},methods:{initDates:function(){},submitDates:function(){this.startDate=d()(this.startDate).format("YYYY-MM-DD"),this.endDate=d()(this.endDate).format("YYYY-MM-DD"),this.onSubmit([this.startDate,this.endDate])},parseDate:function(t,e){return l["a"].parse(t,e)},formatDate:function(t,e){return l["a"].format(t,e)}},mounted:function(){var t=this;setTimeout((function(){return t.initDates()}),300)}},f=c,h=(s("336a"),s("2877")),u=Object(h["a"])(f,a,i,!1,null,"15deca72",null);e["a"]=u.exports},"728d":function(t,e,s){var a,i;s("7db0"),s("d81d");s("7037");
/*!
 FixedHeader 3.1.3
 Â©2009-2017 SpryMedia Ltd - datatables.net/license
*/(function(o){a=[s("1157"),s("1653")],i=function(t){return o(t,window,document)}.apply(e,a),void 0===i||(t.exports=i)})((function(t,e,s,a){var i=t.fn.dataTable,o=0,r=function s(a,r){if(!(this instanceof s))throw"FixedHeader must be initialised with the 'new' keyword.";!0===r&&(r={}),a=new i.Api(a),this.c=t.extend(!0,{},s.defaults,r),this.s={dt:a,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:t(e).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:a.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+o++,scrollLeft:{header:-1,footer:-1},enable:!0},this.dom={floatingHeader:null,thead:t(a.table().header()),tbody:t(a.table().body()),tfoot:t(a.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var n=a.settings()[0];if(n._fixedHeader)throw"FixedHeader already initialised on table "+n.nTable.id;n._fixedHeader=this,this._constructor()};return t.extend(r.prototype,{enable:function(t){this.s.enable=t,this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&this.dom.tfoot.length&&this._modeChange("in-place","footer",!0),this.update()},headerOffset:function(t){return t!==a&&(this.c.headerOffset=t,this.update()),this.c.headerOffset},footerOffset:function(t){return t!==a&&(this.c.footerOffset=t,this.update()),this.c.footerOffset},update:function(){this._positions(),this._scroll(!0)},_constructor:function(){var s=this,a=this.s.dt;t(e).on("scroll"+this.s.namespace,(function(){s._scroll()})).on("resize"+this.s.namespace,(function(){s.s.position.windowHeight=t(e).height(),s.update()}));var i=t(".fh-fixedHeader");!this.c.headerOffset&&i.length&&(this.c.headerOffset=i.outerHeight()),i=t(".fh-fixedFooter"),!this.c.footerOffset&&i.length&&(this.c.footerOffset=i.outerHeight()),a.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc",(function(){s.update()})),a.on("destroy.dtfc",(function(){a.off(".dtfc"),t(e).off(s.s.namespace)})),this._positions(),this._scroll()},_clone:function(e,s){var a=this.s.dt,i=this.dom[e],o="header"===e?this.dom.thead:this.dom.tfoot;!s&&i.floating?i.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(i.floating&&(i.placeholder.remove(),this._unsize(e),i.floating.children().detach(),i.floating.remove()),i.floating=t(a.table().node().cloneNode(!1)).css("table-layout","fixed").removeAttr("id").append(o).appendTo("body"),i.placeholder=o.clone(!1),i.placeholder.find("*[id]").removeAttr("id"),i.host.prepend(i.placeholder),this._matchWidths(i.placeholder,i.floating))},_matchWidths:function(e,s){var a=function(s){return t(s,e).map((function(){return t(this).width()})).toArray()},i=function(e,a){t(e,s).each((function(e){t(this).css({width:a[e],minWidth:a[e]})}))},o=a("th");a=a("td");i("th",o),i("td",a)},_unsize:function(e){var s=this.dom[e].floating;s&&("footer"===e||"header"===e&&!this.s.autoWidth)?t("th, td",s).css({width:"",minWidth:""}):s&&"header"===e&&t("th, td",s).css("min-width","")},_horizontal:function(t,e){var s=this.dom[t],a=this.s.position,i=this.s.scrollLeft;s.floating&&i[t]!==e&&(s.floating.css("left",a.left-e),i[t]=e)},_modeChange:function(e,a,i){var o=this.dom[a],r=this.s.position,n=t.contains(this.dom["footer"===a?"tfoot":"thead"][0],s.activeElement)?s.activeElement:null;"in-place"===e?(o.placeholder&&(o.placeholder.remove(),o.placeholder=null),this._unsize(a),"header"===a?o.host.prepend(this.dom.thead):o.host.append(this.dom.tfoot),o.floating&&(o.floating.remove(),o.floating=null)):"in"===e?(this._clone(a,i),o.floating.addClass("fixedHeader-floating").css("header"===a?"top":"bottom",this.c[a+"Offset"]).css("left",r.left+"px").css("width",r.width+"px"),"footer"===a&&o.floating.css("top","")):"below"===e?(this._clone(a,i),o.floating.addClass("fixedHeader-locked").css("top",r.tfootTop-r.theadHeight).css("left",r.left+"px").css("width",r.width+"px")):"above"===e&&(this._clone(a,i),o.floating.addClass("fixedHeader-locked").css("top",r.tbodyTop).css("left",r.left+"px").css("width",r.width+"px")),n&&n!==s.activeElement&&n.focus(),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[a+"Mode"]=e},_positions:function(){var e=this.s.dt.table(),s=this.s.position,a=this.dom,i=(e=t(e.node()),e.children("thead")),o=e.children("tfoot");a=a.tbody;s.visible=e.is(":visible"),s.width=e.outerWidth(),s.left=e.offset().left,s.theadTop=i.offset().top,s.tbodyTop=a.offset().top,s.theadHeight=s.tbodyTop-s.theadTop,o.length?(s.tfootTop=o.offset().top,s.tfootBottom=s.tfootTop+o.outerHeight(),s.tfootHeight=s.tfootBottom-s.tfootTop):(s.tfootTop=s.tbodyTop+a.outerHeight(),s.tfootBottom=s.tfootTop,s.tfootHeight=s.tfootTop)},_scroll:function(e){var a,i=t(s).scrollTop(),o=t(s).scrollLeft(),r=this.s.position;this.s.enable&&(this.c.header&&(a=!r.visible||i<=r.theadTop-this.c.headerOffset?"in-place":i<=r.tfootTop-r.theadHeight-this.c.headerOffset?"in":"below",(e||a!==this.s.headerMode)&&this._modeChange(a,"header",e),this._horizontal("header",o)),this.c.footer&&this.dom.tfoot.length)&&(i=!r.visible||i+r.windowHeight>=r.tfootBottom+this.c.footerOffset?"in-place":r.windowHeight+i>r.tbodyTop+r.tfootHeight+this.c.footerOffset?"in":"above",(e||i!==this.s.footerMode)&&this._modeChange(i,"footer",e),this._horizontal("footer",o))}}),r.version="3.1.3",r.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},t.fn.dataTable.FixedHeader=r,t.fn.DataTable.FixedHeader=r,t(s).on("init.dt.dtfh",(function(e,s){if("dt"===e.namespace){var a=s.oInit.fixedHeader,o=i.defaults.fixedHeader;!a&&!o||s._fixedHeader||(o=t.extend({},o,a),!1!==a&&new r(s,o))}})),i.Api.register("fixedHeader()",(function(){})),i.Api.register("fixedHeader.adjust()",(function(){return this.iterator("table",(function(t){(t=t._fixedHeader)&&t.update()}))})),i.Api.register("fixedHeader.enable()",(function(t){return this.iterator("table",(function(e){e=e._fixedHeader,t=t===a||t,e&&t!==e.s.enable&&e.enable(t)}))})),i.Api.register("fixedHeader.disable()",(function(){return this.iterator("table",(function(t){(t=t._fixedHeader)&&t.s.enable&&t.enable(!1)}))})),t.each(["header","footer"],(function(t,e){i.Api.register("fixedHeader."+e+"Offset()",(function(t){var s=this.context;return t===a?s.length&&s[0]._fixedHeader?s[0]._fixedHeader[e+"Offset"]():a:this.iterator("table",(function(s){(s=s._fixedHeader)&&s[e+"Offset"](t)}))}))})),r}))},"74a6":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[s("side-bar"),s("div",{attrs:{id:"page-content-wrapper"}},[s("top-nav"),s("div",{attrs:{id:"main-container"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12",staticStyle:{"z-index":"20"}},[s("span",[t._v(t._s(t.reportTitle)),s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])]),s("sdPicker",{attrs:{onSubmit:t.fetchDates}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12"},[s("b-overlay",{attrs:{show:t.hideReport,"spinner-type":"grow","spinner-variant":"primary"},scopedSlots:t._u([t.reportSelected?null:{key:"overlay",fn:function(){return[s("h1",[t._v("No Report Selected")])]},proxy:!0}],null,!0)},[s("table",{staticClass:"table table-striped report",attrs:{id:"cohort-clients"}},[s("thead",[s("tr",[s("th",[t._v("Weight Band")]),s("th",[t._v("Gender")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("0A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("2A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("4A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("5A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("6A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("7A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("8A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("9A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("10A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("11A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("12A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("13A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("14A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("15A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("16A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("17A")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("0P")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("2P")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("4P")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("9P")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("11P")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("14P")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("14PP")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("15P")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("15PP")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("16P")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("17P")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("Unknown")]),s("th",{staticClass:"disaggregated-numbers"},[t._v("Total (regimen)")])])]),s("tbody",{ref:"tableBody"},[t._l(t.reportData,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(e.weight))]),s("td",[t._v("Male")]),t._l(e.males,(function(e,a){return s("td",{key:a},[t._v(" "+t._s(e[Object.keys(e)[0]])+" ")])}))],2)})),t._l(t.reportData,(function(e,a){return s("tr",{key:a+"fem"},[s("td",[t._v(t._s(e.weight))]),s("td",[t._v("Female")]),t._l(e.females,(function(e,a){return s("td",{key:a},[t._v(" "+t._s(e[Object.keys(e)[0]])+" ")])}))],2)}))],2),s("tfoot",[s("tr",[s("td",[t._v(" Date Created: "+t._s(t.moment().format("YYYY-MM-DD:h:m:s"))+" e-Mastercard Version : "+t._s(t.EMCVersion)+" API Version "+t._s(t.APIVersion)+" ")])])])])])],1)])])],1)],1)},i=[],o=(s("4160"),s("b0c0"),s("b64b"),s("159b"),s("ade3")),r=(s("96cf"),s("1da1")),n=s("8051"),d=s("ebd8"),l=s("7c08"),c=s("c1df"),f=s.n(c),h=s("4dfe"),u=s("1157"),g=s.n(u);s("6810");s("2cdf"),s("fd5e"),s("5caa"),s("c3dc"),s("8b8e"),s("4e95"),s("a8a1"),s("919c"),s("4b69"),s("7dae"),s("a821"),s("728d");var p={name:"reports",components:{"top-nav":d["a"],"side-bar":l["a"],sdPicker:h["a"]},methods:{fetchDates:function(t){this.startDate=t[0],this.endDate=t[1],this.initializeReport()},initializeReport:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.reportLoading=!0,this.reportSelected=!0,e="/programs/1/reports/regimens_by_weight_and_gender?",e+="start_date="+this.startDate,e+="&end_date="+this.endDate,t.next=7,n["a"].get(e,{},{});case 7:s=t.sent,200===s.status&&s.json().then((function(t){a.mergeRegimens(t)}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initDataTable:function(){this.report_title="MoH "+sessionStorage.location_name+" disaggregated regimen distribution by weight report ",this.report_title+=f()(this.startDate).format("DDMMMYYYY"),this.report_title+=" - "+f()(this.endDate).format("DDMMMYYYY"),this.dTable=g()("#cohort-clients").dataTable({order:[[0,"asc"]],fixedHeader:!1,searching:!1,paging:!1,Processing:!1,ServerSide:!1,scrollY:"50vh",scrollX:!0,scrollCollapse:!0,fixedColumns:{leftColumns:2,rightColumns:1},scroller:{loadingIndicator:!0},dom:"Bfrtip",buttons:[{extend:"copy",title:this.report_title},{extend:"csv",title:this.report_title,footer:!0},{extend:"pdf",title:this.report_title},{extend:"print",title:this.report_title}]})},mergeRegimens:function(t){var e=this;t.forEach((function(s,a){t[a].males=e.getReg(s.males),t[a].females=e.getReg(s.females)})),this.reportData=t,this.reportLoading=!1,setTimeout((function(){return e.initDataTable()}),400)},getReg:function(t){var e=[{"0A":0},{"2A":0},{"4A":0},{"5A":0},{"6A":0},{"7A":0},{"8A":0},{"9A":0},{"10A":0},{"11A":0},{"12A":0},{"13A":0},{"14A":0},{"15A":0},{"16A":0},{"17A":0},{"0P":0},{"2P":0},{"4P":0},{"9P":0},{"11P":0},{"14P":0},{"14PP":0},{"15P":0},{"15PP":0},{"16P":0},{"17P":0},{"N/A":0}],s={total:0};return t.forEach((function(t,a){e.forEach((function(s,a){s.hasOwnProperty(Object.keys(t))&&(e[a]=t)})),s.total+=t[Object.keys(t)[0]]})),e.push(s),e}},mounted:function(){},data:function(){return Object(o["a"])({reportData:null,dTable:null,formatedData:[],rebuildOutcome:!0,startDate:null,endDate:null,screenedTB:[],givenIPT:[],totalMales:[0,0,0,0],totalFemales:[0,0,0,0],fpRow:null,fbfRow:null,allRows:[],initialize:!1,reportSelected:!1,reportLoading:!1,APIVersion:sessionStorage.APIVersion,EMCVersion:sessionStorage.EMCVersion},"reportData",[])},computed:{getRegimens:function(){return this.regimens},hideReport:function(){return this.reportLoading||!this.reportSelected},reportTitle:function(){return"".concat(this.$store.state.location.name," Regimen Distribution by weight ")}}},m=p,b=(s("0724"),s("8fd5"),s("2877")),v=Object(b["a"])(m,a,i,!1,null,"cd32098a",null);e["default"]=v.exports},"7db0":function(t,e,s){"use strict";var a=s("23e7"),i=s("b727").find,o=s("44d2"),r=s("ae40"),n="find",d=!0,l=r(n);n in[]&&Array(1)[n]((function(){d=!1})),a({target:"Array",proto:!0,forced:d||!l},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(n)},"8b8e":function(t,e,s){},"8fd5":function(t,e,s){"use strict";var a=s("ca99"),i=s.n(a);i.a},ca99:function(t,e,s){},df61:function(t,e,s){}}]);
//# sourceMappingURL=chunk-04aba433.dda0e681.js.map