(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b34f9f9a"],{"0720":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[o("side-bar"),o("div",{attrs:{id:"page-content-wrapper"}},[o("top-nav"),o("div",{staticClass:"container-fluid"},[o("Report",{staticStyle:{"margin-top":"10px"}})],1)],1)],1)])},i=[],r=o("ebd8"),n=o("7c08"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12 table-col",attrs:{id:"main-container"}},[o("span",[t._v(" "+t._s(t.report_title)+" "),o("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12",staticStyle:{"z-index":"30"}},[o("div",{staticClass:"form-group"},[o("sdPicker",{attrs:{onSubmit:t.fetchDates}})],1)])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("ReportOverlay",{attrs:{reportLoading:t.reportLoading,reportSelected:t.reportSelected}},[o("table",{staticClass:"table table-striped report",attrs:{id:"cohort-clients"}},[o("thead",[o("tr",[o("th",[t._v("#")]),o("th",{staticClass:"disaggregated-numbers"},[t._v("ARV#")]),o("th",{staticClass:"disaggregated-numbers"},[t._v("NHID")]),o("th",{staticClass:"disaggregated-numbers"},[t._v("First name")]),o("th",{staticClass:"disaggregated-numbers"},[t._v("Last name")]),o("th",{staticClass:"disaggregated-numbers"},[t._v("Gender")]),o("th",{staticClass:"disaggregated-numbers"},[t._v("Birthdate")]),o("th",{staticClass:"disaggregated-numbers"},[t._v("Date(s)")])])]),o("tbody",t._l(t.missingAppointmentReport,(function(e,a){return o("tr",{key:a},[o("th",{attrs:{scope:"row"}},[t._v(t._s(a+1))]),o("td",[t._v(t._s(e.arv_number))]),o("td",[t._v(t._s(e.national_id))]),o("td",[t._v(t._s(e.given_name))]),o("td",[t._v(t._s(e.family_name))]),o("td",[t._v(t._s(e.gender))]),o("td",[t._v(t._s(e.birthdate))]),o("td",[t._v(t._s(e.dates.join(", ")))])])})),0),o("tfoot",[o("tr",[o("td",[t._v(" Date Created: "+t._s(t.moment().format("YYYY-MM-DD:h:m:s"))+" e-Mastercard Version : "+t._s(t.EMCVersion)+" API Version "+t._s(t.APIVersion)+" ")])])])])])],1)])])},d=[],l=(o("99af"),o("3835")),c=(o("96cf"),o("1da1")),f=o("8051"),h=o("c1df"),u=o.n(h),p=o("4dfe"),m=o("1157"),b=o.n(m),g=(o("6810"),o("8e71"));o("2cdf"),o("fd5e"),o("5caa"),o("c3dc"),o("8b8e"),o("4e95"),o("a8a1"),o("919c"),o("4b69"),o("7dae"),o("a821"),o("728d");var v={name:"reports",components:{"top-nav":r["a"],"side-bar":n["a"],sdPicker:p["a"],ReportOverlay:g["a"]},data:function(){return{report_title:"Viral Load Report ",reportData:null,dTable:null,formatedData:[],rebuildOutcome:!0,startDate:null,padding:!1,endDate:null,minViralLoad:null,maxViralLoad:null,missingAppointmentReport:{},viralLoadReport:{},reportLoading:!1,reportSelected:!1,APIVersion:sessionStorage.APIVersion,EMCVersion:sessionStorage.EMCVersion}},methods:{fetchDates:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(o.prev=0,a=Object(l["a"])(t,2),e.startDate=a[0],e.endDate=a[1],i=function(t){return t&&"Invalid date"!==t},i(e.startDate)&&i(e.endDate)){o.next=7;break}return o.abrupt("return");case 7:return e.reportLoading=!0,e.reportSelected=!0,o.next=11,e.fetchReport(t);case 11:o.next=16;break;case 13:o.prev=13,o.t0=o["catch"](0),e.$router.push({name:"error",params:{message:o.t0.message}});case 16:return o.prev=16,e.reportLoading=!1,o.finish(16);case 19:case"end":return o.stop()}}),o,null,[[0,13,16,19]])})))()},initDataTable:function(){var t=u()(this.startDate).format("DD/MMM/YYYY"),e=u()(this.endDate).format("DD/MMM/YYYY");this.report_title=sessionStorage.location_name+" Incomplete Visits Report. ","Invalid date"==!t&&(this.report_title+=" Reporting  period: "+t,this.report_title+=" "+e),this.dTable=b()("#cohort-clients").dataTable({order:[[0,"asc"]],fixedHeader:!0,searching:!1,paging:!0,Processing:!0,ServerSide:!1,fixedColumns:{leftColumns:2,rightColumns:1},scroller:{loadingIndicator:!0},dom:"Bfrtip",buttons:[{extend:"copy",title:this.report_title},{extend:"csv",title:this.report_title,footer:!0},{extend:"pdf",title:this.report_title},{extend:"print",title:this.report_title}]})},fetchReport:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,o,a,i,r,n,s,d=this,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=l.length>0&&void 0!==l[0]?l[0]:{},o=u()(e[0]).format("YYYY-MM-DD"),a=u()(e[1]).format("YYYY-MM-DD"),i="incomplete_visits?program_id=1&start_date=".concat(o,"&end_date=").concat(a,"&tool_name=INCOMPLETE VISITS"),r=document.getElementsByClassName("dt-button"),n=0;n<r.length;n++)r[n].setAttribute("disabled",!0),r[n].style="display: none;";return t.next=8,f["a"].get(i,{},{});case 8:s=t.sent,200===s.status&&s.json().then((function(t){d.missingAppointmentReport=t,console.log(d.missingAppointmentReport),d.dTable.api().destroy(),d.$nextTick((function(){d.initDataTable()}))}));case 10:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;setTimeout((function(){return t.initDataTable()}),300)}},_=v,D=(o("eda9"),o("3ac1"),o("2877")),x=Object(D["a"])(_,s,d,!1,null,"23999440",null),y=x.exports,w={name:"home",components:{"top-nav":r["a"],"side-bar":n["a"],Report:y}},H=w,C=Object(D["a"])(H,a,i,!1,null,null,null);e["default"]=C.exports},"336a":function(t,e,o){"use strict";var a=o("df61"),i=o.n(a);i.a},3835:function(t,e,o){"use strict";function a(t){if(Array.isArray(t))return t}o.d(e,"a",(function(){return n}));o("a4d3"),o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("25f0"),o("3ca3"),o("ddb0");function i(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var o=[],a=!0,i=!1,r=void 0;try{for(var n,s=t[Symbol.iterator]();!(a=(n=s.next()).done);a=!0)if(o.push(n.value),e&&o.length===e)break}catch(d){i=!0,r=d}finally{try{a||null==s["return"]||s["return"]()}finally{if(i)throw r}}return o}}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(t,e){return a(t)||i(t,e)||r()}},"3ac1":function(t,e,o){"use strict";var a=o("717b"),i=o.n(a);i.a},"4dfe":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ctrs"},[o("div",{staticClass:"ctr-table"},[o("div",{staticClass:"ctr-row"},[o("div",{staticClass:"ctr-cell"},[o("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"Start Date",readonly:!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),o("div",{staticClass:"ctr-cell"},[o("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"End Date",readonly:!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),o("div",{staticClass:"ctr-cell"},[o("button",{staticClass:"btn btn-success",on:{click:t.submitDates}},[t._v("Submit")])])])])])},i=[],r=o("f0ca"),n=o.n(r),s=o("c1df"),d=o.n(s),l=(o("6f3c"),o("1789")),c={components:{DatePick:n.a},props:["onSubmit"],data:function(){return{startDate:null,endDate:null,format:"DD/MMM/YYYY",date:l["a"].format(new Date,"DD/MMM/YYYY")}},methods:{initDates:function(){},submitDates:function(){this.startDate=d()(this.startDate).format("YYYY-MM-DD"),this.endDate=d()(this.endDate).format("YYYY-MM-DD"),this.onSubmit([this.startDate,this.endDate])},parseDate:function(t,e){return l["a"].parse(t,e)},formatDate:function(t,e){return l["a"].format(t,e)}},mounted:function(){var t=this;setTimeout((function(){return t.initDates()}),300)}},f=c,h=(o("336a"),o("2877")),u=Object(h["a"])(f,a,i,!1,null,"15deca72",null);e["a"]=u.exports},"717b":function(t,e,o){},"728d":function(t,e,o){var a,i;o("7db0"),o("d81d");o("7037");
/*!
 FixedHeader 3.1.3
 Â©2009-2017 SpryMedia Ltd - datatables.net/license
*/(function(r){a=[o("1157"),o("1653")],i=function(t){return r(t,window,document)}.apply(e,a),void 0===i||(t.exports=i)})((function(t,e,o,a){var i=t.fn.dataTable,r=0,n=function o(a,n){if(!(this instanceof o))throw"FixedHeader must be initialised with the 'new' keyword.";!0===n&&(n={}),a=new i.Api(a),this.c=t.extend(!0,{},o.defaults,n),this.s={dt:a,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:t(e).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:a.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+r++,scrollLeft:{header:-1,footer:-1},enable:!0},this.dom={floatingHeader:null,thead:t(a.table().header()),tbody:t(a.table().body()),tfoot:t(a.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var s=a.settings()[0];if(s._fixedHeader)throw"FixedHeader already initialised on table "+s.nTable.id;s._fixedHeader=this,this._constructor()};return t.extend(n.prototype,{enable:function(t){this.s.enable=t,this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&this.dom.tfoot.length&&this._modeChange("in-place","footer",!0),this.update()},headerOffset:function(t){return t!==a&&(this.c.headerOffset=t,this.update()),this.c.headerOffset},footerOffset:function(t){return t!==a&&(this.c.footerOffset=t,this.update()),this.c.footerOffset},update:function(){this._positions(),this._scroll(!0)},_constructor:function(){var o=this,a=this.s.dt;t(e).on("scroll"+this.s.namespace,(function(){o._scroll()})).on("resize"+this.s.namespace,(function(){o.s.position.windowHeight=t(e).height(),o.update()}));var i=t(".fh-fixedHeader");!this.c.headerOffset&&i.length&&(this.c.headerOffset=i.outerHeight()),i=t(".fh-fixedFooter"),!this.c.footerOffset&&i.length&&(this.c.footerOffset=i.outerHeight()),a.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc",(function(){o.update()})),a.on("destroy.dtfc",(function(){a.off(".dtfc"),t(e).off(o.s.namespace)})),this._positions(),this._scroll()},_clone:function(e,o){var a=this.s.dt,i=this.dom[e],r="header"===e?this.dom.thead:this.dom.tfoot;!o&&i.floating?i.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(i.floating&&(i.placeholder.remove(),this._unsize(e),i.floating.children().detach(),i.floating.remove()),i.floating=t(a.table().node().cloneNode(!1)).css("table-layout","fixed").removeAttr("id").append(r).appendTo("body"),i.placeholder=r.clone(!1),i.placeholder.find("*[id]").removeAttr("id"),i.host.prepend(i.placeholder),this._matchWidths(i.placeholder,i.floating))},_matchWidths:function(e,o){var a=function(o){return t(o,e).map((function(){return t(this).width()})).toArray()},i=function(e,a){t(e,o).each((function(e){t(this).css({width:a[e],minWidth:a[e]})}))},r=a("th");a=a("td");i("th",r),i("td",a)},_unsize:function(e){var o=this.dom[e].floating;o&&("footer"===e||"header"===e&&!this.s.autoWidth)?t("th, td",o).css({width:"",minWidth:""}):o&&"header"===e&&t("th, td",o).css("min-width","")},_horizontal:function(t,e){var o=this.dom[t],a=this.s.position,i=this.s.scrollLeft;o.floating&&i[t]!==e&&(o.floating.css("left",a.left-e),i[t]=e)},_modeChange:function(e,a,i){var r=this.dom[a],n=this.s.position,s=t.contains(this.dom["footer"===a?"tfoot":"thead"][0],o.activeElement)?o.activeElement:null;"in-place"===e?(r.placeholder&&(r.placeholder.remove(),r.placeholder=null),this._unsize(a),"header"===a?r.host.prepend(this.dom.thead):r.host.append(this.dom.tfoot),r.floating&&(r.floating.remove(),r.floating=null)):"in"===e?(this._clone(a,i),r.floating.addClass("fixedHeader-floating").css("header"===a?"top":"bottom",this.c[a+"Offset"]).css("left",n.left+"px").css("width",n.width+"px"),"footer"===a&&r.floating.css("top","")):"below"===e?(this._clone(a,i),r.floating.addClass("fixedHeader-locked").css("top",n.tfootTop-n.theadHeight).css("left",n.left+"px").css("width",n.width+"px")):"above"===e&&(this._clone(a,i),r.floating.addClass("fixedHeader-locked").css("top",n.tbodyTop).css("left",n.left+"px").css("width",n.width+"px")),s&&s!==o.activeElement&&s.focus(),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[a+"Mode"]=e},_positions:function(){var e=this.s.dt.table(),o=this.s.position,a=this.dom,i=(e=t(e.node()),e.children("thead")),r=e.children("tfoot");a=a.tbody;o.visible=e.is(":visible"),o.width=e.outerWidth(),o.left=e.offset().left,o.theadTop=i.offset().top,o.tbodyTop=a.offset().top,o.theadHeight=o.tbodyTop-o.theadTop,r.length?(o.tfootTop=r.offset().top,o.tfootBottom=o.tfootTop+r.outerHeight(),o.tfootHeight=o.tfootBottom-o.tfootTop):(o.tfootTop=o.tbodyTop+a.outerHeight(),o.tfootBottom=o.tfootTop,o.tfootHeight=o.tfootTop)},_scroll:function(e){var a,i=t(o).scrollTop(),r=t(o).scrollLeft(),n=this.s.position;this.s.enable&&(this.c.header&&(a=!n.visible||i<=n.theadTop-this.c.headerOffset?"in-place":i<=n.tfootTop-n.theadHeight-this.c.headerOffset?"in":"below",(e||a!==this.s.headerMode)&&this._modeChange(a,"header",e),this._horizontal("header",r)),this.c.footer&&this.dom.tfoot.length)&&(i=!n.visible||i+n.windowHeight>=n.tfootBottom+this.c.footerOffset?"in-place":n.windowHeight+i>n.tbodyTop+n.tfootHeight+this.c.footerOffset?"in":"above",(e||i!==this.s.footerMode)&&this._modeChange(i,"footer",e),this._horizontal("footer",r))}}),n.version="3.1.3",n.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},t.fn.dataTable.FixedHeader=n,t.fn.DataTable.FixedHeader=n,t(o).on("init.dt.dtfh",(function(e,o){if("dt"===e.namespace){var a=o.oInit.fixedHeader,r=i.defaults.fixedHeader;!a&&!r||o._fixedHeader||(r=t.extend({},r,a),!1!==a&&new n(o,r))}})),i.Api.register("fixedHeader()",(function(){})),i.Api.register("fixedHeader.adjust()",(function(){return this.iterator("table",(function(t){(t=t._fixedHeader)&&t.update()}))})),i.Api.register("fixedHeader.enable()",(function(t){return this.iterator("table",(function(e){e=e._fixedHeader,t=t===a||t,e&&t!==e.s.enable&&e.enable(t)}))})),i.Api.register("fixedHeader.disable()",(function(){return this.iterator("table",(function(t){(t=t._fixedHeader)&&t.s.enable&&t.enable(!1)}))})),t.each(["header","footer"],(function(t,e){i.Api.register("fixedHeader."+e+"Offset()",(function(t){var o=this.context;return t===a?o.length&&o[0]._fixedHeader?o[0]._fixedHeader[e+"Offset"]():a:this.iterator("table",(function(o){(o=o._fixedHeader)&&o[e+"Offset"](t)}))}))})),n}))},"7db0":function(t,e,o){"use strict";var a=o("23e7"),i=o("b727").find,r=o("44d2"),n=o("ae40"),s="find",d=!0,l=n(s);s in[]&&Array(1)[s]((function(){d=!1})),a({target:"Array",proto:!0,forced:d||!l},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},"8b8e":function(t,e,o){},"8e71":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-overlay",{attrs:{show:t.hideReport,"no-center":!0,"spinner-type":"grow","spinner-variant":"primary"},scopedSlots:t._u([{key:"overlay",fn:function(){return[o("div",{staticStyle:{display:"block","min-height":"720px",width:"100%","padding-top":"20%"}},[t.reportSelected?t._e():o("h1",[t._v("No Report Selected")]),t.reportSelected?o("b-spinner",{attrs:{type:"grow",variant:"primary"}}):t._e()],1)]},proxy:!0}])},[t._t("default")],2)},i=[],r={name:"report-overlay",props:{reportLoading:{type:Boolean,required:!0},reportSelected:{type:Boolean,default:!0}},computed:{hideReport:function(){return this.reportLoading||!this.reportSelected}}},n=r,s=o("2877"),d=Object(s["a"])(n,a,i,!1,null,null,null);e["a"]=d.exports},c102:function(t,e,o){},df61:function(t,e,o){},eda9:function(t,e,o){"use strict";var a=o("c102"),i=o.n(a);i.a}}]);
//# sourceMappingURL=chunk-b34f9f9a.5b13d4b6.js.map