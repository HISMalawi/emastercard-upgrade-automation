(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4010fc52"],{"2f2e":function(t,e,r){},"336a":function(t,e,r){"use strict";var a=r("df61"),n=r.n(a);n.a},3835:function(t,e,r){"use strict";function a(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return i}));r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("25f0"),r("3ca3"),r("ddb0");function n(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done);a=!0)if(r.push(i.value),e&&r.length===e)break}catch(c){n=!0,o=c}finally{try{a||null==s["return"]||s["return"]()}finally{if(n)throw o}}return r}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(t,e){return a(t)||n(t,e)||o()}},"4dfe":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ctrs"},[r("div",{staticClass:"ctr-table"},[r("div",{staticClass:"ctr-row"},[r("div",{staticClass:"ctr-cell"},[r("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"Start Date",readonly:!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("div",{staticClass:"ctr-cell"},[r("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"End Date",readonly:!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),r("div",{staticClass:"ctr-cell"},[r("button",{staticClass:"btn btn-success",on:{click:t.submitDates}},[t._v("Submit")])])])])])},n=[],o=r("f0ca"),i=r.n(o),s=r("c1df"),c=r.n(s),l=(r("6f3c"),r("1789")),u={components:{DatePick:i.a},props:["onSubmit"],data:function(){return{startDate:null,endDate:null,format:"DD/MMM/YYYY",date:l["a"].format(new Date,"DD/MMM/YYYY")}},methods:{initDates:function(){},submitDates:function(){this.startDate=c()(this.startDate).format("YYYY-MM-DD"),this.endDate=c()(this.endDate).format("YYYY-MM-DD"),this.onSubmit([this.startDate,this.endDate])},parseDate:function(t,e){return l["a"].parse(t,e)},formatDate:function(t,e){return l["a"].format(t,e)}},mounted:function(){var t=this;setTimeout((function(){return t.initDates()}),300)}},f=u,d=(r("336a"),r("2877")),p=Object(d["a"])(f,a,n,!1,null,"15deca72",null);e["a"]=p.exports},"4fad":function(t,e,r){var a=r("23e7"),n=r("6f53").entries;a({target:"Object",stat:!0},{entries:function(t){return n(t)}})},"5b8c":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[r("side-bar"),r("div",{attrs:{id:"page-content-wrapper"}},[r("top-nav"),r("div",{staticClass:"col-12 table-col",attrs:{id:"main-container"}},[r("span",[t._v(t._s(t.report_title)),r("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])]),r("b-row",[r("b-col",[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[t._v("Regimen")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedRegimen,expression:"selectedRegimen"}],staticClass:"form-control",attrs:{name:"",id:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedRegimen=e.target.multiple?r:r[0]}}},t._l(t.regimens,(function(e,a){return r("option",{key:a},[t._v(" "+t._s(e)+" ")])})),0)])]),r("b-col",[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[t._v("Formulation")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.formulation,expression:"formulation"}],staticClass:"form-control",attrs:{name:"",id:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.formulation=e.target.multiple?r:r[0]}}},[r("option",[t._v("pellets")]),r("option",[t._v("tablets")]),r("option",[t._v("granules")])])])]),r("b-col",[r("sdPicker",{attrs:{onSubmit:t.fetchDates}})],1)],1),r("b-overlay",{attrs:{show:t.hideReport,"spinner-type":"grow","spinner-variant":"primary"},scopedSlots:t._u([t.reportSelected?null:{key:"overlay",fn:function(){return[r("h1",[t._v("No Report Selected")])]},proxy:!0}],null,!0)},[r("table",{staticClass:"table table-striped report",attrs:{id:"cohort-clients"}},[r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("ARV number")]),r("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("Gender")]),r("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("DOB")]),r("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("Action")])])]),r("tbody",t._l(t.reportData,(function(e,a){return r("tr",{key:a},[r("td",[t._v(t._s(e.arv_number))]),r("td",{staticClass:"center-text"},[t._v(t._s(t.formatGender(e.gender)))]),r("td",{staticClass:"center-text"},[t._v(" "+t._s(t.moment(e.birthdate).format("DD/MMM/YYYY"))+" ")]),r("td",[r("b-button",{attrs:{variant:"primary"},on:{click:function(r){return t.$router.push("/patient/mastercard/"+e.patient_id)}}},[t._v("show")])],1)])})),0),r("tfoot",[r("tr",[r("td",[t._v(" Date Created: "+t._s(t.moment().format("YYYY-MM-DD:h:m:s"))+" e-Mastercard Version : "+t._s(t.EMCVersion)+" API Version "+t._s(t.APIVersion)+" ")])])])])])],1)],1)],1)},n=[],o=(r("99af"),r("b0c0"),r("96cf"),r("1da1")),i=r("8051"),s=r("ebd8"),c=r("7c08"),l=r("c1df"),u=r.n(l),f=r("4dfe"),d=r("1157"),p=r.n(d),m=(r("6810"),r("9521"));r("2cdf"),r("fd5e"),r("5caa"),r("c3dc"),r("4e95"),r("a8a1"),r("919c"),r("4b69"),r("7dae"),r("a821");var v={name:"reports",components:{"top-nav":s["a"],"side-bar":c["a"],sdPicker:f["a"]},methods:{formatGender:function(t){return Object(m["a"])(t)},fetchDates:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.report_title="Clinic "+this.$store.state.location.name+" regimen formulation: patient level: report ",this.report_title+=u()(e[0]).format("DDMMMYYYY"),this.report_title+=" - "+u()(e[1]).format("DDMMMYYYY"),r="/programs/1/reports/regimens_and_formulations?start_date=".concat(e[0],"&end_date=").concat(e[1],"\n        &regimen=").concat(this.selectedRegimen,"&formulation=").concat(this.formulation),this.reportLoading=!0,this.reportSelected=!0,t.next=8,i["a"].get(encodeURI(r),{},{});case 8:a=t.sent,200===a.status?a.json().then((function(t){return n.checkResult(t)})):this.reportLoading=!1;case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),initDataTable:function(){this.dTable=p()("#cohort-clients").dataTable({order:[[0,"asc"]],fixedHeader:!0,dom:"Bfrtip",retrieve:!0,buttons:[{extend:"copy",title:this.report_title},{extend:"csv",title:this.report_title,footer:!0},{extend:"pdf",title:this.report_title},{extend:"print",title:this.report_title}],columnDefs:[]}),this.reportLoading=!1},checkResult:function(t){var e=this;this.reportData=t,setTimeout((function(){return e.initDataTable()}),400)}},mounted:function(){},computed:{hideReport:function(){return this.reportLoading||!this.reportSelected}},data:function(){return{report_title:"Regimen distribution ",reportData:null,dTable:null,selectedRegimen:null,formulation:null,reportSelected:!1,reportLoading:!1,formatedData:[],APIVersion:sessionStorage.APIVersion,EMCVersion:sessionStorage.EMCVersion,regimens:["0A","2A","4A","5A","6A","7A","8A","9A","10A","11A","12A","13A","14A","15A","16A","17A","0P","2P","4PP","4PA","9PP","9PA","11PP","11PA","12PA","12PP","14PP","14PA","15PP","15PA","16P","17PP","17PA"]}}},h=v,b=(r("7d56"),r("6683"),r("2877")),D=Object(b["a"])(h,a,n,!1,null,"2234ca6e",null);e["default"]=D.exports},6683:function(t,e,r){"use strict";var a=r("6e3f"),n=r.n(a);n.a},"6e3f":function(t,e,r){},"6f53":function(t,e,r){var a=r("83ab"),n=r("df75"),o=r("fc6a"),i=r("d1e7").f,s=function(t){return function(e){var r,s=o(e),c=n(s),l=c.length,u=0,f=[];while(l>u)r=c[u++],a&&!i.call(s,r)||f.push(t?[r,s[r]]:s[r]);return f}};t.exports={entries:s(!0),values:s(!1)}},"7d56":function(t,e,r){"use strict";var a=r("2f2e"),n=r.n(a);n.a},9521:function(t,e,r){"use strict";r.d(e,"c",(function(){return n})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return i}));r("99af"),r("4fad"),r("ac1f"),r("466d"),r("5319"),r("498a");var a=r("3835");function n(t){try{return t.replace(/<(?:.|\n)*?>/gm," ").replace(/\n/g," ").replace(/\t/g," ").replace(/\s{2,}/g," ").replace(/=/g," ").replace(/,/g," ").trim()}catch(e){return t}}function o(t){return t.match(/fb|fbf|fnp/i)?t.toUpperCase():(t=t.toLowerCase(),"m"===t||"male"===t?"Male":"Female")}function i(t){for(var e="",r=0,n=Object.entries(t);r<n.length;r++){var o=Object(a["a"])(n[r],2),i=o[0],s=o[1];e+="".concat(i,"=").concat(s,"&")}return e}},df61:function(t,e,r){}}]);
//# sourceMappingURL=chunk-4010fc52.a86a2e08.js.map