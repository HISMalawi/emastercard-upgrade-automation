(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72406459"],{"336a":function(t,e,a){"use strict";var n=a("df61"),r=a.n(n);r.a},"45fc":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").some,o=a("a640"),s=a("ae40"),i=o("some"),c=s("some");n({target:"Array",proto:!0,forced:!i||!c},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4dfe":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ctrs"},[a("div",{staticClass:"ctr-table"},[a("div",{staticClass:"ctr-row"},[a("div",{staticClass:"ctr-cell"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"Start Date",readonly:!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),a("div",{staticClass:"ctr-cell"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"End Date",readonly:!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),a("div",{staticClass:"ctr-cell"},[a("button",{staticClass:"btn btn-success",on:{click:t.submitDates}},[t._v("Submit")])])])])])},r=[],o=a("f0ca"),s=a.n(o),i=a("c1df"),c=a.n(i),l=(a("6f3c"),a("1789")),u={components:{DatePick:s.a},props:["onSubmit"],data:function(){return{startDate:null,endDate:null,format:"DD/MMM/YYYY",date:l["a"].format(new Date,"DD/MMM/YYYY")}},methods:{initDates:function(){},submitDates:function(){this.startDate=c()(this.startDate).format("YYYY-MM-DD"),this.endDate=c()(this.endDate).format("YYYY-MM-DD"),this.onSubmit([this.startDate,this.endDate])},parseDate:function(t,e){return l["a"].parse(t,e)},formatDate:function(t,e){return l["a"].format(t,e)}},mounted:function(){var t=this;setTimeout((function(){return t.initDates()}),300)}},d=u,f=(a("336a"),a("2877")),m=Object(f["a"])(d,n,r,!1,null,"15deca72",null);e["a"]=m.exports},5319:function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),o=a("7b0b"),s=a("50c4"),i=a("a691"),c=a("1d80"),l=a("8aa5"),u=a("14c3"),d=Math.max,f=Math.min,m=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var b=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,D=n.REPLACE_KEEPS_$0,_=b?"$":"$0";return[function(a,n){var r=c(this),o=void 0==a?void 0:a[t];return void 0!==o?o.call(a,r,n):e.call(String(r),a,n)},function(t,n){if(!b&&D||"string"===typeof n&&-1===n.indexOf(_)){var o=a(e,t,this,n);if(o.done)return o.value}var c=r(t),m=String(this),h="function"===typeof n;h||(n=String(n));var p=c.global;if(p){var w=c.unicode;c.lastIndex=0}var Y=[];while(1){var M=u(c,m);if(null===M)break;if(Y.push(M),!p)break;var k=String(M[0]);""===k&&(c.lastIndex=l(m,s(c.lastIndex),w))}for(var C="",S=0,y=0;y<Y.length;y++){M=Y[y];for(var E=String(M[0]),x=d(f(i(M.index),m.length),0),A=[],$=1;$<M.length;$++)A.push(v(M[$]));var L=M.groups;if(h){var P=[E].concat(A,x,m);void 0!==L&&P.push(L);var R=String(n.apply(void 0,P))}else R=g(E,m,x,A,L,n);x>=S&&(C+=m.slice(S,x)+R,S=x+E.length)}return C+m.slice(S)}];function g(t,a,n,r,s,i){var c=n+t.length,l=r.length,u=p;return void 0!==s&&(s=o(s),u=h),e.call(i,u,(function(e,o){var i;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,n);case"'":return a.slice(c);case"<":i=s[o.slice(1,-1)];break;default:var u=+o;if(0===u)return e;if(u>l){var d=m(u/10);return 0===d?e:d<=l?void 0===r[d-1]?o.charAt(1):r[d-1]+o.charAt(1):e}i=r[u-1]}return void 0===i?"":i}))}}))},"5f8a":function(t,e,a){},8620:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[a("side-bar"),a("div",{attrs:{id:"page-content-wrapper"}},[a("top-nav"),a("div",{staticClass:"col-12 table-col",attrs:{id:"main-container"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("sdPicker",{attrs:{onSubmit:t.fetchDates}})],1)]),a("vue-bootstrap4-table",{attrs:{rows:t.rows,columns:t.columns,config:t.config,"show-loader":t.showLoader,actions:t.actions},on:{"on-download":t.onDownload},scopedSlots:t._u([{key:"birthdate",fn:function(e){return[a("b",[t._v(t._s(t.moment(e.cell_value).format("DD/MMM/YYYY"))+" ("+t._s(t.moment().diff(e.cell_value,"years",!1))+")")])]}},{key:"patient_id",fn:function(e){return[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.redirect(e.cell_value)}}},[t._v(" show ")])]}}])})],1)],1)],1)},r=[],o=(a("99af"),a("4160"),a("45fc"),a("b0c0"),a("b64b"),a("d3b7"),a("ac1f"),a("3ca3"),a("5319"),a("159b"),a("ddb0"),a("2b3d"),a("2909")),s=(a("96cf"),a("1da1")),i=a("12f9"),c=a("8051"),l=a("ebd8"),u=a("7c08"),d=a("c1df"),f=a.n(d),m=a("4dfe"),h={name:"App",data:function(){return{reportData:null,dTable:null,formatedData:[],showLoader:!1,report_title:null,report:{},rows:[],columns:[{label:"ARV Number",name:"arv_number"},{label:"First Name",name:"given_name",sort:!0},{label:"Last Name",name:"family_name",sort:!0},{label:"Gender",name:"gender"},{label:"date of Birth",name:"birthdate",slot_name:"birthdate"},{label:"Age (at reporting)",name:"current_age",slot_name:"current_age"},{label:"Defaulter date",name:"defaulter_date",slot_name:"defaulter_date"},{label:"Action",name:"person_id",slot_name:"patient_id"}],config:{card_title:"MoH defaulter list",show_refresh_button:!1,show_reset_button:!1},actions:[{btn_text:"CSV",event_name:"on-download",class:"btn btn-primary my-custom-class",event_payload:{msg:"my custom msg"}}]}},methods:{fetchDates:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,n,r,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.rows=[],this.report_title=this.report.name,a=function(t){return"Invalid date"===t},!e.some(a)){t.next=7;break}console.log("Check your dates"),t.next=17;break;case 7:return this.report_title="MOH "+sessionStorage.location_name+" Defaulter list report",this.report_title+=f()(e[0]).format("DDMMMYYYY"),this.report_title+=" - "+f()(e[1]).format("DDMMMYYYY"),this.showLoader=!0,n="/defaulter_list?start_date="+e[0]+"&date="+e[1],n+="&end_date="+e[1]+"&program_id=1&pepfar=false",t.next=15,c["a"].get(n,{},{});case 15:r=t.sent,200===r.status?(r.json().then((function(t){Object.keys(t).length>0&&(o.rows=t)})),this.showLoader=!1):this.showLoader=!1;case 17:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),redirect:function(t){this.$router.push("/patient/mastercard/".concat(t))},onDownload:function(){var t=null,e=Object(o["a"])(this.columns);e.pop(),e.forEach((function(e){t+='"'.concat(e.label,'",')})),t=t.replace("null",""),this.rows.forEach((function(a){t+="\n",e.forEach((function(e){t+='"'.concat(a[e["name"]],'",')}))})),t+="\n",t+="Date Created:  ".concat(f()().format("YYYY-MM-DD:h:m:s")," \n                          e-Mastercard Version : ").concat(sessionStorage.EMCVersion," \n                          API Version ").concat(sessionStorage.APIVersion);for(var a=0;a<34;a++)t+=",";var n=new Blob([t],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,exportFilename);else{var r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download","".concat(this.report_title,".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}},components:{VueBootstrap4Table:i["a"],"top-nav":l["a"],"side-bar":u["a"],sdPicker:m["a"]},computed:{}},p=h,v=(a("9be5"),a("2877")),b=Object(v["a"])(p,n,r,!1,null,null,null);e["default"]=b.exports},"8aa5":function(t,e,a){"use strict";var n=a("6547").charAt;t.exports=function(t,e,a){return e+(a?n(t,e).length:1)}},"9be5":function(t,e,a){"use strict";var n=a("5f8a"),r=a.n(n);r.a},df61:function(t,e,a){}}]);
//# sourceMappingURL=chunk-72406459.dad9b0a3.js.map