(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01d89442"],{"04f9":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),i=n("7920"),o=n("2706"),r=n("d95e"),u=n("b5e4"),l=n("cc6f");class c extends l["a"]{constructor(e,t){super(e,84,t)}}var s=n("e343"),d=n("93c7"),b=Object(a["defineComponent"])({__name:"SocialHistory",setup(e){let t;const n=Object(a["ref"])([]),{goToNextTask:l,patientDashboardUrl:b}=Object(d["a"])((e,a)=>{t=new c(a,e),n.value=[p(),v(),h()]});async function f(e,n){const a=await t.createEncounter();if(!a)return Object(u["e"])("Unable to create social history encounter");const i=await Object(s["d"])({...n}),o=await t.saveObservationList(i);if(!o)return Object(u["e"])("Unable to save observations");l()}function p(){return{id:"social_acitivites",helpText:"Social Activities",type:r["b"].TT_MULTIPLE_YES_NO,validation:e=>o["a"].validateSeries([()=>o["a"].required(e),()=>o["a"].anyEmpty(e)]),computedValue:e=>({obs:e.map(e=>t.buildValueCoded(e.label,e.value))}),summaryMapValue:e=>({label:e.label,value:e.value}),options:(e,t)=>Object(s["c"])(["Patient smokes","Patient drinks alcohol"],t)}}function v(){return{id:"marital_status",helpText:"Marital Status",type:r["b"].TT_SELECT,validation:e=>o["a"].required(e),computedValue:e=>({obs:t.buildValueText("Marital status",e.label)}),options:()=>Object(s["b"])(["Single","Engaged","Married","Separated","Widowed","Other"])}}function h(){return{id:"religion",helpText:"Religion",type:r["b"].TT_SELECT,validation:e=>o["a"].required(e),computedValue:e=>({obs:t.buildValueText("Religion",e.label)}),options:()=>Object(s["b"])(["Catholic","CCAP","SDA","Angelican","Muslim","Pentecostalism","Jehovah witness","Other"])}}return(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(i["a"],{cancelDestinationPath:Object(a["unref"])(b),fields:n.value,onFinishAction:f},null,8,["cancelDestinationPath","fields"]))}});const f=b;t["default"]=f},e343:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l}));n("13d5"),n("14d9");var a=n("2ef0");function i(e,t=""){const n=Object.values(e).filter(e=>e&&(e.tag===t||""===t)).reduce((e,t)=>{const n=t.obs?t.obs:t;return Array.isArray(n)?e=e.concat(n):"function"===typeof n?e.push(n()):e.push(n),e},[]);return Promise.all(n)}function o(e){return e.map(e=>({label:e,value:e}))}function r(e,t="name",n="name"){return e.map(e=>({label:e[t],value:e[n],other:e}))}function u(e,t,n=!1){return e.map(e=>{var i;const o=Object(a["find"])(t,{label:e});return{label:e,value:null!==(i=null===o||void 0===o?void 0:o.value)&&void 0!==i?i:"",other:{values:n?l():c()}}})}function l(){return o(["Yes","No","Unknown"])}function c(){return o(["Yes","No"])}}}]);
//# sourceMappingURL=chunk-01d89442.e0ecfb9a.js.map