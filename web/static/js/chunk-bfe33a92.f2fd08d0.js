(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfe33a92"],{7337:function(e,t,o){"use strict";o.r(t);var s=o("7a23");const a=e=>(Object(s["pushScopeId"])("data-v-146a0e6b"),e=e(),Object(s["popScopeId"])(),e),n=a(()=>Object(s["createElementVNode"])("h1",{class:"ion-text-center"}," High BP Alert ",-1)),c={key:0,class:"vertically-align ion-text-center"},i={style:{"font-weight":"bold"}},r={class:"name"},l={class:"bp"},d=a(()=>Object(s["createElementVNode"])("br",null,null,-1)),h=a(()=>Object(s["createElementVNode"])("span",null,[Object(s["createTextVNode"])(" Retesting BP is "),Object(s["createElementVNode"])("span",{style:{"font-weight":"bold",color:"#000000","text-decoration":"underline"}},"optional"),Object(s["createTextVNode"])(". "),Object(s["createElementVNode"])("br"),Object(s["createTextVNode"])(" Do you want to test BP? ")],-1)),b={key:1,class:"vertically-align ion-text-center"},p=a(()=>Object(s["createElementVNode"])("br",null,null,-1)),u=a(()=>Object(s["createElementVNode"])("h1",null," Do you want to test BP? ",-1));function O(e,t,o,a,O,j){const m=Object(s["resolveComponent"])("ion-content"),g=Object(s["resolveComponent"])("ion-button"),B=Object(s["resolveComponent"])("ion-toolbar"),w=Object(s["resolveComponent"])("ion-footer"),y=Object(s["resolveComponent"])("ion-page");return Object(s["openBlock"])(),Object(s["createBlock"])(y,null,{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(m,null,{default:Object(s["withCtx"])(()=>[n,e.hasPressureReading?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",c,[Object(s["withDirectives"])(Object(s["createElementVNode"])("h2",i," (Patient already on BP drugs) ",512),[[s["vShow"],e.patientOnBpDrugs]]),Object(s["createElementVNode"])("h2",null,[Object(s["createElementVNode"])("span",r,Object(s["toDisplayString"])(e.patientName),1),Object(s["createTextVNode"])(" has "),Object(s["withDirectives"])(Object(s["createElementVNode"])("span",null," a high ",512),[[s["vShow"],e.highBP]]),Object(s["createTextVNode"])(" blood pressure of "),Object(s["createElementVNode"])("span",l,Object(s["toDisplayString"])(e.sysBp)+" / "+Object(s["toDisplayString"])(e.dsBP),1),d,h])])):Object(s["createCommentVNode"])("",!0),e.hasPressureReading?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",b,[Object(s["createTextVNode"])(" No BP Reading found "),p,u]))]),_:1}),Object(s["createVNode"])(w,null,{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(B,{color:"dark"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(g,{onClick:t[0]||(t[0]=()=>e.hasPressureReading?e.showRiskFactors():e.nextTask()),size:"large",color:"danger",slot:"start"},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" No ")]),_:1}),Object(s["createVNode"])(g,{onClick:e.recaptureBp,size:"large",color:"success",slot:"end"},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" Yes ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}o("14d9");var j=o("7365"),m=o("d867"),g=o("d1ca"),B=o("32b3"),w=o("8158"),y=o("77fd"),N=o("7957"),P=o("2ef0"),V=Object(s["defineComponent"])({mixins:[j["a"]],components:{IonFooter:m["IonFooter"],IonContent:m["IonContent"],IonPage:m["IonPage"],IonButton:m["IonButton"],IonToolbar:m["IonToolbar"]},data:()=>({sysBp:0,dsBP:0,riskFactors:[],patientOnBpDrugs:!1,isPregnant:!1,systolicThreshold:145,diastolicTheshold:94}),methods:{async showRiskFactors(){const e=await m["modalController"].create({component:y["a"],backdropDismiss:!1,cssClass:"large-modal",componentProps:{factors:this.riskFactors}});e.present();const{data:t}=await e.onDidDismiss();Object(P["isEmpty"])(t)||this.nextTask()},async getRiskFactors(){const e=w["a"].getConceptsByCategory("risk factors"),t=e.map(async e=>{const t=await N["a"].getFirstValueCoded(this.patientID,e.name);return{concept:e.name,value:t}});return Promise.all(t)},recaptureBp(){this.$router.push(`/art/encounters/vitals/${this.patientID}?vital_options=BP`)}},watch:{ready:{async handler(e){if(!e)return;const t=await m["loadingController"].create({message:"Verifying Blood Pressure...",backdropDismiss:!1});await t.present();const o=new B["a"](this.patientID,this.providerID);this.riskFactors=await this.getRiskFactors(),this.systolicThreshold=await g["b"].systolicThreshold()||145,this.diastolicTheshold=await g["b"].diastolicThreshold()||94,this.dsBP=await o.getDiastolicBp()||0,this.sysBp=await o.getSystolicBp()||0,this.patientOnBpDrugs=await o.onBpDrugs()||!1,this.isPregnant=this.patient.isChildBearing()&&await this.patient.isPregnant()||!1,m["loadingController"].dismiss()},immediate:!0}},computed:{patientName(){return this.ready?this.patient.getFullName():"Patient"},hasPressureReading(){return this.sysBp>0&&this.dsBP>0},highBP(){return(this.sysBp>=this.systolicThreshold&&this.dsBP>=this.diastolicTheshold||this.dsBP>=this.diastolicTheshold)&&!this.isPregnant}}}),k=(o("8bd6"),o("d959")),C=o.n(k);const f=C()(V,[["render",O],["__scopeId","data-v-146a0e6b"]]);t["default"]=f},"8bd6":function(e,t,o){"use strict";o("c658")},c658:function(e,t,o){}}]);
//# sourceMappingURL=chunk-bfe33a92.f2fd08d0.js.map