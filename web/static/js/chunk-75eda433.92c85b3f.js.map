{"version":3,"sources":["webpack:///./src/components/DataViews/ViewPort.vue?a647","webpack:///./src/components/DataViews/ViewPort.vue","webpack:///./src/components/DataViews/ViewPort.vue?e733","webpack:///./src/apps/ANC/Views/DataManagement/AncDrugsetManager.vue?7f0e","webpack:///./src/apps/ANC/Views/DataManagement/AncDrugsetManager.vue","webpack:///./src/apps/ANC/Views/DataManagement/AncDrugsetManager.vue?c185","webpack:///./src/apps/ANC/Views/DataManagement/AncDrugsetManager.vue?bbb2","webpack:///./src/components/DataViews/ViewPort.vue?8c91","webpack:///./src/apps/ANC/Services/anc_drug_set.ts"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","id","class","_normalizeClass","showFull","_renderSlot","$slots","undefined","defineComponent","name","props","type","Boolean","default","__exports__","_component_ion_title","_resolveComponent","_component_ion_toolbar","_component_ion_header","_component_ion_label","_component_ion_item","_component_ion_list","_component_ion_col","_component_report_data_table","_component_ion_row","_component_ion_grid","_component_view_port","_component_ion_content","_component_ion_button","_component_ion_footer","_component_ion_page","_createBlock","_withCtx","_createVNode","_createTextVNode","_","style","size","_Fragment","_renderList","drugSets","dataSet","dIndex","button","detail","color","selectedDrugSet","onClick","$event","key","_toDisplayString","columns","drugSetColumns","rows","drugSetRows","config","tableCssTheme","cancel","slot","hasSelectedDrugSet","voidDrugset","_createCommentVNode","addDrugset","components","IonPage","ReportDataTable","IonList","IonItem","IonLabel","ViewPort","IonButton","IonContent","IonHeader","IonGrid","IonRow","IonCol","IonTitle","IonFooter","IonToolbar","setup","router","useRouter","ref","Table","thTxt","computed","isEmpty","value","drugs","map","drugSet","td","duration","frequency","back","push","async","alertConfirmation","AncDrugSetService","voidDrugSet","filter","d","e","toastWarning","onMounted","getDrugSets","Service","data","getSessionDate","this","postJson","setID","void","date","getJson","Object","keys","reduce","sets","setKey","description","parseInt","a","k","drug_name","units"],"mappings":"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","file":"js/chunk-75eda433.92c85b3f.js","sourcesContent":["import { renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: \"view-port\",\n    class: _normalizeClass(!_ctx.showFull ? 'half': '')\n  }, [\n    _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)\n  ], 2))\n}","\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n    name: 'ViewPort',\n    props: {\n        showFull: {\n            type: Boolean,\n            default: () => true\n        }\n    }\n})\n","import { render } from \"./ViewPort.vue?vue&type=template&id=7c293cad&scoped=true&ts=true\"\nimport script from \"./ViewPort.vue?vue&type=script&lang=ts\"\nexport * from \"./ViewPort.vue?vue&type=script&lang=ts\"\n\nimport \"./ViewPort.vue?vue&type=style&index=0&id=7c293cad&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c293cad\"]])\n\nexport default __exports__","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_list = _resolveComponent(\"ion-list\")!\n  const _component_ion_col = _resolveComponent(\"ion-col\")!\n  const _component_report_data_table = _resolveComponent(\"report-data-table\")!\n  const _component_ion_row = _resolveComponent(\"ion-row\")!\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")!\n  const _component_view_port = _resolveComponent(\"view-port\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_header, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_title, { class: \"his-lg-text\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Drug Set \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_content, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_view_port, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_grid, {\n                style: {\"background-color\":\"white\"},\n                class: \"view-port-content\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_row, null, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_ion_col, { size: \"4\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_ion_list, null, {\n                            default: _withCtx(() => [\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.drugSets, (dataSet, dIndex) => {\n                                return (_openBlock(), _createBlock(_component_ion_item, {\n                                  class: \"his-sm-text\",\n                                  button: \"\",\n                                  detail: \"\",\n                                  color: _ctx.selectedDrugSet.id === dataSet.id ? 'lightblue': '',\n                                  onClick: ($event: any) => (_ctx.selectedDrugSet=dataSet),\n                                  key: dIndex\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_ion_label, null, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(dataSet.name), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1024)\n                                  ]),\n                                  _: 2\n                                }, 1032, [\"color\", \"onClick\"]))\n                              }), 128))\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_component_ion_col, { size: \"8\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_report_data_table, {\n                            columns: _ctx.drugSetColumns,\n                            rows: _ctx.drugSetRows,\n                            config: {\n                                    tableCssTheme: 'art-report-theme'\n                                }\n                          }, null, 8, [\"columns\", \"rows\"])\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_footer, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, { color: \"dark\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_button, {\n                onClick: _ctx.cancel,\n                slot: \"start\",\n                color: \"danger\",\n                size: \"large\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Cancel \")\n                ]),\n                _: 1\n              }, 8, [\"onClick\"]),\n              (_ctx.hasSelectedDrugSet)\n                ? (_openBlock(), _createBlock(_component_ion_button, {\n                    key: 0,\n                    onClick: _ctx.voidDrugset,\n                    slot: \"end\",\n                    color: \"danger\",\n                    size: \"large\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Void Drug Set \")\n                    ]),\n                    _: 1\n                  }, 8, [\"onClick\"]))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_ion_button, {\n                onClick: _ctx.addDrugset,\n                slot: \"end\",\n                color: \"success\",\n                size: \"large\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Add Drug Set \")\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport { computed, defineComponent, onMounted, ref } from 'vue'\nimport ViewPort from \"@/components/DataViews/ViewPort.vue\"\nimport ReportDataTable from \"@/components/DataViews/tables/ReportDataTable.vue\"\nimport Table from \"@/components/DataViews/tables/ReportDataTable\"\nimport {\n    IonPage,\n    IonList,\n    IonItem,\n    IonLabel,\n    IonButton,\n    IonContent,\n    IonHeader,\n    IonGrid,\n    IonRow,\n    IonCol,\n    IonTitle,\n    IonFooter,\n    IonToolbar\n} from \"@ionic/vue\"\nimport { AncDrugSetService, NewDrugSet } from '../../Services/anc_drug_set'\nimport { isEmpty } from 'lodash'\nimport { useRouter } from 'vue-router'\nimport { alertConfirmation, toastWarning } from '@/utils/Alerts'\n\nexport default defineComponent({\n    components: {\n        IonPage,\n        ReportDataTable,\n        IonList,\n        IonItem,\n        IonLabel,\n        ViewPort,\n        IonButton,\n        IonContent,\n        IonHeader,\n        IonGrid,\n        IonRow,\n        IonCol,\n        IonTitle,\n        IonFooter,\n        IonToolbar\n    },\n    setup() {\n        const router = useRouter()\n        const selectedDrugSet = ref({} as NewDrugSet) \n        const drugSets = ref([] as NewDrugSet[])\n        const drugSetColumns = [\n            [\n                Table.thTxt('Drug'),\n                Table.thTxt('Duration in days'),\n                Table.thTxt('Frequency')\n            ]\n        ]\n        const hasSelectedDrugSet = computed(() => {\n            return !isEmpty(drugSets.value)\n        })\n        const drugSetRows = computed(() => {\n            return selectedDrugSet.value?.drugs?.map(drugSet => [\n                Table.td(drugSet['drug_name'] || 'N/A'),\n                Table.td(drugSet.duration || 'N/A'),\n                Table.td(drugSet.frequency)\n            ]) || []\n        })\n        onMounted(async () => {\n            drugSets.value = await AncDrugSetService.getDrugSets() as NewDrugSet[]\n            if (!isEmpty(drugSets.value)) {\n                selectedDrugSet.value = drugSets.value[0]\n            }\n        })\n\n        function cancel() {\n            router.back()\n        }\n\n        function addDrugset() {\n            router.push({\n                name: 'add anc drugset'\n            })\n        }\n\n        async function voidDrugset() {\n            if((await alertConfirmation('Are you sure you want to void this drug set?'))){\n                try {\n                    await AncDrugSetService.voidDrugSet(selectedDrugSet.value.id || -1)\n                    drugSets.value = drugSets.value.filter(d => d.id != selectedDrugSet.value.id)\n                    if (!isEmpty(drugSets.value)) {\n                        selectedDrugSet.value = drugSets.value[0]\n                    } else {\n                        selectedDrugSet.value = {} as any\n                    }\n                } catch (e) {\n                    toastWarning(`e`)\n                }\n            }\n        }\n        return {\n            cancel,\n            addDrugset,\n            voidDrugset,\n            drugSets,\n            hasSelectedDrugSet,\n            selectedDrugSet,\n            drugSetColumns,\n            drugSetRows\n        }\n    }\n})\n","import { render } from \"./AncDrugsetManager.vue?vue&type=template&id=31e11cd2&scoped=true&ts=true\"\nimport script from \"./AncDrugsetManager.vue?vue&type=script&lang=ts\"\nexport * from \"./AncDrugsetManager.vue?vue&type=script&lang=ts\"\n\nimport \"./AncDrugsetManager.vue?vue&type=style&index=0&id=31e11cd2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-31e11cd2\"]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AncDrugsetManager.vue?vue&type=style&index=0&id=31e11cd2&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ViewPort.vue?vue&type=style&index=0&id=7c293cad&scoped=true&lang=css\"","import { Service } from \"@/services/service\";\n\nexport interface AncDrugSetDrugs {\n    drug: number;\n    drug_name?: string;\n    quantity: number;\n    duration?: number;\n    frequency: string;\n}\n\nexport interface NewDrugSet {\n    id?: number;\n    datetime?: string;\n    name: string;\n    description: string;\n    drugs: AncDrugSetDrugs[];\n}\n\nexport class AncDrugSetService extends Service {\n    static saveDrugSet(drugSet: NewDrugSet) {\n        const data  = {...drugSet}\n        data['datetime'] = Service.getSessionDate()\n        return this.postJson('/drug_sets', drugSet)\n    }\n\n    static voidDrugSet(setID: number) {\n        return this.void(`/drug_sets/${setID}`, { date: this.getSessionDate()})\n    }\n\n    static async getDrugSets() {\n        const data = await this.getJson('drug_sets')\n        if (data) {\n            return Object.keys(data['set_names'])\n                .reduce((sets: Array<any>, setKey: string) => {\n                    const name = data['set_names'][setKey]\n                    const description = data['set_descriptions'][setKey]\n                    const drugs = data['drug_sets'][setKey]\n                    sets.push({\n                        id: parseInt(setKey),\n                        name,\n                        description,\n                        drugs: Object.keys(drugs).reduce(\n                            (a: any, k: string) => [\n                                ...a, { \n                                    'id': parseInt(k), ...drugs[k],\n                                    'drug_name': drugs[k].drug_name,\n                                    'duration': parseInt(drugs[k].duration),\n                                    'frequency': drugs[k].frequency,\n                                    'units': drugs[k].units,\n                                }], []\n                        )\n                    })\n                    return sets\n                }, [])\n        }\n        return []\n    }\n}"],"sourceRoot":""}