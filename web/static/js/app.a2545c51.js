(function(e){function t(t){for(var a,c,r=t[0],s=t[1],l=t[2],d=0,u=[];d<r.length;d++)c=r[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&u.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);m&&m(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var r=n[c];0!==o[r]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},c={app:0},o={app:0},i=[];function r(e){return s.p+"js/"+({TouchFormElement0:"TouchFormElement0",TouchFormElement1:"TouchFormElement1",TouchFormElement10:"TouchFormElement10",TouchFormElement11:"TouchFormElement11",TouchFormElement13:"TouchFormElement13",TouchFormElement15:"TouchFormElement15",TouchFormElement16:"TouchFormElement16",TouchFormElement2:"TouchFormElement2",TouchFormElement20:"TouchFormElement20",TouchFormElement22:"TouchFormElement22",TouchFormElement23:"TouchFormElement23",TouchFormElement24:"TouchFormElement24",TouchFormElement27:"TouchFormElement27",TouchFormElement28:"TouchFormElement28",TouchFormElement29:"TouchFormElement29",TouchFormElement3:"TouchFormElement3",TouchFormElement30:"TouchFormElement30",TouchFormElement32:"TouchFormElement32",TouchFormElement33:"TouchFormElement33",TouchFormElement35:"TouchFormElement35",TouchFormElement36:"TouchFormElement36",TouchFormElement37:"TouchFormElement37",TouchFormElement39:"TouchFormElement39",TouchFormElement4:"TouchFormElement4",TouchFormElement40:"TouchFormElement40",TouchFormElement41:"TouchFormElement41",TouchFormElement42:"TouchFormElement42",TouchFormElement43:"TouchFormElement43",TouchFormElement44:"TouchFormElement44",TouchFormElement45:"TouchFormElement45",TouchFormElement46:"TouchFormElement46",TouchFormElement47:"TouchFormElement47",TouchFormElement48:"TouchFormElement48",TouchFormElement49:"TouchFormElement49",TouchFormElement50:"TouchFormElement50",TouchFormElement51:"TouchFormElement51",TouchFormElement52:"TouchFormElement52",TouchFormElement53:"TouchFormElement53",TouchFormElement54:"TouchFormElement54",TouchFormElement6:"TouchFormElement6",TouchFormElement7:"TouchFormElement7",TouchFormElement9:"TouchFormElement9",TouchFormElement31:"TouchFormElement31",TouchFormElement34:"TouchFormElement34",TouchFormElement5:"TouchFormElement5",TouchFormElement17:"TouchFormElement17",TouchFormElement18:"TouchFormElement18",TouchFormElement19:"TouchFormElement19",TouchFormElement12:"TouchFormElement12",TouchFormElement26:"TouchFormElement26",TouchFormElement38:"TouchFormElement38",TouchFormElement8:"TouchFormElement8",TouchFormElement14:"TouchFormElement14",TouchFormElement21:"TouchFormElement21",TouchFormElement25:"TouchFormElement25"}[e]||e)+"."+{"chunk-182277b5":"692813ec","chunk-011d5b96":"0b31860e","chunk-027d3d90":"e56c74b3","chunk-02fa7284":"df5c691a","chunk-03993608":"16b8a2df","chunk-114c15f9":"8614ef6d","chunk-87ff211a":"2fb82b51","chunk-05fa7bba":"07eab904","chunk-12fe4112":"54d63c28","chunk-188c22df":"88738c84","chunk-19d69ed7":"fc4cec94","chunk-7dd929c2":"090739a6","chunk-01d89442":"e0ecfb9a","chunk-0f68ebc1":"7ea087a4","chunk-1a8388cc":"3a459137","chunk-2d0b9969":"c7715795","chunk-3642fa06":"e9df4c25","chunk-3a4e23c4":"4ba30a85","chunk-4c645a45":"97cbdb60","chunk-5070e560":"fb3bf5ec","chunk-7975ad03":"006cd15d","chunk-7d176896":"bd793f37","chunk-1bd0efec":"71eeeadb","chunk-1d72f658":"fd4d16a5","chunk-1df7bbcc":"1e483513","chunk-2012b2dd":"8583ea4d","chunk-20db0db6":"9beaf79d","chunk-432f3a34":"7e57aa41","chunk-4a90bd4c":"3a9bc18d","chunk-5d22811e":"3e678e41","chunk-4b1ac3a0":"95968692","chunk-7ac316b4":"5a02fd5f","chunk-896be914":"d1e84c4d","chunk-e2dc92b0":"8c16c282","chunk-219fabcf":"21bbe2b6","chunk-21d15150":"df3fe246","chunk-25cb22d9":"4a64b952","chunk-26444562":"571552a8","chunk-2675659c":"f39d3bb6","chunk-29149989":"1bc118a8","chunk-2c65a948":"39629118","chunk-2d0f07e6":"9b3f8d73","chunk-7e88c81c":"43151837","chunk-2dd56326":"825a989b","chunk-31a837c0":"9f3fc2b0","chunk-326fc762":"2145de31","chunk-337918c0":"14b624ce","chunk-6fa354be":"72208ad9","chunk-70dc14d4":"911d23ea","chunk-8a2f2088":"71bd00a4","chunk-c876a562":"fb5a2911","chunk-351de88a":"26dd78ce","chunk-3611e052":"c6643897","chunk-391f1f76":"41217ae9","chunk-42db0396":"b4967dae","chunk-44f7ff80":"39165b33","chunk-48720368":"b41971f9","chunk-497f592f":"37164be6","chunk-4f22edb2":"de2bd652","chunk-5088bfda":"9e31f603","chunk-53ab6794":"0bd0d251","chunk-53cfcf77":"7c42a94e","chunk-574a1272":"7b664f26","chunk-5844deae":"d4d7367f","chunk-5ca3d91b":"440905ad","chunk-5730b4fc":"84a18903","chunk-5ddd476a":"ee9435b5","chunk-5de0132c":"a56334df","chunk-5eabd035":"453f886b","chunk-638b4d38":"d121bf30","chunk-65b4c246":"275f64fa","chunk-65fc6100":"584c8ead","chunk-6737f72e":"1d2ca35f","chunk-6b0e71d3":"6c3dca31","chunk-2bf70182":"8feacaef","chunk-088b8cc2":"a891fcbd","chunk-0bae17c3":"6dc3c0d2","chunk-0caae3bc":"4dd04bda","chunk-19020b52":"9babb92d","chunk-1911324c":"7dc97378","chunk-19e3a259":"51baa545","chunk-1a44cbe6":"85e52580","chunk-1c36f288":"1312e356","chunk-1d4d5982":"e9e6d7d9","chunk-1da99aa6":"bb3f628f","chunk-1f557c87":"36d767a9","chunk-1fa672d3":"4e7cfd54","chunk-1feb9e83":"90e58bce","chunk-208f13ae":"6f355036","chunk-217d7052":"39ce8200","chunk-22469d02":"08f31914","chunk-286fe0cb":"ebc44998","chunk-2a776864":"c51f2ddc","chunk-2ed1d972":"0b4b14b9","chunk-2eeedc2e":"67cfb3ed","chunk-30c7e29c":"1831c903","chunk-30cef22a":"9494a4e1","chunk-4409b90c":"b01b736d","chunk-33a1adc6":"a8628f4e","chunk-34d416b6":"3cfbb7ea","chunk-3af66a92":"e14b3340","chunk-3b0aecbc":"3240305f","chunk-3b7e842e":"03c07c95","chunk-3e28bee6":"e03272c2","chunk-3f672e30":"acf1eced","chunk-42e25d3c":"f4d51cc4","chunk-4666ff1b":"a82e0b5c","chunk-48a533fb":"50bf4426","chunk-2d0bb1cf":"d03b638f","chunk-2d0ddf11":"05a4ca28","chunk-4ed18cb8":"1ce26d43","chunk-51c72e34":"76ee8aa5","chunk-5634edea":"73de815f","chunk-581043ef":"6b0fc712","chunk-58c4f368":"b81d405c","chunk-625c0c16":"42ce7be4","chunk-6356b278":"f8196707","chunk-64586bf2":"67869f4c","chunk-67d99958":"4d5160e7","chunk-6a7a9a01":"4fb2d5f6","chunk-2d0db1ed":"a293d011","chunk-2d229c15":"1035ccbc","chunk-6e0a1a2b":"0d9b4134","chunk-6e368e14":"a41d27d9","chunk-7374b6f9":"e9040139","chunk-75e421d0":"536d5b82","chunk-76fd841e":"f1e0d07a","chunk-7764aa42":"5abf09e1","chunk-78ee052f":"eb2327f9","chunk-82e7efbc":"cf23f96d","chunk-8f04b8cc":"5bbe91a8","chunk-2d0c8493":"e005e67e","chunk-2d0f028e":"a451a5c8","chunk-91e46ad8":"9434dc4b","chunk-9906a834":"28dcc592","chunk-9967de28":"f14760e9","chunk-9b28a1be":"fb1be1e7","chunk-9cfeeccc":"424fa8b9","chunk-ad3ee2ba":"a1111f07","chunk-ae9cb7fe":"e3b4ff99","chunk-b15a4cbe":"8faa8810","chunk-bc4a8412":"d3bc601b","chunk-cc4eea7c":"9a1e507b","chunk-df9986ec":"4e4ae5c1","chunk-dfecc756":"716f1856","chunk-e37a4a24":"45ae749f","chunk-e870e67c":"14520b03","chunk-eb49a1a2":"f6d8a2f4","chunk-f034d5ce":"7d5c016b","chunk-fe6414de":"eca36ac5","chunk-fedef60e":"d82768e1","chunk-0af82515":"4ac837a2","chunk-15cf97c6":"c54f65ca","chunk-1bd19b52":"da6912e3","chunk-2516b9b8":"d59636ee","chunk-2899cf11":"c23658ac","chunk-35916397":"b16570ee","chunk-371dec58":"e532ba13","chunk-429f977b":"b7f87aed","chunk-46584156":"d3b9b239","chunk-56c4f82a":"c7a55f6b","chunk-5b42aff9":"5e215883","chunk-5b80663a":"076202f3","chunk-65141d80":"11c6b843","chunk-680de719":"3ca83e9c","chunk-68e72ecf":"db0c324c","chunk-79f4429c":"30d21ee6","chunk-7b3d4bae":"7b0b1047","chunk-7bc06f4e":"87e8256f","chunk-cf2ead6e":"79063527","chunk-8723e4e6":"38b1f6ab","chunk-4142dbbe":"71f996a9","chunk-53509df8":"3dd408ac","chunk-6c9fa5bd":"dd0a8e3f","chunk-6fa320d1":"18904489","chunk-6fef0f96":"c5eac93e","chunk-73b04d9a":"b2b3fe27","chunk-73da6e08":"e483e374","chunk-758dca60":"1f12dd72","chunk-75c56f7d":"08b44458","chunk-764187cf":"9e630c37","chunk-7680322b":"a1251b2f","chunk-77ab62c7":"937e43bc","chunk-7f9f344f":"cfa57aea","chunk-81c5cc30":"6432a197","chunk-03e87f92":"175aae26","chunk-c326e570":"feff8a68","chunk-8d3f93ae":"b4867876","chunk-8ec962d0":"0de9818d","chunk-95b18c84":"d42553b3","chunk-987b0946":"1fac931e","chunk-a2a01466":"a8deac1a","chunk-a2bf4bd4":"318e8225","chunk-a6bf6f7c":"8e389bae","chunk-a729b7d6":"d4384ba6","chunk-a7a2845a":"a397e0f3","chunk-a7a294f2":"add8de51","chunk-b3734ea4":"bcce05e3","chunk-be5ed588":"ed7bccf4","chunk-c0e63af2":"39a1c247","chunk-c8d451b2":"b7519b24","chunk-cc975d02":"331428da","chunk-d8955780":"57e50ea5","chunk-d90eaab8":"7e5e5539","chunk-e32987c8":"a18b5c91","chunk-e3ce66c6":"3e9b0645","chunk-e9acffa4":"3cc8ca0c","chunk-ebbb0fd6":"dfc0d75d","chunk-f68cd34a":"c7287c26","chunk-d64a144c":"ef420f57","chunk-dc83f310":"131c2e3a","chunk-4599ff2a":"f563eaab","chunk-1420b27c":"fd126263","chunk-31705150":"fdda5a32","chunk-1e82d964":"f20f85ec","chunk-255e30c6":"c3f65ded","chunk-290c5597":"cee63c71","chunk-2c083610":"3e6ec99d","chunk-2d0b66fc":"21fa07f6","chunk-2d0d3c84":"dc2ba6c0","chunk-2d0d6d65":"8d87704d","chunk-2d0d78b2":"78f1259e","chunk-2d0e9381":"6b7bfdd1","chunk-2d2080c7":"50a0b2f1","chunk-2d21db89":"7a1e7b62","chunk-2d222064":"aca585e0","chunk-2d22d5a8":"5b1cf22c","chunk-39414c6b":"bfffd665","chunk-43f02195":"c55e022f","chunk-4932b33e":"28ec6d2d","chunk-49e291dc":"79cb06ff","chunk-4a503b68":"8d8ad1b8","chunk-611999d8":"07a42bf7","chunk-672b5431":"9cc1c4cb","chunk-067835e4":"982eb548","chunk-0730f198":"2a9b35b9","chunk-0e047aac":"55d7291d","chunk-0efb1fa2":"41d62510","chunk-216f6210":"714f9de1","chunk-2ac9666a":"2a1daf16","chunk-2c503d9c":"4903a0c0","chunk-3f9043da":"4730c31e","chunk-4480d5f3":"01b03504","chunk-4e77a1f0":"eac19659","chunk-4f373348":"7a43d36a","chunk-5500ed89":"7e37144c","chunk-574fa9e6":"7cbd7124","chunk-59073f37":"f62be69e","chunk-596b8ad8":"737a488b","chunk-5c05453b":"8318c9c3","chunk-63c31ef6":"45e8bd30","chunk-63dea285":"398d8490","chunk-65fd757f":"acad5f13","chunk-6bc85dfc":"795a3d37","chunk-74a176a9":"e79b4828","chunk-7b21e093":"a676f51a","chunk-7c8e72a0":"3e078f5c","chunk-7de4a4ed":"ec7b3827","chunk-7febe7c8":"5229849d","chunk-8c33a9b4":"9d774128","chunk-97982206":"8b039315","chunk-9aade578":"b860837b","chunk-9cf0ed5a":"019aa2f2","chunk-a57546bc":"0b291555","chunk-abb8448a":"b23d95f8","chunk-b26bad70":"5773a5a4","chunk-bb7f18fc":"5ce2801d","chunk-deddd00c":"69b62d55","chunk-eb2463fc":"b03f2e33","chunk-ec6fafd2":"8af9ced2","chunk-f0e27e42":"08d0ca12","chunk-f3bf2c6c":"1c4458c7","chunk-45b61551":"e52baeda","chunk-6bfd0d86":"1a5e329a","chunk-78f8f262":"c2e0ae87","chunk-7c8aec08":"e36fee32","chunk-a02e6532":"9fb89a77","chunk-a279802a":"d5bcfdd6","chunk-a8b63e72":"42b90f38","chunk-bfca2108":"5a062203","chunk-214b8c9a":"689671fa","chunk-34d41f9c":"a5d5c471","chunk-ebacfeba":"16b9607b","chunk-f0a76acc":"82623b10","chunk-f15d923e":"ed7db561","chunk-fb4800b8":"74ac6609",TouchFormElement0:"59e6b824",TouchFormElement1:"20e86937",TouchFormElement10:"e8113f92",TouchFormElement11:"749b0e52",TouchFormElement13:"24fd8e27",TouchFormElement15:"b4455d6e",TouchFormElement16:"73f96683",TouchFormElement2:"4cd0ad66",TouchFormElement20:"d9bac322",TouchFormElement22:"7992c66c",TouchFormElement23:"0d8768ca",TouchFormElement24:"4e437a08",TouchFormElement27:"8b1e58a8",TouchFormElement28:"76994dbb",TouchFormElement29:"ea6cab81",TouchFormElement3:"1dfd96b8",TouchFormElement30:"8c191ea5",TouchFormElement32:"2e54bc88",TouchFormElement33:"b60629bd",TouchFormElement35:"575d3629",TouchFormElement36:"b08713c0",TouchFormElement37:"cbd9c841",TouchFormElement39:"249b53d7",TouchFormElement4:"b11c9705",TouchFormElement40:"f43b4090",TouchFormElement41:"be2186d4",TouchFormElement42:"11914539",TouchFormElement43:"59dd04ae",TouchFormElement44:"966738d3",TouchFormElement45:"de803086",TouchFormElement46:"a86efe38",TouchFormElement47:"83f78675",TouchFormElement48:"d6897eb0",TouchFormElement49:"ad581671",TouchFormElement50:"949dcf53",TouchFormElement51:"fcd66a9b",TouchFormElement52:"156b8ffc",TouchFormElement53:"b08fa517",TouchFormElement54:"e1a7d798",TouchFormElement6:"b882acec",TouchFormElement7:"efa2a3d5",TouchFormElement9:"282be664",TouchFormElement31:"98d72946",TouchFormElement34:"5faed924",TouchFormElement5:"d20549c8",TouchFormElement17:"6249325b",TouchFormElement18:"f58fc2e7",TouchFormElement19:"4fa8fdb2",TouchFormElement12:"7f79cba8",TouchFormElement26:"ff658290",TouchFormElement38:"120b996f",TouchFormElement8:"33ce0142",TouchFormElement14:"de4c9355",TouchFormElement21:"820f99cd",TouchFormElement25:"bb01752b","chunk-0132f376":"2734d34a","chunk-04d459c1":"e36c0018","chunk-0900ddec":"0673d46d","chunk-093f272e":"f6b72bfe","chunk-0b5af5d5":"2f61648f","chunk-0ebca02a":"9590de5e","chunk-13817cd5":"a4ab3e5e","chunk-1da7959b":"2a1d0a3e","chunk-2206f8a6":"cc94f9a1","chunk-2207d67a":"85b1f054","chunk-2be4766a":"12eedb02","chunk-2d0a463b":"69c3ef44","chunk-2d0abe2a":"5422ce8e","chunk-2d0bdb18":"c2ae1cae","chunk-2d0bdf09":"fe0ce4f6","chunk-2d0be6d7":"9c1adc88","chunk-2d0c073f":"15cc080b","chunk-2d0c09db":"307f0761","chunk-2d0c7312":"9abe193a","chunk-2d0cf9fe":"19e97b5a","chunk-2d0d43da":"fa921611","chunk-2d0d6793":"1fe80d0d","chunk-2d0d6966":"328b2108","chunk-2d0d6bbc":"e4689a6a","chunk-2d0d9f47":"3737b81c","chunk-2d0da04a":"ded40908","chunk-2d0de03d":"9dd40dd5","chunk-2d0e57f4":"1441bd19","chunk-2d0e5812":"3ab77812","chunk-2d0f064c":"82795c49","chunk-2d213189":"1ad734e8","chunk-2d216a01":"7a5c48d8","chunk-2d218068":"d8555da6","chunk-30a9a89d":"f7dd27df","chunk-3106975e":"14a53ada","chunk-32cf1849":"675b87b0","chunk-4261ce5e":"91a6531d","chunk-431e8a38":"e00c8e95","chunk-4570997a":"1ee50455","chunk-4720a36f":"1c689c75","chunk-4b53e668":"734298b0","chunk-4ee2b46f":"e4cabc56","chunk-50a18636":"ebb6f9b2","chunk-540a2426":"d75fe722","chunk-59fdc88a":"7b0aaf49","chunk-5b0ee2aa":"d0b91ef2","chunk-60d0c2df":"d310d822","chunk-64a0096b":"516edbb1","chunk-6acb6f6b":"92e86fdd","chunk-6d22df2d":"1b10adad","chunk-6f06b1e2":"6a8e2830","chunk-6f61dd68":"e71663c6","chunk-781b512c":"40c936d5","chunk-79dd5ac0":"a6473f24","chunk-85b5d926":"5cb8b103","chunk-86222582":"435d8fcd","chunk-900c197e":"6f64a087","chunk-903231d6":"01e18df4","chunk-93066ee6":"d17c5868","chunk-93311420":"b81eb558","chunk-9c6dd432":"36a22c2a","chunk-b5756354":"0aef3f60","chunk-bfdbcc14":"7a6279e0","chunk-df1db842":"ceffa79c","chunk-df1eb2d2":"08111833","chunk-df476974":"1d25463a","chunk-ea105bb6":"383c9304","chunk-eacbb13e":"d6282fe2","chunk-f29fa758":"d9301e41","chunk-f93c6b4e":"d7ad8d7f","chunk-2d0a4885":"7e3d7274","chunk-2d216214":"f6a50306","chunk-2d216257":"46d40ab5","chunk-5a787b30":"11ca644c","chunk-2d0c4649":"bd417a5a","chunk-24a9d490":"cd41ba06","chunk-2d0d3fd7":"7ccae0cb","chunk-3930e940":"5564c867","chunk-a82438bc":"e04a6089","chunk-2d0a3a6a":"9083e201","chunk-2d0d01da":"3b11b586","chunk-2d215d2b":"0684f184"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-182277b5":1,"chunk-114c15f9":1,"chunk-87ff211a":1,"chunk-7e88c81c":1,"chunk-70dc14d4":1,"chunk-8a2f2088":1,"chunk-4f22edb2":1,"chunk-5844deae":1,"chunk-5ddd476a":1,"chunk-2bf70182":1,"chunk-088b8cc2":1,"chunk-0bae17c3":1,"chunk-0caae3bc":1,"chunk-19020b52":1,"chunk-1911324c":1,"chunk-19e3a259":1,"chunk-1a44cbe6":1,"chunk-1c36f288":1,"chunk-1d4d5982":1,"chunk-1da99aa6":1,"chunk-1f557c87":1,"chunk-1fa672d3":1,"chunk-1feb9e83":1,"chunk-208f13ae":1,"chunk-217d7052":1,"chunk-22469d02":1,"chunk-286fe0cb":1,"chunk-2a776864":1,"chunk-2ed1d972":1,"chunk-2eeedc2e":1,"chunk-30c7e29c":1,"chunk-30cef22a":1,"chunk-4409b90c":1,"chunk-33a1adc6":1,"chunk-34d416b6":1,"chunk-3af66a92":1,"chunk-3b0aecbc":1,"chunk-3b7e842e":1,"chunk-3e28bee6":1,"chunk-3f672e30":1,"chunk-42e25d3c":1,"chunk-4666ff1b":1,"chunk-4ed18cb8":1,"chunk-51c72e34":1,"chunk-5634edea":1,"chunk-581043ef":1,"chunk-58c4f368":1,"chunk-625c0c16":1,"chunk-6356b278":1,"chunk-64586bf2":1,"chunk-67d99958":1,"chunk-6a7a9a01":1,"chunk-6e0a1a2b":1,"chunk-6e368e14":1,"chunk-7374b6f9":1,"chunk-75e421d0":1,"chunk-76fd841e":1,"chunk-7764aa42":1,"chunk-78ee052f":1,"chunk-82e7efbc":1,"chunk-91e46ad8":1,"chunk-9906a834":1,"chunk-9967de28":1,"chunk-9b28a1be":1,"chunk-9cfeeccc":1,"chunk-ad3ee2ba":1,"chunk-ae9cb7fe":1,"chunk-b15a4cbe":1,"chunk-bc4a8412":1,"chunk-cc4eea7c":1,"chunk-df9986ec":1,"chunk-dfecc756":1,"chunk-e37a4a24":1,"chunk-e870e67c":1,"chunk-eb49a1a2":1,"chunk-f034d5ce":1,"chunk-fe6414de":1,"chunk-fedef60e":1,"chunk-0af82515":1,"chunk-15cf97c6":1,"chunk-1bd19b52":1,"chunk-2516b9b8":1,"chunk-2899cf11":1,"chunk-35916397":1,"chunk-371dec58":1,"chunk-429f977b":1,"chunk-46584156":1,"chunk-56c4f82a":1,"chunk-5b42aff9":1,"chunk-5b80663a":1,"chunk-65141d80":1,"chunk-680de719":1,"chunk-68e72ecf":1,"chunk-79f4429c":1,"chunk-7b3d4bae":1,"chunk-7bc06f4e":1,"chunk-cf2ead6e":1,"chunk-8723e4e6":1,"chunk-4142dbbe":1,"chunk-53509df8":1,"chunk-81c5cc30":1,"chunk-c326e570":1,"chunk-e3ce66c6":1,"chunk-ebbb0fd6":1,"chunk-4599ff2a":1,"chunk-1420b27c":1,"chunk-31705150":1,"chunk-1e82d964":1,"chunk-255e30c6":1,"chunk-2c083610":1,"chunk-39414c6b":1,"chunk-43f02195":1,"chunk-4932b33e":1,"chunk-49e291dc":1,"chunk-4a503b68":1,"chunk-611999d8":1,"chunk-672b5431":1,"chunk-067835e4":1,"chunk-0730f198":1,"chunk-0e047aac":1,"chunk-0efb1fa2":1,"chunk-216f6210":1,"chunk-2ac9666a":1,"chunk-2c503d9c":1,"chunk-3f9043da":1,"chunk-4480d5f3":1,"chunk-4e77a1f0":1,"chunk-4f373348":1,"chunk-5500ed89":1,"chunk-574fa9e6":1,"chunk-59073f37":1,"chunk-596b8ad8":1,"chunk-5c05453b":1,"chunk-63c31ef6":1,"chunk-63dea285":1,"chunk-65fd757f":1,"chunk-6bc85dfc":1,"chunk-74a176a9":1,"chunk-7b21e093":1,"chunk-7c8e72a0":1,"chunk-7de4a4ed":1,"chunk-7febe7c8":1,"chunk-8c33a9b4":1,"chunk-97982206":1,"chunk-9aade578":1,"chunk-9cf0ed5a":1,"chunk-a57546bc":1,"chunk-abb8448a":1,"chunk-b26bad70":1,"chunk-bb7f18fc":1,"chunk-deddd00c":1,"chunk-eb2463fc":1,"chunk-ec6fafd2":1,"chunk-f0e27e42":1,"chunk-f3bf2c6c":1,"chunk-6bfd0d86":1,"chunk-78f8f262":1,"chunk-7c8aec08":1,"chunk-a02e6532":1,"chunk-a279802a":1,"chunk-a8b63e72":1,"chunk-bfca2108":1,"chunk-214b8c9a":1,"chunk-34d41f9c":1,"chunk-ebacfeba":1,"chunk-f0a76acc":1,"chunk-f15d923e":1,"chunk-fb4800b8":1,TouchFormElement0:1,TouchFormElement1:1,TouchFormElement10:1,TouchFormElement11:1,TouchFormElement13:1,TouchFormElement15:1,TouchFormElement16:1,TouchFormElement2:1,TouchFormElement20:1,TouchFormElement22:1,TouchFormElement23:1,TouchFormElement24:1,TouchFormElement27:1,TouchFormElement28:1,TouchFormElement29:1,TouchFormElement3:1,TouchFormElement30:1,TouchFormElement32:1,TouchFormElement33:1,TouchFormElement35:1,TouchFormElement36:1,TouchFormElement37:1,TouchFormElement39:1,TouchFormElement4:1,TouchFormElement40:1,TouchFormElement41:1,TouchFormElement42:1,TouchFormElement43:1,TouchFormElement44:1,TouchFormElement45:1,TouchFormElement46:1,TouchFormElement47:1,TouchFormElement48:1,TouchFormElement49:1,TouchFormElement50:1,TouchFormElement51:1,TouchFormElement52:1,TouchFormElement53:1,TouchFormElement54:1,TouchFormElement6:1,TouchFormElement7:1,TouchFormElement31:1,TouchFormElement34:1,TouchFormElement5:1,TouchFormElement17:1,TouchFormElement18:1,TouchFormElement19:1,TouchFormElement12:1,TouchFormElement26:1,TouchFormElement38:1,TouchFormElement8:1,TouchFormElement14:1,TouchFormElement21:1,TouchFormElement25:1,"chunk-24a9d490":1,"chunk-3930e940":1,"chunk-a82438bc":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var a="css/"+({TouchFormElement0:"TouchFormElement0",TouchFormElement1:"TouchFormElement1",TouchFormElement10:"TouchFormElement10",TouchFormElement11:"TouchFormElement11",TouchFormElement13:"TouchFormElement13",TouchFormElement15:"TouchFormElement15",TouchFormElement16:"TouchFormElement16",TouchFormElement2:"TouchFormElement2",TouchFormElement20:"TouchFormElement20",TouchFormElement22:"TouchFormElement22",TouchFormElement23:"TouchFormElement23",TouchFormElement24:"TouchFormElement24",TouchFormElement27:"TouchFormElement27",TouchFormElement28:"TouchFormElement28",TouchFormElement29:"TouchFormElement29",TouchFormElement3:"TouchFormElement3",TouchFormElement30:"TouchFormElement30",TouchFormElement32:"TouchFormElement32",TouchFormElement33:"TouchFormElement33",TouchFormElement35:"TouchFormElement35",TouchFormElement36:"TouchFormElement36",TouchFormElement37:"TouchFormElement37",TouchFormElement39:"TouchFormElement39",TouchFormElement4:"TouchFormElement4",TouchFormElement40:"TouchFormElement40",TouchFormElement41:"TouchFormElement41",TouchFormElement42:"TouchFormElement42",TouchFormElement43:"TouchFormElement43",TouchFormElement44:"TouchFormElement44",TouchFormElement45:"TouchFormElement45",TouchFormElement46:"TouchFormElement46",TouchFormElement47:"TouchFormElement47",TouchFormElement48:"TouchFormElement48",TouchFormElement49:"TouchFormElement49",TouchFormElement50:"TouchFormElement50",TouchFormElement51:"TouchFormElement51",TouchFormElement52:"TouchFormElement52",TouchFormElement53:"TouchFormElement53",TouchFormElement54:"TouchFormElement54",TouchFormElement6:"TouchFormElement6",TouchFormElement7:"TouchFormElement7",TouchFormElement9:"TouchFormElement9",TouchFormElement31:"TouchFormElement31",TouchFormElement34:"TouchFormElement34",TouchFormElement5:"TouchFormElement5",TouchFormElement17:"TouchFormElement17",TouchFormElement18:"TouchFormElement18",TouchFormElement19:"TouchFormElement19",TouchFormElement12:"TouchFormElement12",TouchFormElement26:"TouchFormElement26",TouchFormElement38:"TouchFormElement38",TouchFormElement8:"TouchFormElement8",TouchFormElement14:"TouchFormElement14",TouchFormElement21:"TouchFormElement21",TouchFormElement25:"TouchFormElement25"}[e]||e)+"."+{"chunk-182277b5":"df8b27f6","chunk-011d5b96":"31d6cfe0","chunk-027d3d90":"31d6cfe0","chunk-02fa7284":"31d6cfe0","chunk-03993608":"31d6cfe0","chunk-114c15f9":"1d566f1f","chunk-87ff211a":"1d566f1f","chunk-05fa7bba":"31d6cfe0","chunk-12fe4112":"31d6cfe0","chunk-188c22df":"31d6cfe0","chunk-19d69ed7":"31d6cfe0","chunk-7dd929c2":"31d6cfe0","chunk-01d89442":"31d6cfe0","chunk-0f68ebc1":"31d6cfe0","chunk-1a8388cc":"31d6cfe0","chunk-2d0b9969":"31d6cfe0","chunk-3642fa06":"31d6cfe0","chunk-3a4e23c4":"31d6cfe0","chunk-4c645a45":"31d6cfe0","chunk-5070e560":"31d6cfe0","chunk-7975ad03":"31d6cfe0","chunk-7d176896":"31d6cfe0","chunk-1bd0efec":"31d6cfe0","chunk-1d72f658":"31d6cfe0","chunk-1df7bbcc":"31d6cfe0","chunk-2012b2dd":"31d6cfe0","chunk-20db0db6":"31d6cfe0","chunk-432f3a34":"31d6cfe0","chunk-4a90bd4c":"31d6cfe0","chunk-5d22811e":"31d6cfe0","chunk-4b1ac3a0":"31d6cfe0","chunk-7ac316b4":"31d6cfe0","chunk-896be914":"31d6cfe0","chunk-e2dc92b0":"31d6cfe0","chunk-219fabcf":"31d6cfe0","chunk-21d15150":"31d6cfe0","chunk-25cb22d9":"31d6cfe0","chunk-26444562":"31d6cfe0","chunk-2675659c":"31d6cfe0","chunk-29149989":"31d6cfe0","chunk-2c65a948":"31d6cfe0","chunk-2d0f07e6":"31d6cfe0","chunk-7e88c81c":"250118df","chunk-2dd56326":"31d6cfe0","chunk-31a837c0":"31d6cfe0","chunk-326fc762":"31d6cfe0","chunk-337918c0":"31d6cfe0","chunk-6fa354be":"31d6cfe0","chunk-70dc14d4":"4bb69700","chunk-8a2f2088":"484387a8","chunk-c876a562":"31d6cfe0","chunk-351de88a":"31d6cfe0","chunk-3611e052":"31d6cfe0","chunk-391f1f76":"31d6cfe0","chunk-42db0396":"31d6cfe0","chunk-44f7ff80":"31d6cfe0","chunk-48720368":"31d6cfe0","chunk-497f592f":"31d6cfe0","chunk-4f22edb2":"36e9c262","chunk-5088bfda":"31d6cfe0","chunk-53ab6794":"31d6cfe0","chunk-53cfcf77":"31d6cfe0","chunk-574a1272":"31d6cfe0","chunk-5844deae":"e62e3e72","chunk-5ca3d91b":"31d6cfe0","chunk-5730b4fc":"31d6cfe0","chunk-5ddd476a":"64c8cf59","chunk-5de0132c":"31d6cfe0","chunk-5eabd035":"31d6cfe0","chunk-638b4d38":"31d6cfe0","chunk-65b4c246":"31d6cfe0","chunk-65fc6100":"31d6cfe0","chunk-6737f72e":"31d6cfe0","chunk-6b0e71d3":"31d6cfe0","chunk-2bf70182":"51199849","chunk-088b8cc2":"99184602","chunk-0bae17c3":"99184602","chunk-0caae3bc":"79a4498d","chunk-19020b52":"79a4498d","chunk-1911324c":"99184602","chunk-19e3a259":"99184602","chunk-1a44cbe6":"99184602","chunk-1c36f288":"99184602","chunk-1d4d5982":"99184602","chunk-1da99aa6":"99184602","chunk-1f557c87":"1d16cea4","chunk-1fa672d3":"79a4498d","chunk-1feb9e83":"99184602","chunk-208f13ae":"85b4850a","chunk-217d7052":"79a4498d","chunk-22469d02":"99184602","chunk-286fe0cb":"99184602","chunk-2a776864":"99184602","chunk-2ed1d972":"99184602","chunk-2eeedc2e":"99184602","chunk-30c7e29c":"79a4498d","chunk-30cef22a":"99184602","chunk-4409b90c":"79a4498d","chunk-33a1adc6":"99184602","chunk-34d416b6":"99184602","chunk-3af66a92":"99184602","chunk-3b0aecbc":"99184602","chunk-3b7e842e":"99184602","chunk-3e28bee6":"99184602","chunk-3f672e30":"99184602","chunk-42e25d3c":"99184602","chunk-4666ff1b":"a046b99c","chunk-48a533fb":"31d6cfe0","chunk-2d0bb1cf":"31d6cfe0","chunk-2d0ddf11":"31d6cfe0","chunk-4ed18cb8":"99184602","chunk-51c72e34":"99184602","chunk-5634edea":"79a4498d","chunk-581043ef":"99184602","chunk-58c4f368":"79a4498d","chunk-625c0c16":"99184602","chunk-6356b278":"79a4498d","chunk-64586bf2":"99184602","chunk-67d99958":"79a4498d","chunk-6a7a9a01":"99184602","chunk-2d0db1ed":"31d6cfe0","chunk-2d229c15":"31d6cfe0","chunk-6e0a1a2b":"99184602","chunk-6e368e14":"79a4498d","chunk-7374b6f9":"99184602","chunk-75e421d0":"79a4498d","chunk-76fd841e":"99184602","chunk-7764aa42":"99184602","chunk-78ee052f":"99184602","chunk-82e7efbc":"99184602","chunk-8f04b8cc":"31d6cfe0","chunk-2d0c8493":"31d6cfe0","chunk-2d0f028e":"31d6cfe0","chunk-91e46ad8":"99184602","chunk-9906a834":"981021c2","chunk-9967de28":"99184602","chunk-9b28a1be":"e806313e","chunk-9cfeeccc":"79a4498d","chunk-ad3ee2ba":"99184602","chunk-ae9cb7fe":"99184602","chunk-b15a4cbe":"79a4498d","chunk-bc4a8412":"99184602","chunk-cc4eea7c":"99184602","chunk-df9986ec":"99184602","chunk-dfecc756":"99184602","chunk-e37a4a24":"99184602","chunk-e870e67c":"99184602","chunk-eb49a1a2":"79a4498d","chunk-f034d5ce":"79a4498d","chunk-fe6414de":"79a4498d","chunk-fedef60e":"99184602","chunk-0af82515":"e022eedc","chunk-15cf97c6":"173ef1f6","chunk-1bd19b52":"173ef1f6","chunk-2516b9b8":"581f6f61","chunk-2899cf11":"4660383d","chunk-35916397":"173ef1f6","chunk-371dec58":"b03b0018","chunk-429f977b":"adfe00fa","chunk-46584156":"173ef1f6","chunk-56c4f82a":"173ef1f6","chunk-5b42aff9":"173ef1f6","chunk-5b80663a":"173ef1f6","chunk-65141d80":"b03b0018","chunk-680de719":"173ef1f6","chunk-68e72ecf":"b03b0018","chunk-79f4429c":"173ef1f6","chunk-7b3d4bae":"b03b0018","chunk-7bc06f4e":"b03b0018","chunk-cf2ead6e":"581f6f61","chunk-8723e4e6":"866ff9fa","chunk-4142dbbe":"99184602","chunk-53509df8":"99184602","chunk-6c9fa5bd":"31d6cfe0","chunk-6fa320d1":"31d6cfe0","chunk-6fef0f96":"31d6cfe0","chunk-73b04d9a":"31d6cfe0","chunk-73da6e08":"31d6cfe0","chunk-758dca60":"31d6cfe0","chunk-75c56f7d":"31d6cfe0","chunk-764187cf":"31d6cfe0","chunk-7680322b":"31d6cfe0","chunk-77ab62c7":"31d6cfe0","chunk-7f9f344f":"31d6cfe0","chunk-81c5cc30":"ebe50a1a","chunk-03e87f92":"31d6cfe0","chunk-c326e570":"cbe9a55f","chunk-8d3f93ae":"31d6cfe0","chunk-8ec962d0":"31d6cfe0","chunk-95b18c84":"31d6cfe0","chunk-987b0946":"31d6cfe0","chunk-a2a01466":"31d6cfe0","chunk-a2bf4bd4":"31d6cfe0","chunk-a6bf6f7c":"31d6cfe0","chunk-a729b7d6":"31d6cfe0","chunk-a7a2845a":"31d6cfe0","chunk-a7a294f2":"31d6cfe0","chunk-b3734ea4":"31d6cfe0","chunk-be5ed588":"31d6cfe0","chunk-c0e63af2":"31d6cfe0","chunk-c8d451b2":"31d6cfe0","chunk-cc975d02":"31d6cfe0","chunk-d8955780":"31d6cfe0","chunk-d90eaab8":"31d6cfe0","chunk-e32987c8":"31d6cfe0","chunk-e3ce66c6":"8a06e19d","chunk-e9acffa4":"31d6cfe0","chunk-ebbb0fd6":"cb122c1a","chunk-f68cd34a":"31d6cfe0","chunk-d64a144c":"31d6cfe0","chunk-dc83f310":"31d6cfe0","chunk-4599ff2a":"f426d895","chunk-1420b27c":"0908e236","chunk-31705150":"c083c65c","chunk-1e82d964":"b24d7c7c","chunk-255e30c6":"f9e428b7","chunk-290c5597":"31d6cfe0","chunk-2c083610":"09c3dee7","chunk-2d0b66fc":"31d6cfe0","chunk-2d0d3c84":"31d6cfe0","chunk-2d0d6d65":"31d6cfe0","chunk-2d0d78b2":"31d6cfe0","chunk-2d0e9381":"31d6cfe0","chunk-2d2080c7":"31d6cfe0","chunk-2d21db89":"31d6cfe0","chunk-2d222064":"31d6cfe0","chunk-2d22d5a8":"31d6cfe0","chunk-39414c6b":"b955ff4a","chunk-43f02195":"e4b178c7","chunk-4932b33e":"f35b7a4d","chunk-49e291dc":"707dafdb","chunk-4a503b68":"07402782","chunk-611999d8":"b6e10e8e","chunk-672b5431":"07402782","chunk-067835e4":"ac8ea96f","chunk-0730f198":"ac8ea96f","chunk-0e047aac":"ac8ea96f","chunk-0efb1fa2":"ac8ea96f","chunk-216f6210":"c05f5882","chunk-2ac9666a":"a5147b47","chunk-2c503d9c":"ac8ea96f","chunk-3f9043da":"a5147b47","chunk-4480d5f3":"ac8ea96f","chunk-4e77a1f0":"ac8ea96f","chunk-4f373348":"ac8ea96f","chunk-5500ed89":"ac8ea96f","chunk-574fa9e6":"ac8ea96f","chunk-59073f37":"ac8ea96f","chunk-596b8ad8":"789c7da8","chunk-5c05453b":"ac8ea96f","chunk-63c31ef6":"ac8ea96f","chunk-63dea285":"ac8ea96f","chunk-65fd757f":"ac8ea96f","chunk-6bc85dfc":"ac8ea96f","chunk-74a176a9":"ac8ea96f","chunk-7b21e093":"ac8ea96f","chunk-7c8e72a0":"ac8ea96f","chunk-7de4a4ed":"ac8ea96f","chunk-7febe7c8":"ac8ea96f","chunk-8c33a9b4":"ac8ea96f","chunk-97982206":"ac8ea96f","chunk-9aade578":"ac8ea96f","chunk-9cf0ed5a":"ac8ea96f","chunk-a57546bc":"ac8ea96f","chunk-abb8448a":"ac8ea96f","chunk-b26bad70":"ac8ea96f","chunk-bb7f18fc":"ac8ea96f","chunk-deddd00c":"ac8ea96f","chunk-eb2463fc":"ac8ea96f","chunk-ec6fafd2":"ac8ea96f","chunk-f0e27e42":"ac8ea96f","chunk-f3bf2c6c":"ac8ea96f","chunk-45b61551":"31d6cfe0","chunk-6bfd0d86":"7d1468e6","chunk-78f8f262":"260023b8","chunk-7c8aec08":"bc3a6124","chunk-a02e6532":"c83df536","chunk-a279802a":"9c71c637","chunk-a8b63e72":"c7a4ec47","chunk-bfca2108":"58bbe8df","chunk-214b8c9a":"f426d895","chunk-34d41f9c":"f858d939","chunk-ebacfeba":"07402782","chunk-f0a76acc":"4d3a87a2","chunk-f15d923e":"e155dfbb","chunk-fb4800b8":"2d427e44",TouchFormElement0:"a9cab27d",TouchFormElement1:"86cadaaa",TouchFormElement10:"f177188e",TouchFormElement11:"a761476f",TouchFormElement13:"0d605455",TouchFormElement15:"69c4c0cf",TouchFormElement16:"4e8f2781",TouchFormElement2:"1d089114",TouchFormElement20:"3ad2c511",TouchFormElement22:"4fdb57c3",TouchFormElement23:"2843771e",TouchFormElement24:"86cadaaa",TouchFormElement27:"97fc48bf",TouchFormElement28:"dcbc92af",TouchFormElement29:"e175e130",TouchFormElement3:"913d07f0",TouchFormElement30:"5e5062e1",TouchFormElement32:"0d605455",TouchFormElement33:"e6c9cb03",TouchFormElement35:"ed54cd27",TouchFormElement36:"b5f72455",TouchFormElement37:"0d605455",TouchFormElement39:"0df6fea0",TouchFormElement4:"d32f3d9f",TouchFormElement40:"f0710516",TouchFormElement41:"da6df12c",TouchFormElement42:"68740a2e",TouchFormElement43:"be8270c0",TouchFormElement44:"25bf35ee",TouchFormElement45:"91085c7f",TouchFormElement46:"2caf1f0f",TouchFormElement47:"fdb0238e",TouchFormElement48:"2274e516",TouchFormElement49:"e47d4f4d",TouchFormElement50:"ba798de3",TouchFormElement51:"bdf14c4e",TouchFormElement52:"7da99f80",TouchFormElement53:"b081b870",TouchFormElement54:"cd669eec",TouchFormElement6:"f41b92a1",TouchFormElement7:"a5268caa",TouchFormElement9:"31d6cfe0",TouchFormElement31:"30d5aa95",TouchFormElement34:"b081b870",TouchFormElement5:"5e5062e1",TouchFormElement17:"f5d939f5",TouchFormElement18:"7c5abbd4",TouchFormElement19:"7c5adfbb",TouchFormElement12:"cdf03e74",TouchFormElement26:"d5dfdb8b",TouchFormElement38:"6b65ed23",TouchFormElement8:"32757b37",TouchFormElement14:"d06e7dd2",TouchFormElement21:"ccfc00b2",TouchFormElement25:"dbb21905","chunk-0132f376":"31d6cfe0","chunk-04d459c1":"31d6cfe0","chunk-0900ddec":"31d6cfe0","chunk-093f272e":"31d6cfe0","chunk-0b5af5d5":"31d6cfe0","chunk-0ebca02a":"31d6cfe0","chunk-13817cd5":"31d6cfe0","chunk-1da7959b":"31d6cfe0","chunk-2206f8a6":"31d6cfe0","chunk-2207d67a":"31d6cfe0","chunk-2be4766a":"31d6cfe0","chunk-2d0a463b":"31d6cfe0","chunk-2d0abe2a":"31d6cfe0","chunk-2d0bdb18":"31d6cfe0","chunk-2d0bdf09":"31d6cfe0","chunk-2d0be6d7":"31d6cfe0","chunk-2d0c073f":"31d6cfe0","chunk-2d0c09db":"31d6cfe0","chunk-2d0c7312":"31d6cfe0","chunk-2d0cf9fe":"31d6cfe0","chunk-2d0d43da":"31d6cfe0","chunk-2d0d6793":"31d6cfe0","chunk-2d0d6966":"31d6cfe0","chunk-2d0d6bbc":"31d6cfe0","chunk-2d0d9f47":"31d6cfe0","chunk-2d0da04a":"31d6cfe0","chunk-2d0de03d":"31d6cfe0","chunk-2d0e57f4":"31d6cfe0","chunk-2d0e5812":"31d6cfe0","chunk-2d0f064c":"31d6cfe0","chunk-2d213189":"31d6cfe0","chunk-2d216a01":"31d6cfe0","chunk-2d218068":"31d6cfe0","chunk-30a9a89d":"31d6cfe0","chunk-3106975e":"31d6cfe0","chunk-32cf1849":"31d6cfe0","chunk-4261ce5e":"31d6cfe0","chunk-431e8a38":"31d6cfe0","chunk-4570997a":"31d6cfe0","chunk-4720a36f":"31d6cfe0","chunk-4b53e668":"31d6cfe0","chunk-4ee2b46f":"31d6cfe0","chunk-50a18636":"31d6cfe0","chunk-540a2426":"31d6cfe0","chunk-59fdc88a":"31d6cfe0","chunk-5b0ee2aa":"31d6cfe0","chunk-60d0c2df":"31d6cfe0","chunk-64a0096b":"31d6cfe0","chunk-6acb6f6b":"31d6cfe0","chunk-6d22df2d":"31d6cfe0","chunk-6f06b1e2":"31d6cfe0","chunk-6f61dd68":"31d6cfe0","chunk-781b512c":"31d6cfe0","chunk-79dd5ac0":"31d6cfe0","chunk-85b5d926":"31d6cfe0","chunk-86222582":"31d6cfe0","chunk-900c197e":"31d6cfe0","chunk-903231d6":"31d6cfe0","chunk-93066ee6":"31d6cfe0","chunk-93311420":"31d6cfe0","chunk-9c6dd432":"31d6cfe0","chunk-b5756354":"31d6cfe0","chunk-bfdbcc14":"31d6cfe0","chunk-df1db842":"31d6cfe0","chunk-df1eb2d2":"31d6cfe0","chunk-df476974":"31d6cfe0","chunk-ea105bb6":"31d6cfe0","chunk-eacbb13e":"31d6cfe0","chunk-f29fa758":"31d6cfe0","chunk-f93c6b4e":"31d6cfe0","chunk-2d0a4885":"31d6cfe0","chunk-2d216214":"31d6cfe0","chunk-2d216257":"31d6cfe0","chunk-5a787b30":"31d6cfe0","chunk-2d0c4649":"31d6cfe0","chunk-24a9d490":"ba864d4d","chunk-2d0d3fd7":"31d6cfe0","chunk-3930e940":"f55e5447","chunk-a82438bc":"2c5e759a","chunk-2d0a3a6a":"31d6cfe0","chunk-2d0d01da":"31d6cfe0","chunk-2d215d2b":"31d6cfe0"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var l=i[r],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===a||d===o))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){l=u[r],d=l.getAttribute("data-href");if(d===a||d===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete c[e],m.parentNode.removeChild(m),n(i)},m.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){c[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=i);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=r(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",u.name="ChunkLoadError",u.type=a,u.request=c,n[1](u)}o[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var m=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0011":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return g}));var a=n("5a0c"),c=n.n(a);function o(e){try{return!!(""+e).match(/(^\s*$|undefined|null)/i)}catch(t){return!0}}function i(e){return!!(""+e).match(/(^\s*$|Unknown|None|undefined|null)/i)}function r(e){return(""+e).replace(/<[^>]+>/g,"")}function s(e){const t=["th","st","nd","rd"],n=e%100;return t[(n-20)%10]||t[n]||t[0]}function l(e){return e<10?"0"+e:e}function d(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()}function u(e){return e?c()(e).format("DD/MMM/YYYY"):e}function m(e){let t=e;return"string"===typeof t&&""!=t&&(t=parseInt(t)),"number"===typeof t?t.toLocaleString():e}function p(e){const t=(""+e).toUpperCase();return"M"===t||"MALE"===t?"Male":"F"===t||"FEMALE"===t?"Female":/fbf|fnp|fp/i.test(e)?t:e}function h(e){return e.toLowerCase().replace(/(^\w|\s\w)/g,e=>e.toUpperCase())}function b(e){const t=(""+e).toUpperCase();return"M"===t||"MALE"===t?"Male":"F"===t||"FEMALE"===t?"Female":/fbf|fnp|fp/i.test(e)?t:e}function g(e){const t=/(\d{2}\/[A-Za-z]{3}\/\d{4})/g,n=e.match(t);return n?n.join(" "):""}},"03d7":function(e,t,n){"use strict";n("14d9");var a=n("afbc"),c=n("7a23");const o={class:"vertically-align his-lg-text",style:{"text-align":"center"}},i={id:"timer"},r={class:"ion-padding"};function s(e,t,n,a,s,l){const d=Object(c["resolveComponent"])("ion-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createElementVNode"])("h1",null,Object(c["toDisplayString"])(e.countDownMessage),1),Object(c["createElementVNode"])("div",i,Object(c["toDisplayString"])(e.time)+"s",1),Object(c["createElementVNode"])("div",r,["function"===typeof e.onCancel?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:0,size:"large",onClick:e.oncancel},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Cancel ")]),_:1},8,["onClick"])):Object(c["createCommentVNode"])("",!0)])])}var l=n("d867"),d=Object(c["defineComponent"])({props:{timeExpiry:{type:Number,default:200},countDownMessage:{type:String},onTimeout:{type:Function},onCancel:{type:Function}},components:{IonButton:l["IonButton"]},setup(e){function t(){clearInterval(a),"function"===typeof e.onCancel&&e.onCancel()}const n=Object(c["ref"])(e.timeExpiry),a=setInterval(()=>{n.value--,n.value<=0&&(t(),n.value=0,"function"===typeof e.onTimeout&&e.onTimeout())},1e3),o=Object(c["ref"])(n.value);return Object(c["watch"])(n,()=>{o.value=n.value}),Object(c["onBeforeUnmount"])(()=>clearInterval(a)),{time:o,oncancel:t}}}),u=(n("d7e7"),n("6b0d")),m=n.n(u);const p=m()(d,[["render",s],["__scopeId","data-v-d26159dc"]]);var h=p,b=n("89b4");const g="screentime.timeout",_=Object(c["ref"])(0),f=Object(c["ref"])(),k=Object(c["ref"])(!1);function O(){l["modalController"].getTop().then(e=>e&&l["modalController"].dismiss({},void 0,g))}function v(){clearTimeout(f.value),f.value=setTimeout(async()=>{if(!_.value||k.value)return;k.value=!0;const e=await l["modalController"].create({cssClass:"small-modal custom-modal-backdrop",backdropDismiss:!1,component:h,id:g,componentProps:{timeExpiry:200,countDownMessage:"The system will automatically logout in:",onTimeout:()=>{O(),I(),(new b["a"]).clearSession(),a["a"].push("/login")},onCancel:()=>{O(),v()}}});e.present(),await e.onDidDismiss(),k.value=!1},_.value||2500)}function y(e){_.value=e,sessionStorage.setItem("screen_timeout",""+e)}function I(){_.value=0,sessionStorage.removeItem("screen_timeout")}function E(){_.value=parseInt(sessionStorage.getItem("screen_timeout")||"0"),document.addEventListener("mousemove",v),document.addEventListener("keydown",v),v()}t["a"]={idleTime:_,clearScreenTimeout:I,configureTimeout:y,resetInactivityTimer:v,initiateSystemIdleMonitor:E}},"0669":function(e,t,n){"use strict";n("49a2")},"088d":function(e,t,n){"use strict";n("809e")},"0907":function(e,t,n){},"0ba8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("c0e2");t["b"]=new c["TinyEmitter"],function(e){e["SHOW_MODAL"]="show-modal"}(a||(a={}))},"0f25":function(e,t,n){"use strict";var a=n("7a23");function c(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("ion-button"),s=Object(a["resolveComponent"])("ion-toolbar"),l=Object(a["resolveComponent"])("ion-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{color:e.color},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.footerBtns,(e,t)=>Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:t,slot:e.slot,onClick:t=>e.onClick(e),color:e.color,class:Object(a["normalizeClass"])(e.styleClass),size:e.size},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.name),1)]),_:2},1032,["slot","onClick","color","class","size"])),[[a["vShow"],e.visible]])),128))]),_:1},8,["color"])]),_:1})}var o=n("d867"),i=Object(a["defineComponent"])({name:"HisNavFooter",data:()=>({footerBtns:[]}),created(){this.$emit("onFooterInstance",this)},props:{color:{type:String,default:"dark"},state:{type:Object},btns:{type:Object,required:!0}},components:{IonButton:o["IonButton"],IonFooter:o["IonFooter"],IonToolbar:o["IonToolbar"]},watch:{state:{handler(e){e&&(this.footerBtns=this.footerBtns.map(t=>(t.visibleOnStateChange&&(t.visible=t.visibleOnStateChange(e)),t)))},deep:!0,immediate:!0},btns:{handler(e){e&&(this.footerBtns=[...e])},deep:!0,immediate:!0}}}),r=n("6b0d"),s=n.n(r);const l=s()(i,[["render",c]]);t["a"]=l},"0fa1":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y}));n("14d9");var a=n("7a23");const c=["onClick"];function o(e,t,n,o,i,r){const s=Object(a["resolveComponent"])("ion-title"),l=Object(a["resolveComponent"])("ion-toolbar"),d=Object(a["resolveComponent"])("ion-header"),u=Object(a["resolveComponent"])("ion-checkbox"),m=Object(a["resolveComponent"])("ion-col"),p=Object(a["resolveComponent"])("ion-row"),h=Object(a["resolveComponent"])("multi-column-view"),b=Object(a["resolveComponent"])("ion-content"),g=Object(a["resolveComponent"])("ion-button"),_=Object(a["resolveComponent"])("ion-footer");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("Select activities")]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{items:e.appActivities,numberOfColumns:2},{default:Object(a["withCtx"])(({entries:e})=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"his-card clickable",key:t,onClick:t=>e.selected=!e.selected},[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{size:"1"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:e.selected,"onUpdate:modelValue":t=>e.selected=t,onClick:t=>e.selected=!e.selected},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:2},1024),Object(a["createVNode"])(m,{class:"ion-text-center his-md-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.value),1)]),_:2},1024)]),_:2},1024)],8,c))),128))]),_:1},8,["items"])]),_:1}),Object(a["createVNode"])(_,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{onClick:e.postActivities,color:"success",disabled:0==e.selectedActivities.length,size:"large",style:{float:"right"}},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("finish")]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})],64)}var i=n("d867"),r=n("b5e4"),s=n("1c74"),l=n("2ef0"),d=n("92c1"),u=Object(a["defineComponent"])({name:"Modal",props:{activities:{type:Object,required:!0},property:{type:String,default:"activities"}},watch:{activities:{handler(e){e&&(this.appActivities=[...e],this.getActivities())},immediate:!0}},methods:{async getActivities(){const e=await s["e"].getJson("user_properties",{property:this.property});Object(l["isEmpty"])(e)?Object(r["e"])("Activities not found"):this.appActivities=this.appActivities.map(t=>(e.property_value.search(t.value)>=0&&(t.selected=!0),t))},async postActivities(){const e={property:this.property,property_value:this.selectedActivities},t=await s["e"].postJson("user_properties",e);t?await i["modalController"].dismiss():Object(r["e"])("Could not save activities")}},computed:{selectedActivities(){return this.appActivities.filter(e=>1==e.selected).map(e=>e.value).join(",")}},data(){return{content:"Content",appActivities:[]}},components:{IonButton:i["IonButton"],IonContent:i["IonContent"],IonHeader:i["IonHeader"],IonTitle:i["IonTitle"],IonToolbar:i["IonToolbar"],IonCheckbox:i["IonCheckbox"],MultiColumnView:d["a"]}}),m=(n("d77d"),n("6b0d")),p=n.n(m);const h=p()(u,[["render",o],["__scopeId","data-v-433be29f"]]);var b,g=h,_=n("50e7"),f=n("3e53");function k(e,t){sessionStorage.getItem(b.NextTask)||sessionStorage.setItem(b.NextTask,JSON.stringify({patientID:e,tasks:[]}));const n=JSON.parse(sessionStorage.getItem(b.NextTask));e===n.patientID?n.tasks.push(t):(n.patientID=e,n.tasks=[t]),sessionStorage.setItem(b.NextTask,JSON.stringify(n))}function O(e,t,n){const a=sessionStorage.getItem(b.NextTask);if(!a)return-1;const c=JSON.parse(a);if(e!=c.patientID)return-1;let o="",i=-1;return c.tasks.forEach((e,t)=>{e.from===n.name&&(o=e.to,i=t)}),o?(c.tasks.splice(i,1),sessionStorage.setItem(b.NextTask,JSON.stringify(c)),t.push(o),1):-1}async function v(e,t,n={}){try{if(!Object(l["isEmpty"])(n)){const a=O(e,t,n);if(-1!=a)return}const{name:a}=await _["a"].nextTask(e);if(a){const n=a.toLowerCase(),c=f["a"].getActiveApp();if(c){const a=c.primaryPatientActivites.find(e=>(null===e||void 0===e?void 0:e.workflowID)===n||e.name.toLowerCase()===n);if(a&&"function"===typeof a.action)return a.action({patientID:e,router:t})}return void t.push({name:n,params:{patient_id:e}})}}catch(a){console.warn(a)}t.push("/patient/dashboard/"+e)}async function y(e,t="activities"){const n=e.filter(e=>"boolean"===typeof e.availableOnActivitySelection&&e.availableOnActivitySelection||"boolean"!==typeof e.availableOnActivitySelection).map(e=>({value:e.workflowID||e.name,selected:!1})),a=await i["modalController"].create({component:g,cssClass:"large-modal",backdropDismiss:!1,componentProps:{activities:n,property:t}});a.present(),await a.onDidDismiss()}(function(e){e["NextTask"]="next-task"})(b||(b={}))},"133d":function(e,t,n){"use strict";n("d6d4")},1352:function(e,t,n){},"156d":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("0ba8");(function(e){e["BEFORE_API_REQUEST"]="before_api_request",e["AFTER_API_REQUEST"]="after_api_request",e["ON_API_CRASH"]="un_reachable_api"})(a||(a={}));const o=(()=>{async function e(){const e=await fetch("/config.json");if(!e.ok)throw"Unable to retrieve configuration file/ Invalid config.json";try{const{apiURL:t,apiPort:n,apiProtocol:a,appConf:c,apps:o,thirdpartyApps:i,isPocSite:r,defaultApp:s,platformProfiles:l,otherApps:d}=await e.json();return sessionStorage.setItem("apiURL",t),sessionStorage.setItem("apiPort",n),sessionStorage.setItem("apiProtocol",a),sessionStorage.setItem("appConf",JSON.stringify(c)),sessionStorage.setItem("apps",JSON.stringify(o)),sessionStorage.setItem("thirdpartyApps",JSON.stringify(i)),sessionStorage.setItem("isPocSite",r),sessionStorage.setItem("defaultApp",s),sessionStorage.setItem("platformProfiles",JSON.stringify(l)),sessionStorage.setItem("platformProfiles",JSON.stringify(l)),sessionStorage.setItem("otherApps",JSON.stringify(d)),{host:t,port:n,protocol:a,thirdpartyapps:i,otherApps:d}}catch(t){throw console.error(t),'API Configuration file "/config.json" has errors. Please check console log for more details'}}function t(){const e=localStorage.apiURL,t=localStorage.apiPort,n=localStorage.apiProtocol,a=localStorage.thirdpartyApps,c=localStorage.otherApps||[];if(e&&t&&n)return{host:e,port:t,protocol:n,thirdpartyapps:a,otherApps:c}}function n(){const e=sessionStorage.apiURL,t=sessionStorage.apiPort,n=sessionStorage.apiProtocol,a=sessionStorage.thirdpartyApps,c=sessionStorage.otherApps;if(e&&t&&n)return{host:e,port:t,protocol:n,thirdpartyapps:a,otherApps:c}}function o(){const a=t(),c=n();return localStorage.useLocalStorage&&a?a:c||e()}async function i(e){const t=await o();return`${t.protocol}://${t.host}:${t.port}/api/v1/${e}`}function r(){return{Authorization:sessionStorage.apiKey,"Content-Type":"application/json"}}function s(e,t,n){localStorage.setItem("useLocalStorage","true"),localStorage.setItem("apiURL",t),localStorage.setItem("apiPort",n),localStorage.setItem("apiProtocol",e)}function l(e){e.forEach(t=>{e.includes(t)&&localStorage.removeItem(t)})}async function d(e,t){t={...t,mode:"cors"},"headers"in t||(t={...t,headers:r()});const n=await i(e);try{c["b"].emit(a.BEFORE_API_REQUEST,e);const o=await fetch(n,t);return c["b"].emit(a.AFTER_API_REQUEST,o),o}catch(o){console.error(o),(""+o).match(/NetworkError|Failed to fetch/i)?c["b"].emit(a.ON_API_CRASH,o):c["b"].emit(a.AFTER_API_REQUEST,{})}}const u=e=>d(e,{method:"GET"}),m=(e,t)=>d(e,{method:"POST",body:JSON.stringify(t)}),p=(e,t)=>d(e,{method:"DELETE",body:JSON.stringify(t)}),h=(e,t)=>d(e,{method:"PUT",body:JSON.stringify(t)}),b=()=>u("_health");return{get:u,post:m,put:h,remove:p,getConfig:o,setLocalStorage:s,removeOnly:l,expandPath:i,healthCheck:b,getFileConfig:e}})();t["b"]=o},1718:function(e,t,n){"use strict";function a(e){return"/assets/images/"+e}n.d(t,"a",(function(){return a}))},"177d":function(e,t,n){},"18ab":function(e,t,n){},"1afa":function(e,t,n){},"1b47":function(e,t,n){"use strict";var a=n("7a23");function c(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("action-header"),s=Object(a["resolveComponent"])("ion-radio"),l=Object(a["resolveComponent"])("ion-label"),d=Object(a["resolveComponent"])("ion-item"),u=Object(a["resolveComponent"])("ion-radio-group"),m=Object(a["resolveComponent"])("ion-list"),p=Object(a["resolveComponent"])("ion-content"),h=Object(a["resolveComponent"])("action-footer");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(r,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(a["createVNode"])(p,{class:"ion-text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{value:e.activeLabel},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.list,(t,n)=>(Object(a["openBlock"])(),Object(a["createBlock"])(d,{class:"his-md-text",onClick:n=>e.onclick(t),key:n},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{slot:"start",value:t},null,8,["value"]),Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),Object(a["createVNode"])(h,{buttons:e.buttons},null,8,["buttons"])],64)}var o=n("8efc"),i=n("d867"),r=n("b5e4"),s=Object(a["defineComponent"])({components:{IonList:i["IonList"],IonItem:i["IonItem"],IonContent:i["IonContent"],IonRadio:i["IonRadio"],IonRadioGroup:i["IonRadioGroup"]},mixins:[o["a"]],data:()=>({activeLabel:""}),props:{list:{type:Object,required:!0}},methods:{onclick(e){this.activeLabel=e}},computed:{buttons(){return this.actionButtons.map(e=>({...e,onClick:async()=>e.role&&e.role.match(/default/i)?i["modalController"].dismiss({action:e.name}):e.role&&e.role.match(/action/i)&&!this.activeLabel?Object(r["e"])("Please select one of the options"):void await i["modalController"].dismiss({selection:this.activeLabel,action:e.name})}))}}}),l=(n("bdcb"),n("6b0d")),d=n.n(l);const u=d()(s,[["render",c],["__scopeId","data-v-23709ba4"]]);t["a"]=u},"1bb3":function(e,t,n){"use strict";n("c54c")},"1c74":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return _}));var a=n("ade3"),c=(n("d9e2"),n("14d9"),n("156d")),o=n("bef6"),i=n("3e53"),r=n("5d6c"),s=n("89b4"),l=n("f768"),d=n("2ef0");class u extends Error{constructor(e,t){super("ENTITY Error: "+e),Object(a["a"])(this,"entity",void 0),this.entity=t}}class m extends Error{constructor(e,t){super(e),Object(a["a"])(this,"errors",void 0),this.errors=t}}class p extends Error{constructor(e){super("RECORD NOT FOUND: "+e)}}class h extends Error{constructor(e,t){super(e),Object(a["a"])(this,"errors",void 0),this.errors=t}}class b extends Error{constructor(e){super("API SERVICE_ERROR: "+e)}}class g extends Error{constructor(e){super("API ERROR: "+e)}}class _{static ajxGet(e,t={}){return c["b"].get(`${e}?${o["a"].parameterizeObjToString(t)}`)}static async getText(e){const t=await c["b"].get(e);if(t&&t.ok)return null===t||void 0===t?void 0:t.text()}static getJsonSWR(e,t={},n={}){const a=`${e}?${o["a"].parameterizeObjToString(t)}`;return Object(r["a"])(a,e=>this.getJson(e),n).data}static async getJson(e,t={}){const n=Object(d["isEmpty"])(t)?e:`${e}?${o["a"].parameterizeObjToString(t)}`;return this.jsonResponseHandler(c["b"].get(n))}static async postJson(e,t){return this.jsonResponseHandler(c["b"].post(e,t))}static putJson(e,t){return this.jsonResponseHandler(c["b"].put(e,t))}static async void(e,t){return this.jsonResponseHandler(c["b"].remove(e,t))}static async getThirdpartyApps(){return JSON.parse((await c["b"].getConfig()).thirdpartyapps)}static async jsonResponseHandler(e){const t=await e;if(t){if([200,201].includes(t.status))return null===t||void 0===t?void 0:t.json();if(400===t.status){const{errors:e}=await(null===t||void 0===t?void 0:t.json());throw new h(t.statusText,e)}if(404===t.status){const{errors:e}=await(null===t||void 0===t?void 0:t.json());throw new p(e)}if(422===t.status){const{errors:e,entity:n}=await(null===t||void 0===t?void 0:t.json());throw new u(e,n)}if(502===t.status){const{errors:e}=await(null===t||void 0===t?void 0:t.json());throw new b(e||"Getway Error")}if(409===t.status){const{errors:e}=await(null===t||void 0===t?void 0:t.json());throw new m(t.statusText,e)}if(500===t.status)throw new g("An internal server errror has occured")}}static async getApiDate(){const e=await this.getJson("current_time");if(e)return e.date}static getApiVersion(){return sessionStorage.getItem("APIVersion")||"-"}static getActiveApp(){return i["a"].getActiveApp()||{}}static getUserID(){const e=sessionStorage.getItem("userID");return e?parseInt(e):null}static getUserLocation(){return sessionStorage.getItem("userLocation")}static getLocationName(){return sessionStorage.getItem("locationName")}static getSessionDate(){return sessionStorage.getItem("sessionDate")||""}static getCachedApiDate(){return sessionStorage.getItem("apiDate")}static async setSessionDate(e){const t=await this.getApiDate();if(t)return sessionStorage.setItem("apiDate",t),void sessionStorage.setItem("sessionDate",e);throw"Unable to set api date"}static async resetSessionDate(){const e=await this.getApiDate();if(e)return sessionStorage.removeItem("apiDate"),void sessionStorage.setItem("sessionDate",e);throw"Unable to reset session date"}static isBDE(){const e=sessionStorage.getItem("apiDate"),t=sessionStorage.getItem("sessionDate");return e&&e!=t}static getSiteUUID(){return sessionStorage.siteUUID||""}static getProgramName(){const e=this.getActiveApp();return"applicationName"in e?e.applicationName:""}static getSuspendedProgram(){return sessionStorage.getItem("suspendedApp")||""}static getProgramID(){const e=this.getActiveApp();return"programID"in e?e.programID:0}static getUserRoles(){const e=sessionStorage.getItem("userRoles");return e?JSON.parse(e):[]}static getUserName(){return sessionStorage.username}static getCoreVersion(){return localStorage.getItem(s["b"].CORE_VERSION)||"-"}static getAppVersion(){return localStorage.getItem(s["b"].CORE_VERSION)||"-"}static getFullVersion(){return`${this.getCoreVersion()} / ${this.getApiVersion()}`}static getAvailableApps(e=this.isPocSite()){const t=JSON.parse(sessionStorage.getItem("userPrograms")||"[]").map(e=>e["program_id"]),n=[];for(const a of JSON.parse(sessionStorage.getItem("apps")||"[]")){const e=Object(d["find"])(l["b"],{applicationName:a.name})||{},c=Object(d["isEmpty"])(t)||t.includes(e.programID);a.available&&!Object(d["isEmpty"])(e)&&n.push({...e,hasPriviledge:c,isPocApp:!1!==e.isPocApp})}return n.filter(({isPocApp:t})=>e===t)}static isUsingLocalStorage(){return"true"===localStorage.getItem("useLocalStorage")}static isPocSite(){return"false"!==sessionStorage.isPocSite}static getDefaultApp(){return Object(d["find"])(l["b"],{applicationName:sessionStorage.defaultApp})}}Object(a["a"])(_,"delay",e=>new Promise(t=>setTimeout(t,e)))},"1eb2":function(e,t,n){},"1fd1":function(e,t,n){"use strict";n("e1bd")},"23e6":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n("ade3"),c=(n("13d5"),n("7941"));const o=(e,t)=>{const n=e.filter(e=>e.type.patient_identifier_type_id===t);return n.length>0?n[0].identifier:""};var i=n("7957"),r=n("8158"),s=n("1c74"),l=n("9283"),d=n("aee2"),u=n("2ef0"),m=n("0011");class p extends s["e"]{constructor(){super()}static create(e,t,n){return super.postJson("patient_identifiers",{identifier:n,identifier_type:t,patient_id:e})}}var h=n("4db7"),b=n("5a0c"),g=n.n(b);class _ extends s["e"]{constructor(e){super(),Object(a["a"])(this,"patient",void 0),this.patient=e}static mergePatients(e){return e["program_id"]=super.getProgramID(),super.postJson("dde/patients/merge",e)}static voidPatient(e,t=""){return super.void("patients/"+e,{reason:t})}static async search(e){return super.getJson("/search/patients",e)}static findByNpid(e,t={}){return super.getJson("search/patients/by_npid",{npid:e,...t})}static findByOtherID(e,t){return super.getJson("search/patients/by_identifier",{type_id:e,identifier:t})}static async findByID(e){return super.getJson("/patients/"+e)}static async assignNHID(e,t){return super.postJson(`/patients/${e}/npid`,{program_id:t})}static reassignARVNumber(e,t){return super.putJson("patient_identifiers/"+e,t)}static toPatient(e){return JSON.parse(e)}static patientToJson(e){return JSON.stringify(e)}static async getPatientVisits(e,t){const n=await super.getJson(`patients/${e}/visits`,{program_id:super.getProgramID(),include_defaulter_dates:1==t});return n?n.sort((e,t)=>new Date(e)<new Date(t)?1:0):[]}getWeightLossPercentageFromTrail(e){const[t,n]=e.map(e=>e.weight);if(!t||!n)return!1;const a=parseFloat(n)-parseFloat(t),c=a/n*100;return Math.round(c)}getGuardian(){return _.getJson(`people/${this.getID()}/relationships`)}assignNpid(){return _.assignNHID(this.getID(),s["e"].getProgramID())}createArvNumber(e){return p.create(this.getID(),4,e)}updateARVNumber(e){var t;const n=(null===(t=this.getIdentifiers().find(e=>"ARV Number"===e.type.name))||void 0===t?void 0:t.patient_identifier_id)||"";return _.reassignARVNumber(n,{identifier:e})}updateMWNationalId(e){return p.create(this.getID(),28,e)}isMale(){return["Male","M"].includes(this.getGender())}isFemale(){return["Female","F"].includes(this.getGender())}async isPregnant(){const e=await i["a"].getFirstObs(this.getID(),"Is patient pregnant");return e&&!!e.value_coded.match(/Yes/i)&&i["a"].obsInValidPeriod(e)}async isBreastfeeding(){const e=await i["a"].getFirstObs(this.getID(),"Is patient breast feeding");return e&&!!e.value_coded.match(/Yes/i)&&i["a"].obsInValidPeriod(e)}async hasPregnancyObsToday(){const e=await i["a"].getFirstObsDatetime(this.getID(),"Is patient pregnant");return e&&l["c"].toStandardHisFormat(e)===s["e"].getSessionDate()&&this.isFemale()}async nextAppointment(e=s["e"].getProgramID()){try{const t=await s["e"].getJson("next_appointment",{patient_id:this.getID(),date:s["e"].getSessionDate(),program_id:e});return t.appointment_date}catch(t){return null}}isChildBearing(){const e=this.getAge();return this.isFemale()&&e>=12&&e<=50}async getInitialObs(e,t="value_numeric"){try{const n=await i["a"].getAll(this.getID(),e);if(!n)return;const a=n.length-1;return"value_coded"===t?r["a"].getConceptName(n[a][t]):n[a][t]}catch(n){console.error(n)}}async getInitialWeight(){return i["a"].getLastValueNumber(this.getID(),"weight")}async getRecentWeight(){return i["a"].getFirstValueNumber(this.getID(),"weight")||-1}async getInitialHeight(){return i["a"].getLastValueNumber(this.getID(),"Height")}getRecentHeightObs(){return i["a"].getFirstObs(this.getID(),"Height")}async getRecentHeight(){return i["a"].getFirstValueNumber(this.getID(),"Height")||-1}async getWeightHistory(){try{const e=await i["a"].getAll(this.getID(),"weight");return e.map(e=>({weight:e.value_numeric,date:e.obs_datetime}))}catch(e){return console.warn(e),[]}}async getCompleteTBTherapyHistory(){const e=await i["a"].getAll(this.getID(),"TB treatment history");return e.filter(e=>e.value_text.match(/Complete/i))}async getInitialBMI(){return i["a"].getLastValueNumber(this.getID(),"BMI")}async getBMI(){const e=await this.getRecentWeight(),t=await this.getRecentHeight();if(!e||!t)return 0;const n=this.isMale()?"M":"F",a=await d["a"].getBMI(e,t,n,this.getAge());return a}async calculateWeightPercentile(){const e=await this.getRecentWeight(),t=await this.getMedianWeightHeight();try{return parseFloat(e)/parseFloat(t["weight"])*100}catch(n){return 0}}async getMedianWeightHeight(){return s["e"].getJson(`patients/${this.getID()}/median_weight_height`,{date:s["e"].getSessionDate()})}getObj(){return this.patient}getID(){return this.patient.patient_id}getPatientInfoString(){const e=[this.getFullName(),`(${this.getGender()})`,this.getBirthdate(),", "+this.getCurrentDistrict()];return e.join(" ")}getCurrentDistrict(){return this.getAddresses().currentDistrict}getGender(){return this.patient.person.gender}getAge(){return g()(s["e"].getSessionDate()).diff(this.patient.person.birthdate,"years")}getAgeInMonths(){return 12*this.getAge()}getBirthdate(){return this.patient.person.birthdate}getGivenName(){return this.patient.person.names[0].given_name}getFamilyName(){return this.patient.person.names[0].family_name}getMiddleName(){return this.patient.person.names[0].middle_name}normaliseName(e){return e.replace(/n\/a|unknown|null|undefined/gi,"").trim()}async printNationalID(){return new h["a"](this.getID()).printNidLbl()}getFullName(){try{const e=this.patient.person.names[0],t=e.given_name,n=e.family_name,a=e.middle_name;return this.normaliseName(`${t} ${a} ${n}`)}catch(e){return console.error(e),"Unknown"}}getDocID(){const e=this.findIdentifierByType("DDE person document ID");return e.match(/unknown/i)?null:e}getNationalID(){return this.findIdentifierByType("National id")}getMWNationalID(){return this.findIdentifierByType("Malawi National ID")}getArvNumber(){return this.findIdentifierByType("ARV Number")}hasActiveFilingNumber(){return this.hasIdentifierType("Filing number")}hasDormantFilingNumber(){return this.hasIdentifierType("Archived filing number")}hasIdentifierType(e){const t=Object(u["find"])(this.patient.patient_identifiers,{type:{name:e}});return!!t}getFilingNumber(){const e=this.patient.patient_identifiers.filter(e=>"Filing number"===e.type.name||"Archived filing number"===e.type.name);return Object(u["isEmpty"])(e)?"N/A":e[0].identifier}findIdentifierByType(e){return this.patient.patient_identifiers.filter(t=>t.type.name===e).sort((e,t)=>e["date_created"]<t["date_created"]?1:0).reduce((e,t)=>"Unknown"===e?t.identifier:e,"Unknown")}getIdentifiers(){return this.patient.patient_identifiers}getHomeDistrict(){return this.getAddresses().ancestryDistrict}getHomeTA(){return this.getAddresses().ancestryTA}getHomeVillage(){return this.getAddresses().ancestryVillage}getCurrentVillage(){return this.getAddresses().currentVillage}getCurrentTA(){return this.getAddresses().currentTA}getClosestLandmark(){return this.getAttribute(19)}getOccupation(){return this.getAttribute(13)}getPhoneNumber(){return this.getAttribute(12)}getAttribute(e){return Object(c["a"])(this.patient.person.person_attributes,e)}getPatientIdentifier(e){return o(this.patient.patient_identifiers,e)}patientIsComplete(){return[this.getGender(),this.getBirthdate(),this.getGivenName(),this.getFamilyName(),...Object.values(this.getAddresses())].every(e=>!Object(m["e"])(e))}getAddresses(){const e={ancestryDistrict:"",ancestryTA:"",ancestryVillage:"",currentDistrict:"",currentTA:"",currentVillage:""};if(this.patient.person.addresses.length>0){const t=this.patient.person.addresses[0];e.ancestryDistrict=t.address2,e.ancestryTA=t.county_district,e.ancestryVillage=t.neighborhood_cell,e.currentDistrict=t.state_province,e.currentTA=t.township_division,e.currentVillage=t.city_village}return e}}},2706:function(e,t,n){"use strict";var a=n("2ef0");function c(e){try{for(const t in e){const n=e[t]();if(n)return n}}catch(t){return[t]}}function o(e){return Object(a["isEmpty"])(e)||Array.isArray(e)&&e.some(e=>!e.value)||!Array.isArray(e)&&!e.value?["Value is required"]:null}function i(e){return Object(a["isPlainObject"])(e)&&!/^[-+]?[0-9]*\.?[0-9]+$/.test(""+(null===e||void 0===e?void 0:e.value))?["Not a valid number"]:null}function r(e){const t=/^(\+?265|0)(((8[89]|9[89])\d{7})|(1\d{6})|(2\d{8})|(31\d{8}))$/;return e&&e.value.match(t)?null:["Not a valid phone number"]}function s(e){const t=/^(?=[a-zA-Z0-9]*$)(?=\d+[a-zA-Z]|[a-zA-Z]+\d)([a-zA-Z\d]){8}$/;return Object(a["isEmpty"])(e)||!e.value.toString().match(t)?["Not a valid Malawi National ID number"]:null}function l(e){const t=/\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b/;return e&&e.value.match(t)?null:["Not a valid IP address"]}function d(e){const t=/^(?=.{2,100}$)[a-z!A-Z]+(?:['_.\-!\][a-z]+[a-z!A-Z])*$/;return e&&e.label.match(t)?null:["Invalid name Input"]}function u(e,t="ALL"){const n=Number(e.value);switch(t){case"POSITIVE_INTEGERS":return Number.isInteger(n)&&n>0?null:["Value must be a positive whole number"];case"NEGATIVE_INTEGERS":return Number.isInteger(n)&&n<0?null:["Value must be a negative whole number"];case"DECIMALS":return/^\d\.\d/.test(""+n)?null:["Value must be a decimal number"];default:return Number.isNaN(n)?["Value must be a number"]:null}}function m(e,t,n){const a=e?e.label.length:0;return a>=t&&a<=n?null:[`Value length not within range of ${t} - ${n}`]}function p(e,t,n){const a=parseInt(e.label);return a>=t&&a<=n?null:[`${a} not within range of ${t} - ${n}`]}function h(e){const t=e.filter(e=>{const t=e.value||e.other.value;return"No"===t});return t.length==e.length?["All values can not be no"]:null}function b(e){const t=["all must be selected"];if(!e)return t;const n=e.filter(e=>""===e.value);return n.length>0?t:null}function g(e,t){return e===t?["Values can not be the same"]:null}t["a"]={isFloatingPointNumber:i,validateSeries:c,required:o,isMWPhoneNumber:r,isName:d,isNumber:u,hasLengthRangeOf:m,rangeOf:p,neitherOr:h,anyEmpty:b,notTheSame:g,isIPAddress:l,isMWNationalID:s}},"276d":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n("74f4"),c=n("c1e4"),o=n("23e6"),i=n("89b4"),r=n("2ef0"),s=n("cc74"),l=n("5713"),d=n("9b7c");function u(){return(new i["a"]).cachingIsEnabled()}const m={CURRENT_LOCATION:{get:async()=>l["a"].getCurrentLocation(),canReloadCache:e=>!u()||Object(r["isEmpty"])(e.state)},ACTIVE_HOME_TAB:{get:()=>1,canReloadCache:e=>"number"!=typeof e.state},ACTIVE_HOME_SUB_TAB_NAME:{get:()=>"",canReloadCache:e=>"string"!=typeof e.state||""===e.state},ACTIVE_PATIENT:{get:async e=>{const t=await o["a"].findByID(e.patientID);return t?new o["a"](t):{}},canReloadCache:({state:e,params:t})=>!u()||!(!Object(r["isEmpty"])(e)&&"number"===typeof t.patientID&&"function"===typeof(null===e||void 0===e?void 0:e.getID)&&e.getID()===t.patientID)},PATIENT_PROGRAM:{get:async e=>new a["a"](e.patientID).getProgram(),canReloadCache:({state:e,params:t})=>!u()||!(!Object(r["isEmpty"])(e)&&(null===e||void 0===e?void 0:e.programID)===a["a"].getProgramID()&&e.patientID===t.patientID)},PROVIDERS:{get:()=>c["a"].getUsers(),canReloadCache:e=>!u()||Object(r["isEmpty"])(e.state)},SITE_PREFIX:{get:()=>s["c"].sitePrefix(),canReloadCache:e=>!u()||"string"!==typeof e.state},IS_MILITARY_SITE:{get:()=>s["c"].militarySiteEnabled(),canReloadCache:e=>!u()||"boolean"!=typeof e.state},IS_DDE_ENABLED:{get:()=>s["c"].ddeEnabled(),canReloadCache:e=>!u()||"boolean"!=typeof e.state},PATIENT_LAB_ORDERS:{get:e=>"number"===typeof e.patientID?d["a"].getOrders(e.patientID):[],canReloadCache:({params:e,state:t})=>!u()||!(e.patientID&&Array.isArray(t)&&t.length&&t[0].patient_id===e.patientID)},IS_MW_NATIONAL_ID_SCANNER_ENABLED:{get:()=>s["c"].malawiNationalIDScannerEnabled(),canReloadCache:e=>!u()||"boolean"!=typeof e.state}};t["a"]=m},"27e7":function(e,t,n){"use strict";n("de5e")},2845:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n("276d"),c=n("13ea"),o=n.n(c),i=n("1c74");class r{static getVisits(e){return i["e"].getJson("programs/1/reports/visits",{name:"visits",start_date:e.start,end_date:e.end})}static getMissedAppointments(e,t){return i["e"].getJson("missed_appointments",{date:e,start_date:t.start,end_date:t.end,program_id:1})}static getAppointmentsDue(e){return i["e"].getJson("programs/1/booked_appointments",{date:e})}static getPatientsDueForVL(e){return i["e"].getJson("programs/1/reports/vl_due",{start_date:e.start,endDate:e.end})}static getDefaulters(e,t){return i["e"].getJson("defaulter_list",{date:e,start_date:t.start,end_date:t.end,pepfar:"true",program_id:1})}static getPatientsOnDTG(e){return i["e"].getJson("programs/1/reports/patients_on_dtg",{start_date:e.start,end_date:e.end})}static getTXCurrent(e){return i["e"].getJson("programs/1/reports/tx_curr",{start_date:e.start,end_date:e.end})}}var s,l=n("9283");(function(e){e["PATIENT_ON_DTG"]="PATIENT_ON_DTG",e["PATIENT_VISITS"]="PATIENT_VISITS",e["APPOINTMENTS_DUE"]="APPOINTMENTS_DUE",e["MISSED_APPOINTMENTS"]="MISSED_APPOINTMENTS",e["TX_CURRENT_30"]="TX_CURRENT_30",e["TX_CURRENT_60"]="TX_CURRENT_60",e["DEFAULTERS"]="DEFAULTERS",e["DUE_FOR_VL"]="DUE_FOR_VL"})(s||(s={}));const d={[s.PATIENT_ON_DTG]:{get:async e=>r.getPatientsOnDTG(e.quarter),canReloadCache:e=>!Object(a["b"])()||e.params.reload||o()(e.state)},[s.PATIENT_VISITS]:{get:async e=>r.getVisits(e.quarter),canReloadCache:e=>!Object(a["b"])()||e.params.reload||o()(e.state)},[s.APPOINTMENTS_DUE]:{get:async e=>r.getAppointmentsDue(e.date),canReloadCache:e=>!Object(a["b"])()||e.params.reload||o()(e.state)},[s.MISSED_APPOINTMENTS]:{get:async({date:e,quarter:t})=>r.getMissedAppointments(e,t),canReloadCache:e=>!Object(a["b"])()||e.params.reload||o()(e.state)},[s.TX_CURRENT_30]:{get:async({quarter:e})=>{const t=l["c"].subtract(e.end,"days",30).format(l["b"]);return r.getTXCurrent({start:t,end:e.end})},canReloadCache:e=>!Object(a["b"])()||e.params.reload||o()(e.state)},[s.TX_CURRENT_60]:{get:async({quarter:e})=>{const t=l["c"].subtract(e.end,"days",60).format(l["b"]);return r.getTXCurrent({start:t,end:e.end})},canReloadCache:e=>!Object(a["b"])()||e.params.reload||o()(e.state)},[s.DEFAULTERS]:{get:async({today:e,quarter:t})=>r.getDefaulters(e,t),canReloadCache:e=>!Object(a["b"])()||e.params.reload||o()(e.state)},[s.DUE_FOR_VL]:{get:async e=>r.getPatientsDueForVL(e.quarter),canReloadCache:e=>!Object(a["b"])()||e.params.reload||o()(e.state)}}},2989:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("cc6f"),c=n("b89f");class o extends a["a"]{constructor(e,t){super(e,84,t)}printSocialHistory(){return(new c["a"]).printLbl(`/programs/${this.programID}/patients/${this.patientID}/labels/history`)}}},"2b3a":function(e,t,n){"use strict";var a=n("7a23");function c(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("ion-title"),s=Object(a["resolveComponent"])("ion-label"),l=Object(a["resolveComponent"])("ion-toolbar"),d=Object(a["resolveComponent"])("ion-header"),u=Object(a["resolveComponent"])("application-card"),m=Object(a["resolveComponent"])("ion-col"),p=Object(a["resolveComponent"])("ion-row"),h=Object(a["resolveComponent"])("ion-content"),b=Object(a["resolveComponent"])("ion-button"),g=Object(a["resolveComponent"])("ion-footer");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(r,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("Select Module")]),_:1}),Object(a["createVNode"])(s,{style:{"font-weight":"bold",padding:"0.5em"},slot:"end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Version: "+Object(a["toDisplayString"])(e.appVersion),1)]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.apps,(t,n)=>(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:n,"size-md":"4","size-sm":"12"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{class:Object(a["normalizeClass"])({inactive:!t.hasPriviledge,clickable:t.hasPriviledge}),onClick:n=>e.setApplication(t),name:t.applicationName,version:t.version,releaseDate:t.versionReleaseDate,details:t.applicationDescription,programID:t.programID,iconURL:e.img(t.applicationIcon)},null,8,["class","onClick","name","version","releaseDate","details","programID","iconURL"])]),_:2},1024))),128))]),_:1})]),_:1}),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])(()=>[e.noAppPriviledges||e.canClose?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,color:"danger",size:"large",onClick:e.closeModal},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Close ")]),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1})],64)}n("14d9");const o={class:"his-md-text"};function i(e,t,n,c,i,r){const s=Object(a["resolveComponent"])("ion-img"),l=Object(a["resolveComponent"])("ion-card-title"),d=Object(a["resolveComponent"])("ion-card-header"),u=Object(a["resolveComponent"])("ion-card-content"),m=Object(a["resolveComponent"])("center"),p=Object(a["resolveComponent"])("ion-card");return Object(a["openBlock"])(),Object(a["createBlock"])(p,{class:"his-card"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{src:e.iconURL},null,8,["src"]),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.name),1)]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("b",o,Object(a["toDisplayString"])(e.details),1)]),_:1})]),_:1})]),_:1})}var r=n("d867"),s=Object(a["defineComponent"])({props:["name","details","programID","iconURL"],components:{IonCard:r["IonCard"],IonCardContent:r["IonCardContent"],IonCardTitle:r["IonCardTitle"],IonCardHeader:r["IonCardHeader"],IonImg:r["IonImg"]}}),l=(n("1bb3"),n("6b0d")),d=n.n(l);const u=d()(s,[["render",i],["__scopeId","data-v-1e3d0694"]]);var m=u,p=n("1718"),h=Object(a["defineComponent"])({name:"Modal",props:{title:{type:String,default:""},apps:{type:Array,default:()=>[]},appVersion:{type:String},canClose:{type:Boolean,default:()=>!1},isPocSite:{type:Boolean,default:!0}},computed:{noAppPriviledges(){return this.apps.every(e=>!e.hasPriviledge)}},methods:{closeModal(){this.noAppPriviledges?this.$router.push("/login"):r["modalController"].dismiss()},img(e){return Object(p["a"])(e)},setApplication(e){e.hasPriviledge&&r["modalController"].dismiss(e)}},components:{IonFooter:r["IonFooter"],IonContent:r["IonContent"],IonHeader:r["IonHeader"],IonTitle:r["IonTitle"],IonToolbar:r["IonToolbar"],ApplicationCard:m,IonButton:r["IonButton"],IonCol:r["IonCol"],IonRow:r["IonRow"]}});n("6b8f");const b=d()(h,[["render",c],["__scopeId","data-v-5e20b51e"]]);t["a"]=b},"2ed9":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return p}));var a,c,o,i,r,s=n("f8e7"),l=n("2ef0"),d=n("7a23");(function(e){e["ACTIVE_PLOFILE"]="active_profile",e["PLATFORM_PROFILES"]="platformProfiles"})(a||(a={})),function(e){e["WEB"]="WEB",e["FILE_SYSTEM"]="FILE_SYSTEM"}(c||(c={})),function(e){e["BARCODE_SCANNER"]="BARCODE_SCANNER",e["CAMERA_SCANNER"]="CAMERA_SCANNER"}(o||(o={})),function(e){e["WEB"]="WEB",e["BLUETOOTH"]="BLUETOOTH"}(i||(i={})),function(e){e["HIS_KEYBOARD_ONLY"]="HIS_KEYBOARD_ONLY",e["NATIVE_AND_HIS_KEYBOARD"]="NATIVE_AND_HIS_KEYBOARD"}(r||(r={}));const u={Desktop:{profileName:"Desktop",fileExport:c.WEB,scanner:o.BARCODE_SCANNER,printer:i.WEB,keyboard:r.NATIVE_AND_HIS_KEYBOARD},Mobile:{profileName:"Mobile",fileExport:c.FILE_SYSTEM,scanner:o.CAMERA_SCANNER,printer:i.BLUETOOTH,keyboard:r.HIS_KEYBOARD_ONLY}},m=Object(d["ref"])(u["Desktop"]);function p(){const e=Object(d["ref"])({}),t=localStorage.getItem(a.ACTIVE_PLOFILE),n=localStorage.getItem(a.PLATFORM_PROFILES);return e.value="string"===typeof n?JSON.parse(n):u,"string"===typeof t&&(""+t).match(/\{.*\}/)?m.value=JSON.parse(t):Object(l["isEmpty"])(e.value)||(Object(s["a"])("mobile")&&"Mobile"in e.value?m.value=e.value["Mobile"]:Object(s["a"])("desktop")&&"Desktop"in e.value&&(m.value=e.value["Desktop"])),Object(d["watch"])(()=>m.value,e=>{localStorage.setItem(a.ACTIVE_PLOFILE,JSON.stringify(e))}),{activePlatformProfile:m,platformProfiles:e}}},"2fdd":function(e,t,n){},"31ad":function(e,t,n){},"3b46":function(e,t,n){"use strict";n("0907")},"3b8c":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("cc6f"),c=n("7957"),o=n("5a0c"),i=n.n(o),r=n("2ef0");class s extends a["a"]{constructor(e,t){super(e,53,t)}getFamilyPlanningMethods(){return["ORAL CONTRACEPTIVE PILLS","DEPO-PROVERA","INTRAUTERINE CONTRACEPTION","CONTRACEPTIVE IMPLANT","MALE CONDOMS","FEMALE CONDOMS","TUBAL LIGATION","NONE"]}async getTptTreatmentStatus(){return a["a"].getJson(`/patients/${this.patientID}/tpt_status`)}async patientHitMenopause(){const e=await c["a"].getFirstObs(this.patientID,"Why does the woman not use birth control");return!(!e||"string"!==typeof(null===e||void 0===e?void 0:e.value_text))&&(!!e.value_text.match(/menopause/i)&&a["a"].obsInValidPeriod(e))}async hasTreatmentHistoryObs(){const e=await c["a"].getFirstObs(this.patientID,"Previous TB treatment history");return e&&a["a"].obsInValidPeriod(e)}getDrugSideEffects(){return a["a"].getJson(`programs/${a["a"].getProgramID()}/patients/${this.patientID}/medication_side_effects`,{date:this.date})}getClient(){return a["a"].getFirstValueCoded(this.patientID,"Patient present")}async clientLastScreened(){const e=await a["a"].getJson("last_cxca_screening_details",{id:this.patientID,date:this.date});return!Object(r["isEmpty"])(e)}async clientDueForCxCa(){const e=await a["a"].getJson("last_cxca_screening_details",{id:this.patientID,date:this.date});if(!Object(r["isEmpty"])(e)){const t=e["date_screened"],n=i()(this.date).diff(t,"years");return n>=1}return!0}async clientHasHadAHysterectomy(){const e=await a["a"].getFirstValueCoded(this.patientID,"Reason for NOT offering CxCa");if("Hysterectomy"===e)return!0;const t=await a["a"].getFirstValueText(this.patientID,"Treatment");return"Hysterectomy"===t}async getTLObs(){const e=e=>e&&"Tubal ligation"===e.value_coded&&a["a"].obsInValidPeriod(e),t=await a["a"].getFirstObs(this.patientID,"Family planning");if(e(t))return e(t);{const t=await a["a"].getFirstObs(this.patientID,"Method of family planning");return e(t)}}async getPreviousDrugs(){const e=await a["a"].getJson(`patients/${this.patientID}/drugs_received`);if(!e)return;const t={};return e.forEach(e=>{t[e.drug_inventory_id]=e}),t}familyPlanningMethods(e,t){const n={"ORAL CONTRACEPTIVE PILLS":{"DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"DEPO-PROVERA":{"ORAL CONTRACEPTIVE PILLS":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"INTRAUTERINE CONTRACEPTION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"CONTRACEPTIVE IMPLANT":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"MALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"FEMALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","MALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"RYTHM METHOD":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","CONTRACEPTIVE IMPLANT":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"TUBAL LIGATION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N",VASECTOMY:"N"},VASECTOMY:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N"},NONE:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N","TUBAL LIGATION":"N"}},a=n[e];return t.map(e=>"N"===a[e.label]?{label:e.label,value:e.value,isChecked:!1,disabled:!0}:{label:e.label,value:e.value,isChecked:e.isChecked,disabled:!1})}}},"3d6c":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("1c74");const c=[{drugID:105,shortName:"Acyclovir 200mg",fullName:"Acyclovir 200mg",packSizes:[30]},{drugID:1044,shortName:"ABC 120 /3TC 60mg",fullName:"Abacavir and Lamivudine 120mg pack of 60 tablets",packSizes:[60],categories:["p"]},{drugID:969,shortName:"ABC 600 / 3TC 300mg",fullName:"Abacavir sulfate 600mg / Lamivudine 300mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:932,shortName:"ATV 300 / r 100mg",fullName:"Atazanavir / Ritonavir 300 / 100mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:39,shortName:"AZT 300 /3TC 150mg",fullName:"Zidovudine / lamivudine 300 / 150mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:731,shortName:"AZT 300 / 3TC 150 / NVP 200mg",fullName:"Zidovudine / lamivudine /Nevirapine 300 / 150 / 200mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:732,shortName:"AZT 60 / 3TC 30 / NVP 50mg",fullName:"Zidovudine / lamivudine /Nevirapine 60 / 30 / 50mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:736,shortName:"AZT 60 / 3TC 30mg",fullName:"Zidovudine / lamivudine 60 / 30mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:963,shortName:"CPT 120mg",fullName:"Cotrimoxazole 120mg, blister pack of 1000 dispersible tablets",packSizes:[1e3],categories:["p"]},{drugID:297,shortName:"CPT 480mg",fullName:"Cotrimoxazole 480mg, tin of 1000 tablets",packSizes:[1e3],categories:["a"]},{drugID:576,shortName:"CPT 960mg",fullName:"Cotrimoxazole 960mg, blister pack of 1000 tablets",packSizes:[1e3],categories:["a"]},{drugID:976,shortName:"DRV 600mg",fullName:"Darunavir 600mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:980,shortName:"DTG 10mg",fullName:"Dolutegravir 10mg pack of 90 tablets",packSizes:[90]},{drugID:982,shortName:"DTG 50mg",fullName:"Dolutegravir 50mg pack of 30 tablets",packSizes:[30],categories:["a"]},{drugID:30,shortName:"EFV 200mg",fullName:"Efavirenz 200mg, tin of 90 tablets",packSizes:[90],categories:["p"]},{drugID:11,shortName:"EFV 600mg",fullName:"Efavirenz 600mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:978,shortName:"ETV 100mg",fullName:"Etravirine 100mg, tin of 120 tablets",packSizes:[120],categories:["a"]},{drugID:24,shortName:"Isoniazid 100mg",fullName:"Isoniazid (H) 100mg, blist packs of 100 tablets",packSizes:[100],categories:["p"]},{drugID:991,shortName:"Isoniazid 300mg",fullName:"Isoniazid (H) 300mg, blist packs of 1000 tablets",packSizes:[1e3,672]},{drugID:74,shortName:"LPV 100 / r 25mg",fullName:"Lopinavir / Ritonavir 100 / 25mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:73,shortName:"LPV 200 / r 50mg",fullName:"Lopinavir / Ritonavir 200 / 50mg, tin of 120 tablets",packSizes:[120],categories:["a"]},{drugID:1045,shortName:"LPV 40 / r 10mg granules",fullName:"Lopinavir/Ritonavir(LPV/r ), 40/10mg granules, pack of 120 sachets",packSizes:[120]},{drugID:979,shortName:"LPV 40 / r 10mg pellets",fullName:"Lopinavir/Ritonavir(LPV/r ), 40/10mg granules, pack of 120 pellets",packSizes:[120],categories:["p"]},{drugID:22,shortName:"NVP 200mg",fullName:"Nevirapine 200mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:968,shortName:"NVP 50mg",fullName:"Nevirapine 50mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:1039,shortName:"Pyridoxine 25mg",fullName:"Pyridoxine (25mg)",packSizes:[1e3],categories:["a"]},{drugID:977,shortName:"r 100mg",fullName:"Ritonavir 100mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:1043,shortName:"RAL 25mg",fullName:"Raltegravir 25mg pack of 60 tablets",packSizes:[60],categories:["p"]},{drugID:954,shortName:"RAL 400mg",fullName:"Raltegravir 400mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:1056,shortName:"Rifapentine 150mg",fullName:"Rifapentine 150mg pack of 24 tablets",packSizes:[24],categories:["a"]},{drugID:734,shortName:"TDF 300 / 3TC 300mg ",fullName:"Lamivudine / Tenofovir disoproxil fumarate 300 / 300mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:735,shortName:"TDF 300 / 3TC 300 / EFV 600mg",fullName:"Tenofovir disoproxil fumarate / Lamivudine / Efavirenz 300 / 300 / 600mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:983,shortName:"TDF 300 / 3TC 300 / DTG 50mg",fullName:"Tenofovir Disoproxil Fumarate/Lamivudine/Dolutegravir (TDF/3TC /DTG), 300/300/50mg, pack of 90 tablets",packSizes:[90],categories:["a"]}];class o extends a["e"]{constructor(){super()}batchUpdate(e){return a["e"].postJson("/pharmacy/items/batch_update",e)}postItems(e){return a["e"].postJson("/pharmacy/batches",e)}getItems(){return a["e"].getJson("pharmacy/items",{paginate:!1})}getItem(e){return a["e"].getJson("pharmacy/items",{drug_id:e})}updateItem(e,t){return a["e"].putJson("pharmacy/items/"+e,t)}relocateItems(e,t){return a["e"].postJson(`pharmacy/items/${e}/reallocate`,t)}disposeItems(e,t){return a["e"].postJson(`pharmacy/items/${e}/dispose`,t)}getConsumptionRate(e){return a["e"].getJson("pharmacy/drug_consumption",{drug_id:e})}drugList(){return c}static getShortName(e){const t=c.filter(t=>t.drugID===e);return t.length>0?t[0].shortName:""}static getPackSize(e){const t=c.filter(t=>t.drugID===e);return t.length>0?t[0].packSizes[0]:30}static getPaedeatricDrugs(){return console.log(c.filter(e=>{var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("p")})),c.filter(e=>{var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("p")})}static getAdultDrugs(){return c.filter(e=>{var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("a")})}static getPackSizes(e){var t;return(null===(t=c.find(t=>t.drugID===e))||void 0===t?void 0:t.packSizes)||[]}}},"3e53":function(e,t,n){"use strict";var a=n("f768"),c=n("2b3a"),o=n("d867"),i=n("2ef0"),r=(n("14d9"),n("4db7")),s=n("c1e4"),l=n("cc74"),d=n("7a23");const u=["innerHTML"];function m(e,t,n,a,c,o){const i=Object(d["resolveComponent"])("ion-title"),r=Object(d["resolveComponent"])("ion-toolbar"),s=Object(d["resolveComponent"])("ion-header"),l=Object(d["resolveComponent"])("text-skeleton"),m=Object(d["resolveComponent"])("ion-label"),p=Object(d["resolveComponent"])("ion-item"),h=Object(d["resolveComponent"])("ion-list"),b=Object(d["resolveComponent"])("ion-content"),g=Object(d["resolveComponent"])("ion-button"),_=Object(d["resolveComponent"])("ion-footer"),f=Object(d["resolveComponent"])("ion-page");return Object(d["openBlock"])(),Object(d["createBlock"])(f,null,{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(s,null,{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(r,null,{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(i,{class:"his-lg-text"},{default:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(e.dialogTitle),1)]),_:1})]),_:1})]),_:1}),Object(d["createVNode"])(b,null,{default:Object(d["withCtx"])(()=>[e.isLoading?(Object(d["openBlock"])(),Object(d["createBlock"])(l,{key:0,itemCount:5})):Object(d["createCommentVNode"])("",!0),e.isLoading?Object(d["createCommentVNode"])("",!0):(Object(d["openBlock"])(),Object(d["createBlock"])(h,{key:1},{default:Object(d["withCtx"])(()=>[(Object(d["openBlock"])(!0),Object(d["createElementBlock"])(d["Fragment"],null,Object(d["renderList"])(e.items,(e,t)=>(Object(d["openBlock"])(),Object(d["createBlock"])(p,{class:"his-md-text",key:t},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(m,null,{default:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(e.label),1)]),_:2},1024),Object(d["createElementVNode"])("b",{style:Object(d["normalizeStyle"])({backgroundColor:e.color||"",padding:"0.4em"}),innerHTML:e.value},null,12,u)]),_:2},1024))),128))]),_:1}))]),_:1}),Object(d["createVNode"])(_,null,{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(r,null,{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(g,{disabled:e.isLoading,onClick:e.updateData,color:"success",size:"large",slot:"end"},{default:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" Refresh ")]),_:1},8,["disabled","onClick"]),Object(d["createVNode"])(g,{disabled:e.isLoading,onClick:e.onClose,size:"large",slot:"end"},{default:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" Close ")]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1})}var p=n("b5e4"),h=n("ded6"),b=Object(d["defineComponent"])({setup:e=>{const t=Object(d["ref"])(e.title),n=Object(d["ref"])(!1),a=Object(d["ref"])([]);async function c(){if(n.value=!0,"function"===typeof e.loadData)try{a.value=await e.loadData(t)}catch(c){Object(p["c"])(""+c)}n.value=!1}return Object(d["onMounted"])(()=>{c()}),{items:a,dialogTitle:t,isLoading:n,updateData:c}},props:{title:{type:String,default:""},loadData:{type:Function,required:!0},onClose:{type:Function,required:!0}},components:{TextSkeleton:h["a"],IonPage:o["IonPage"],IonTitle:o["IonTitle"],IonHeader:o["IonHeader"],IonContent:o["IonContent"],IonFooter:o["IonFooter"],IonToolbar:o["IonToolbar"],IonButton:o["IonButton"],IonItem:o["IonItem"],IonList:o["IonList"]}}),g=n("6b0d"),_=n.n(g);const f=_()(b,[["render",m]]);var k,O=f,v=n("fa73"),y=n("5a0c"),I=n.n(y),E=n("8734"),T=n("2ed9"),j=n("276d"),N={GlobalStore:j["a"],GlobalAppSettings:[{name:"Session Management",icon:"time.png",pathUrl:"/session/date",files:[]},{name:"Portal Settings",icon:"portal.png",condition:()=>s["a"].isAdmin(),pathUrl:"/portal/config",files:[]},{name:"Network",icon:"portal.png",condition:()=>s["a"].isAdmin(),pathUrl:"/settings/host",files:[]},{name:"Printer Settings",icon:"printer-settings.png",pathUrl:"/settings/printer",condition:()=>s["a"].isAdmin()&&Object(T["e"])().activePlatformProfile.value.printer===T["c"].BLUETOOTH,files:[]},{name:"Location",icon:"location.png",files:[{name:"Print Location",pathUrl:"/print/location"},{name:"Set Site Location",condition:()=>s["a"].isAdmin(),pathUrl:"/location/update/site"},{name:"Set Site Code",condition:()=>s["a"].isAdmin(),pathUrl:"/location/update/code"}]},{name:"User management",icon:"edit-user.png",files:[{name:"Password policy",pathUrl:"/password_policy",condition:()=>s["a"].isAdmin()},{name:"New user",condition:()=>s["a"].isAdmin(),pathUrl:"/user?activity=add"},{name:"Edit Users",condition:()=>s["a"].isAdmin(),pathUrl:"/user?activity=edit"},{name:"Change Password",pathUrl:"/user?activity=edit&update_password=true"},{name:"System usage report",pathUrl:"/users/usage",condition:()=>s["a"].isAdmin()},{name:"User screen timeout",pathUrl:"/settings/screen_timeout",condition:()=>s["a"].isAdmin()},{name:"Manage ART User Activities",pathUrl:"/art/user_activity_settings",condition:()=>{var e;return s["a"].isAdmin()&&"ART"===(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}}]},{name:"Data Management",icon:"list.png",condition:()=>s["a"].isAdmin(),files:[{name:"View Duplicates",pathUrl:"/view_duplicates"},{name:"Multiple identifiers",pathUrl:"/multiple_identifiers"},{name:"Manage Drug Sets",pathUrl:"/anc/drugset",condition:()=>{var e;return!!M.getActiveApp()&&"ANC"===(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Data Cleaning",pathUrl:"/anc/datacleaning",condition:()=>{var e;return!!M.getActiveApp()&&"ANC"===(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Data Cleaning",pathUrl:"/data_cleaning",condition:()=>{var e;return!!M.getActiveApp()&&"ART"===(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Merge patients",pathUrl:"/patients/merge",condition:()=>{var e;return!!M.getActiveApp()&&"ART"===(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Patient visit stats",pathUrl:"/art/patient_visits",condition:()=>{var e;return!!M.getActiveApp()&&"ART"===(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Data cleaning verification",pathUrl:"/art/data_cleaning_verification",condition:()=>{var e;return!!M.getActiveApp()&&"ART"===(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}}]},{name:"DDE Settings",icon:"programs.png",condition:()=>s["a"].isAdmin(),files:[{name:"DDE Activation",pathUrl:"/preferences?label=Activate DDE&property="+l["a"].DDE_ENABLED},{name:"DDE NPID Status",action:async()=>{(await o["modalController"].create({component:O,backdropDismiss:!1,componentProps:{title:"DDE NPID Status",loadData:async e=>{await Object(E["a"])(400);const t=await v["a"].getRemainingNpids();if(t){const n=t["npid_status"][0],a=n["location_id"],c=n["avg_consumption_rate_per_day"]||1,o=n["unassigned"],i=n["assigned"],r=Math.floor(o/c),s=I()(n["date_last_updated"]).format("DD/MMM/YYYY HH:mm:ss");return e.value=n["location_name"]+" DDE NPID Status",[{label:"Location ID",value:a},{label:"Estimated days left",value:r,color:(()=>{let e="";return r<=30&&(e="#FFFF00"),r<=20&&(e="#FFA500"),r<=15&&(e="#ff0000"),e})()},{label:"Unassigned",value:o},{label:"Assigned",value:i},{label:"Average consumption per day",value:c},{label:"Last update",value:s}]}return[]},onClose:()=>o["modalController"].dismiss()}})).present()}}]},{name:"Malawi National ID Settings",icon:"card.png",condition:()=>s["a"].isAdmin(),files:[{name:"Malawi National ID Scanner Activation",pathUrl:"/preferences?label=Activate Scanning of Malawi National ID&property="+l["a"].MALAWI_NATIONAL_ID_SCANNER_ENABLED}]}],GlobalProgramActivities:[{id:"npid",name:"National Health ID (Print)",description:"Print Patient National Health ID",action({patient:e}){return new r["a"](e.patient_id).printNidLbl()},icon:"barcode.svg"},{id:"lab activities",name:"Lab activities",description:"Do lab orders",icon:"lab.png",condition:()=>{var e;return"RADIOLOGY"!==(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}},{id:"demographics",name:"Demographics (Print)",description:"Print Patient Demographics",action:({patient:e})=>{const t=new r["a"](e.patient_id);return t.printDemographicsLbl()},icon:"print.png",condition:()=>{var e;return"CxCa"!==(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}},{id:"demographics_edit",name:"Demographics (Edit)",description:"Edit Patient Demographics",action:({patient:e},t)=>{t.push({path:"/patient/registration",query:{edit_person:e.patient_id}})},icon:"print.png"},{id:"guardian_edit",name:"Edit Guardians",description:"Edit guardian information",action:({patient:e},t)=>{t.push({path:"/guardian/registration/"+e.patient_id,query:{edit_guardian:!0}})},icon:"print.png"},{id:"change_session_Date",name:"Change session date",action:({patient:e},t)=>{t.push({path:"/session/date",query:{patient_id:e.patient_id}})},description:"Change session date (for retrospective entry)",icon:"time.png"},{id:"program_management",name:"Program(s)",description:"View / update patient's programs",action:({patient:e},t)=>{t.push({path:"/patient/programs/"+e.patient_id})},icon:"programs.png"},{id:"visit_summary",name:"Visit Summary (Print)",description:"Print Patient Visit Summary",action({patient:e,visitDate:t}){const n=new r["a"](e.patient_id);return n.printVisitSummaryLbl(t)},icon:"folder.png",condition:()=>{var e;return"CxCa"!==(null===(e=M.getActiveApp())||void 0===e?void 0:e.applicationName)}},{id:"enter_lab_result",name:"Enter Lab Result",description:"Enter Lab Test Result",action:({patient:e},t)=>{t.push({path:"/lab/results/"+e.patient_id})},icon:"enter.png"}]},C=n("7c5c"),D=n("1c74"),w=n("0fa1");function S(e){const t={...e};return t.secondaryPatientActivites=[...N.GlobalProgramActivities,...t.secondaryPatientActivites],t.appStore={...N.GlobalStore,...t.appStore||{}},t.globalPropertySettings=[...N.GlobalAppSettings,...t.globalPropertySettings||[]],t}async function A(e){try{const t=await fetch(`/ReleaseNotes/${e}.md`),n=await t.text();if(t.ok)return/doctype html/i.test(""+n)?"<h1>No release notes found!</h1>":Object(C["marked"])(n)}catch(t){console.error(t)}}function P(){const e=sessionStorage.getItem(k.APPLICATION_NAME);if(e){const t=Object(i["find"])(a["b"],{applicationName:e});if(t)return S(t)}}function R(){const e=P();e&&sessionStorage.setItem(k.SUSPENDED_APP,e.applicationName)}async function V(e,t="",n=!1){sessionStorage.setItem(k.APPLICATION_NAME,e.applicationName);const a=S(e);return"function"!==typeof e.init||n||await e.init(t),a}function x(){const e=sessionStorage.getItem(k.SUSPENDED_APP);if(e){const t=Object(i["find"])(a["b"],{applicationName:e});t&&(sessionStorage.removeItem(k.SUSPENDED_APP),V(t,"",!0))}}async function F(e,t,n,c){const o=Object(i["find"])(a["b"],{applicationName:e});o&&(R(),await V(o),"function"===typeof c&&await c(),Object(w["b"])(t,n))}async function L(e="",t=!1){const n=D["e"].getDefaultApp();if(n)return V(n,e);const a=await o["modalController"].create({component:c["a"],cssClass:"large-modal",backdropDismiss:!1,componentProps:{appVersion:D["e"].getFullVersion(),apps:D["e"].getAvailableApps(),canClose:t}});a.present();const{data:r}=await a.onDidDismiss();return r&&!Object(i["isEmpty"])(r)?(sessionStorage.getItem(k.SUSPENDED_APP)&&sessionStorage.removeItem(k.SUSPENDED_APP),V(r,e)):void 0}async function B(){const e=sessionStorage.getItem(k.SUSPENDED_APP);if(e){const t=await Object(p["a"])("Do you want to resume "+e+" application?");if(t)return x()}}(function(e){e["SUSPENDED_APP"]="suspendedApp",e["APPLICATION_NAME"]="applicationName"})(k||(k={}));var M=t["a"]={doAppManagementTasks:B,resumeSuspendedApp:x,startApplication:V,switchAppWorkflow:F,selectApplication:L,getReleaseNotes:A,getActiveApp:P}},"3f31":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("7a23"),c=n("5b6e"),o=n("b5e4"),i=n("1c74");const r=Object(a["ref"])([]),s=Object(a["ref"])(i["e"].getActiveApp());function l(){const e=Object(a["computed"])(()=>r.value.filter(e=>!e.read)),t=Object(a["computed"])(()=>r.value.length>0),n=Object(a["computed"])(()=>e.value.length>0),i=Object(a["computed"])(()=>e.value.length),l=Object(a["computed"])(()=>r.value.sort((e,t)=>new Date(e.date)>new Date(t.date)?-1:1));function d(e){Object(o["a"])("Are you sure you want to clear notification?").then(t=>{t&&c["a"].clear(e).then(()=>{r.value=r.value.filter(t=>t.id!=e),u(s.value)}).catch(e=>{console.error(e),Object(o["e"])("Unable to clear notification")})})}async function u(e){s.value=e,"function"===typeof e.downloadAppNotifications?(r.value=await e.downloadAppNotifications()||[],r.value.length&&Object(o["e"])(`You have ${r.value.length} unread notification(s)`)):r.value=[]}async function m(e){c["a"].read([e.id]).then(()=>e.read=!0)}function p(e){"function"===typeof e.handler&&(m(e),e.handler())}return{markAsRead:m,openNotification:p,loadNotifications:u,clearNotification:d,sortedNotifications:l,hasUnreadNotifications:n,notificationCount:i,hasNotifications:t,notificationData:r}}},"48da":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ade3"),c=n("1c74"),o=n("9283");class i extends c["e"]{constructor(){super(),Object(a["a"])(this,"programID",void 0),Object(a["a"])(this,"startDate",void 0),Object(a["a"])(this,"endDate",void 0),Object(a["a"])(this,"date",void 0),this.endDate="",this.startDate="",this.date=c["e"].getSessionDate(),this.programID=c["e"].getProgramID()}getReportPeriod(){return this.startDate&&this.endDate?`${o["c"].toStandardHisDisplayFormat(this.startDate)} - ${o["c"].toStandardHisDisplayFormat(this.endDate)}`:"-"}getReport(e,t={}){return c["e"].getJson(`programs/${this.programID}/reports/${e}`,this.buildRequest(t))}buildRequest(e={}){const t={date:this.date,program_id:this.programID};return this.startDate&&this.endDate&&(t["start_date"]=this.startDate,t["end_date"]=this.endDate),{...t,...e}}getDiagnosisReport(){return this.getReport("diagnosis")}getAttendance(){return this.getReport("attendance")}getOutcomesReport(){return new Promise(e=>e([]))}}},"49a2":function(e,t,n){},"4cf3":function(e,t,n){"use strict";n("1afa")},"4db7":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ade3"),c=n("b89f"),o=n("bef6");class i extends c["a"]{constructor(e){super(),Object(a["a"])(this,"patient",void 0),Object(a["a"])(this,"baseUrl",void 0),Object(a["a"])(this,"useQrPrinting",void 0),this.patient=e,this.baseUrl=`patients/${this.patient}/labels/`,this.useQrPrinting=["RADIOLOGY","Registration"].includes(c["a"].getProgramName())}getLblUrl(e,t={}){const n=o["a"].parameterizeObjToString(t);return`${this.baseUrl}${e}${n?"?"+n:""}`}printPatientLbl(e,t={}){return this.printLbl(this.getLblUrl(e,t))}printFilingNumberLbl(){return this.printPatientLbl("filing_number")}printNidLbl(e=this.useQrPrinting){return this.printPatientLbl("national_health_id?qr_code="+e)}printVisitSummaryLbl(e=c["a"].getSessionDate()){const t=`programs/${c["a"].getProgramID()}/${this.baseUrl}/visits?date=${e}`;return this.printLbl(t)}printDemographicsLbl(){const e=`programs/${c["a"].getProgramID()}/${this.baseUrl}/patient_history`;return this.printLbl(e)}printTransferOutLbl(){return this.printPatientLbl("transfer_out")}printLabOrderLbl(e){return this.printLbl("lab/labels/order?order_id="+e)}}},5085:function(e,t,n){"use strict";n("31ad")},"50e7":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1c74");class c extends a["e"]{constructor(){super()}static nextTask(e){return super.getJson(`/workflows/${super.getProgramID()}/${e}`,{date:super.getSessionDate()})}static async getNextTaskParams(e,t=""){let n=t;try{if(!n){const{name:t}=await c.nextTask(e);n=t}}catch(a){n=""}return{name:n.toLowerCase(),params:{patient_id:e}}}}},"55ff":function(e,t,n){"use strict";n("f085")},5713:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("1c74"),c=n("8158");class o extends a["e"]{constructor(){super()}static async getInternalSections(){const e=await super.getJson("internal_sections");return e.map(e=>({value:e.id,label:(""+(null===e||void 0===e?void 0:e.name)).toUpperCase(),other:e}))}static createInternalSection(e){return super.postJson("internal_sections",{name:e})}static getCurrentLocation(){return this.getJson("/locations/current_facility")}static getLocation(e){return this.getJson("locations/"+e)}static createAddress(e,t,n){return this.postJson("addresses",{address_type:e,addresses_name:t,parent_location:n})}static getLabs(e={}){return super.getJson(`/programs/${a["e"].getProgramID()}/lab_tests/labs`,e)}static getFacilities(e={}){return super.getJson("/locations",e)}static async getSpecialistClinics(){const e=await c["a"].getConceptID("Specialist clinic");return super.getJson("/concept_set",{id:e})}static getRegions(){return super.getJson("/regions")}static getDistricts(e){return super.getJson("/districts",{region_id:e,page_size:1e3})}static getDistrictByID(e){return super.getJson("/districts",{district_id:e})}static getVillages(e,t=""){return super.getJson("/villages",{traditional_authority_id:e,name:t})}static getVillage(e){return super.getJson("/villages",{village_id:e})}static getVillagesByName(e="",t=1){return super.getJson("/villages",{name:e,page:t})}static getTraditionalAuthorities(e,t=""){return super.getJson("/traditional_authorities",{district_id:e,name:t})}static getTraditionalAuthorityById(e){return super.getJson("/traditional_authorities",{traditional_authority_id:e})}}},5969:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("ade3"),c=(n("14d9"),n("1c74")),o=n("9283"),i=n("bef6"),r=n("5a0c"),s=n.n(r);class l extends c["e"]{constructor(){super(),Object(a["a"])(this,"programID",void 0),Object(a["a"])(this,"startDate",void 0),Object(a["a"])(this,"endDate",void 0),Object(a["a"])(this,"date",void 0),Object(a["a"])(this,"quarter",void 0),Object(a["a"])(this,"occupation",void 0),this.occupation="",this.endDate="",this.startDate="",this.quarter="",this.date=c["e"].getSessionDate(),this.programID=c["e"].getProgramID()}getDateIntervalPeriod(){return`${o["c"].toStandardHisDisplayFormat(this.startDate)} - ${o["c"].toStandardHisDisplayFormat(this.endDate)}`}setStartDate(e){this.startDate=e}setEndDate(e){this.endDate=e}setQuarter(e){this.quarter=e}setOccupation(e){this.occupation=e}getClinicElectronicAlerts(){return this.getReport("programs/1/reports/lims_electronic_results")}getReport(e,t={}){return c["e"].getJson(e,this.buildRequest(t))}getMaternalStatus(e,t="pepfar"){const n=i["a"].parameterizeObjToString(this.buildRequest({report_definition:t}));return c["e"].postJson("vl_maternal_status?"+n,{patient_ids:e})}buildRequest(e={}){const t={date:this.date,program_id:this.programID};return this.occupation&&(t["occupation"]=this.occupation),this.startDate&&this.endDate&&(t["start_date"]=this.startDate,t["end_date"]=this.endDate),this.quarter&&(t["quarter"]=this.quarter),{...t,...e}}static getQuarterBounds(e){const t=t=>s()(`${e}-${t}-01`).daysInMonth(),n=t=>`${e}-${t}-01 00:00`,a=n=>`${e}-${n}-${t(n)} 00:00`;return{Q1:{qtr:1,start:n("01"),end:a("03")},Q2:{qtr:2,start:n("04"),end:a("06")},Q3:{qtr:3,start:n("07"),end:a("09")},Q4:{qtr:4,start:n("10"),end:a("12")}}}static getQtrByDate(e){const t=this.getQuarterBounds(e.getFullYear());for(const n in t){const{start:a,end:c}=t[n];if(e>=new Date(a)&&e<=new Date(c))return t[n]}return null}static buildQtrObj(e,t){const n=this.getQuarterBounds(t),{start:a,end:c}=n[e];return{start:a,end:c,name:`${e} ${t}`}}static getReportQuarters(e=5){const t=[];let n=new Date,a=n.getFullYear();const c=a;n=new Date(`${c}-${n.getMonth()+1}-${n.getDate()} 00:00`);const o=this.getQtrByDate(n);let i=o.qtr,r=0;4===i&&t.push(this.buildQtrObj("Q1",a+1));while(r<e)0===r&&i<4&&t.push(this.buildQtrObj("Q"+(i+1),a)),t.push(this.buildQtrObj("Q"+i,a)),i=i>0?i-=1:i,a=0==i?a-1:a,i=0==i?i+=4:i,r++;return t}}},"59cb":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("ad49");function o(e){return c["a"].set(a.REFERRAL_SITE_ENABLED,""+e)}function i(){return c["a"].isProp(a.REFERRAL_SITE_ENABLED+"=true")}(function(e){e["REFERRAL_SITE_ENABLED"]="enable_referral_site"})(a||(a={})),t["b"]={enableReferralSite:o,isReferralSiteEnabled:i}},"5b6e":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1c74");class c extends a["e"]{static getlogs(e,t){return this.getJson("notification/logs",{startDate:e,endDate:t})}static clear(e){return this.putJson("notifications/clear/"+e,{id:e})}static read(e){return this.putJson("notifications/update",{alerts:e})}static unread(){return this.getJson("notifications")}}},"5b82":function(e,t,n){},6460:function(e,t,n){},"66fd":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("ad49");function o(e){return c["a"].set(a.PACS_ENABLED,""+e)}function i(){return c["a"].isProp(a.PACS_ENABLED+"=true")}(function(e){e["PACS_ENABLED"]="enable_pacs"})(a||(a={})),t["b"]={enablePACs:o,isPACsEnabled:i}},"69c8":function(e,t,n){},"6b8f":function(e,t,n){"use strict";n("7682")},"74f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("ade3"),c=n("ad60"),o=n("cc6f"),i=n("b89f"),r=n("2ef0");class s extends c["a"]{constructor(e){super(),Object(a["a"])(this,"patientId",void 0),Object(a["a"])(this,"programId",void 0),Object(a["a"])(this,"stateId",void 0),Object(a["a"])(this,"patientProgramId",void 0),Object(a["a"])(this,"programDate",void 0),Object(a["a"])(this,"stateDate",void 0),this.patientId=e,this.patientProgramId=-1,this.programId=c["a"].getProgramID(),this.stateId=-1,this.programDate=c["a"].getSessionDate(),this.stateDate=""}getProgramId(){return this.programId}getStateDate(){return this.stateDate}getProgramDate(){return this.programDate}getPatientProgramId(){return this.patientProgramId}getPrograms(){return c["a"].getPatientPrograms(this.patientId)}async getProgram(){const e={patientID:-1,programID:-1,program:"N/A",outcome:"N/A",startDate:"",endDate:""},t=await this.getPrograms();if(Object(r["isEmpty"])(t))return e;const n=t.filter(e=>e.program.program_id===c["a"].getProgramID()).map(e=>{const t=e.patient_states;let n="",a="",c="N/A";if(!Object(r["isEmpty"])(t)){const e=t.length-1;n=t[e].start_date,a=t[e].end_date,c=t[e].name}return{patientID:e.patient_id,programID:e.program_id,program:e.program.name,outcome:c,startDate:n,endDate:a}});return Object(r["isEmpty"])(n)?e:n[0]}getProgramStates(){return c["a"].getPatientStates(this.patientId,this.programId)}async getProgramOutcomes(){const e=await c["a"].getProgramWorkflows(this.programId);return e.length>0?e[0].states:[]}voidProgram(e){return c["a"].voidProgram(this.patientProgramId,e)}voidState(e){return c["a"].voidState(this.patientId,this.programId,this.stateId,e)}enrollProgram(){return c["a"].enrollProgram(this.patientId,this.programId,this.programDate)}printTransferout(e){const t=new i["a"];return t.printLbl(`/programs/${this.programId}/patients/${this.patientId}/labels/transfer_out?date=${e}`)}async transferOutEncounter(e,t=""){const n=new o["a"](this.patientId,119);n.setDate(this.stateDate);const a=await n.createEncounter();if(!a)throw"Unable to transfer out encounter";return t&&await n.saveValueTextObs("Reason for transfer out",t),n.saveValueTextObs("Transfer to",e.name)}updateState(){return c["a"].createState(this.patientId,this.programId,{state:this.stateId,date:this.stateDate})}setProgramDate(e){this.programDate=e}setStateDate(e){this.stateDate=e}setPatientProgramId(e){this.patientProgramId=e}setProgramId(e){this.programId=e}setStateId(e){this.stateId=e}}},7682:function(e,t,n){},7941:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=e.filter(e=>e.person_attribute_type_id==t);return n.length>0?n[0].value:""}},7957:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("8158"),c=n("9283"),o=n("2ef0");class i extends a["a"]{constructor(){super()}static get(e){return super.getJson("/observations/"+e)}static create(e){return super.postJson("/observations",e)}static voidObs(e){return super.void("observations/"+e,{})}static saveObs(e,t){return this.create({encounter_id:e,observations:[t]})}static saveObsArray(e,t){return this.create({encounter_id:e,observations:t})}static async buildValueCoded(e,t,n=this.getSessionDate()){const c=await a["a"].getConceptID(e,!0),o="number"===typeof t?t:await a["a"].getConceptID(t,!0);return{concept_id:c,value_coded:o,obs_datetime:n}}static async buildGroupValueCoded(e,t,n,a=this.getSessionDate()){return{...await this.buildValueCoded(e,t,a),child:[await this.buildValueCoded(t,n,a)]}}static async buildValueCodedFromConceptId(e,t,n=this.getSessionDate()){const c=await a["a"].getConceptID(e,!0);return{concept_id:c,value_coded:t,obs_datetime:n}}static async buildValueText(e,t,n=this.getSessionDate()){const c=await a["a"].getConceptID(e,!0);return{concept_id:c,value_text:t,obs_datetime:n}}static async buildValueNumber(e,t,n=null,c=null,o=this.getSessionDate()){const i=await a["a"].getConceptID(e,!0),r={concept_id:i,value_numeric:t,obs_datetime:o};return n&&Object.assign(r,{value_modifier:n}),c&&Object.assign(r,{order_id:c}),r}static async buildValueDate(e,t,n=this.getSessionDate()){const c=await a["a"].getConceptID(e,!0);return{concept_id:c,value_datetime:t,obs_datetime:n}}static getObservations(e,t){return super.getJson(`/observations?person_id=${e}&concept_id=${t}`)}static getObs(e){return super.getJson("/observations",e)}static async getFirstObs(e,t,n=this.getSessionDate(),c=!0){const r=await a["a"].getConceptID(t,c),s=await i.getObs({person_id:e,concept_id:r,date:n,page_size:1});if(!Object(o["isEmpty"])(s)){const[e]=s;return"number"===typeof e["value_coded"]&&(e["value_coded"]=await a["a"].getConceptName(e["value_coded"])),e}}static obsInValidPeriod(e){return e&&a["a"].getSessionDate()>=c["c"].toStandardHisFormat(e.obs_datetime)}static async getFirstObsValue(e,t,n,a=this.getSessionDate(),c=!0){const i=await this.getFirstObs(e,t,a,c);if(!Object(o["isEmpty"])(i))return i[n]}static async getLastObsValue(e,t,n="value_coded",a=this.getSessionDate(),c=!0){const i=await this.getAll(e,t,a,c);if(!Object(o["isEmpty"])(i))return i[i.length-1][n]}static async getAll(e,t,n=this.getSessionDate(),c=!0){const i=await a["a"].getConceptID(t,c),r=await this.getObs({person_id:e,concept_id:i,date:n});if(!Object(o["isEmpty"])(r))return r}static async getAllValueCoded(e,t,n=this.getSessionDate(),c=!0){const i=await this.getAll(e,t,n,c);return Object(o["isEmpty"])(i)?[]:Promise.all(i.map(e=>a["a"].getConceptName(e["value_coded"])))}static getFirstValueText(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"value_text",n,a)}static getLastValueText(e,t,n=this.getSessionDate(),a=!0){return this.getLastObsValue(e,t,"value_text",n,a)}static getFirstValueCoded(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"value_coded",n,a)}static getLastValueCoded(e,t,n=this.getSessionDate(),a=!0){return this.getLastObsValue(e,t,"value_coded",n,a)}static getFirstValueNumber(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"value_numeric",n,a)}static getLastValueNumber(e,t,n=this.getSessionDate(),a=!0){return this.getLastObsValue(e,t,"value_numeric",n,a)}static getFirstValueDatetime(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"value_datetime",n,a)}static getLastValueDatetime(e,t,n=this.getSessionDate(),a=!0){return this.getLastObsValue(e,t,"value_datetime",n,a)}static getFirstObsDatetime(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"obs_datetime",n,a)}static async resolvePrimaryValue(e){let t="";return null!=e.value_datetime&&(t=c["c"].toStandardHisDisplayFormat(e.value_datetime)),null!=e.value_text&&(t=e.value_text),null!=e.value_numeric&&(t=e.value_numeric),"number"===typeof e.value_coded&&(t=await super.getConceptName(e.value_coded)),null!=e.value_modifier&&(t=`${t} ${e.value_modifier}`),t}}},"7d08":function(e,t,n){},"7da2":function(e,t,n){},"7def":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("1c74");const c=e=>{const t=e.given_name,n=e.family_name,a=e.middle_name?e.middle_name:"";return`${t} ${a} ${n}`};var o=n("7941"),i=n("2ef0");class r extends a["e"]{constructor(){super()}static getRelationships(e){return super.getJson(`/people/${e}/relationships`)}static async getGuardianDetails(e){return await this.getRelationships(e).then(e=>e.map(e=>{const t=Object(i["get"])(e,"relation.names[0]");return{id:e.relationship_id,name:t?c(t):"",relationshipType:Object(i["get"])(e,"type.b_is_to_a",""),phoneNumber:Object(o["a"])(Object(i["get"])(e,"relation.person_attributes",[]),12),names:t}}))}}},"7f35":function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return D}));var a=n("7a23");function c(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("action-header"),s=Object(a["resolveComponent"])("his-table"),l=Object(a["resolveComponent"])("ion-content"),d=Object(a["resolveComponent"])("action-footer");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(r,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{columns:e.columns,rowColors:e.rowColors,rows:e.rows},null,8,["columns","rowColors","rows"])]),_:1}),Object(a["createVNode"])(d,{buttons:e.actionButtons},null,8,["buttons"])],64)}var o=n("a3a5"),i=n("8efc"),r=Object(a["defineComponent"])({mixins:[i["a"]],components:{HisTable:o["a"]},props:{rowColors:{type:Object},columns:{type:Object,required:!0},rows:{type:Object,required:!0}}}),s=n("6b0d"),l=n.n(s);const d=l()(r,[["render",c]]);var u=d;const m={class:"info-content his-md-text"},p=["innerHTML"];function h(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("action-header"),s=Object(a["resolveComponent"])("ion-content"),l=Object(a["resolveComponent"])("action-footer");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(r,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("h2",{class:Object(a["normalizeClass"])(e.color)},Object(a["toDisplayString"])(e.bodyTitle),3),Object(a["createElementVNode"])("p",{class:"description",innerHTML:e.bodyText},null,8,p)])]),_:1}),Object(a["createVNode"])(l,{buttons:e.actionButtons},null,8,["buttons"])],64)}var b=Object(a["defineComponent"])({mixins:[i["a"]],props:{bodyTitle:{type:String,required:!0},bodyText:{type:String,required:!1}}});n("55ff");const g=l()(b,[["render",h],["__scopeId","data-v-1c798292"]]);var _=g,f=n("1b47");const k=["innerHTML"];function O(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("action-header"),s=Object(a["resolveComponent"])("ion-content"),l=Object(a["resolveComponent"])("action-footer");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(r,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("ul",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.list,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:t},[Object(a["createElementVNode"])("span",{class:"his-md-text",innerHTML:e},null,8,k)]))),128))])]),_:1}),Object(a["createVNode"])(l,{buttons:e.actionButtons},null,8,["buttons"])],64)}var v=Object(a["defineComponent"])({mixins:[i["a"]],props:{list:{type:Array,required:!0}}});n("4cf3");const y=l()(v,[["render",O],["__scopeId","data-v-d609962e"]]);var I=y,E=n("d867");function T(){const e=(t,n)=>{setTimeout(()=>{const a=document.getElementsByClassName("modal-wrapper");if(a.length){const c=a[0],o=c.getElementsByTagName("ion-header");o.length>=2?o[1].remove():t<20&&e(t+1,n+100);const i=c.getElementsByTagName("ion-content");i.length>=2&&i[1].remove();const r=c.getElementsByTagName("ion-footer");r.length>=2&&r[1].parentElement&&r[1].parentElement.remove()}else t<5&&e(t+1,n+100)},n)};e(0,0)}async function j(e,t,n,a,c,o="",i=[]){const r=await E["modalController"].create({component:u,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:e,subtitle:t,columns:n,rows:a,rowColors:i,actionButtons:c,color:o}});await r.present(),T();const{data:s}=await r.onDidDismiss();return s.action}async function N(e,t,n,a,c=""){const o=await E["modalController"].create({component:I,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:e,subtitle:t,actionButtons:a,list:n,color:c}});await o.present(),T();const{data:i}=await o.onDidDismiss();return i.action}async function C(e,t,n,a,c=""){const o=await E["modalController"].create({component:_,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:e,bodyTitle:t,bodyText:n,actionButtons:a,color:c}});await o.present(),T();const{data:i}=await o.onDidDismiss();return i.action}async function D(e,t,n,a,c="darkred",o="action-sheet-modal"){const i=await E["modalController"].create({component:f["a"],backdropDismiss:!1,cssClass:o,componentProps:{title:e,subtitle:t,color:c,list:n,actionButtons:a}});await i.present(),T();const{data:r}=await i.onDidDismiss();return r}},"7fa1":function(e,t,n){},8081:function(e,t,n){"use strict";n("da71")},"809e":function(e,t,n){},"80e3":function(e,t,n){"use strict";var a=n("7a23");const c={key:0,class:"stick-report-header"},o=["colspan","onClick"],i={key:1},r=["colspan"],s={key:2},l=["colspan"],d={key:0},u=["onClick"],m={key:1},p=["innerHTML"],h={key:0,class:"no-data-section vertically-align"},b={key:0},g={key:1};function _(e,t,n,_,f,k){const O=Object(a["resolveComponent"])("ion-icon"),v=Object(a["resolveComponent"])("ion-skeleton-text"),y=Object(a["resolveComponent"])("ion-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("table",{class:Object(a["normalizeClass"])(["report-table",e.config.tableCssTheme||""])},[e.tableColumns?(Object(a["openBlock"])(),Object(a["createElementBlock"])("thead",c,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.tableColumns,(t,n)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:n},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t,(t,c)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("th",{key:c,colspan:t.colspan||0,onClick:n=>e.sort(c,t),style:Object(a["normalizeStyle"])(t.style),class:Object(a["normalizeClass"])(t.cssClass)},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.th)+" ",1),e.sortedIndex===c&&t.sortable&&n+1===e.tableColumns.length?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0,icon:"ascSort"===e.sortOrder?e.arrowUp:e.arrowDown},null,8,["icon"])):Object(a["createCommentVNode"])("",!0)],14,o))),128))]))),128))])):Object(a["createCommentVNode"])("",!0),e.isLoading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",i,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.skeletonRows,(t,n)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:n},[Object(a["createElementVNode"])("td",{colspan:e.columnLength},[Object(a["createVNode"])(v,{animated:"",style:{width:"100%",height:"30px"}})],8,r)]))),128))])):Object(a["createCommentVNode"])("",!0),e.noData?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",s,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.activeRows,(t,n)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:n},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t,(t,c)=>{var o,i,r;return Object(a["openBlock"])(),Object(a["createElementBlock"])("td",{key:c,colspan:t.colspan||0,class:Object(a["normalizeClass"])(t.cssClass),style:Object(a["normalizeStyle"])(t.style)},[t.event?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,["link"===(null===t||void 0===t||null===(o=t.event)||void 0===o?void 0:o.obj)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:0,href:"#",class:Object(a["normalizeClass"])(["his-sm-text",t.cssClass]),style:Object(a["normalizeStyle"])(t.style),onClick:Object(a["withModifiers"])(e=>t.event.click(),["prevent"])},Object(a["toDisplayString"])(t.td),15,u)):Object(a["createCommentVNode"])("",!0),"button"===t.event.obj?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:1,color:(null===t||void 0===t||null===(i=t.event)||void 0===i?void 0:i.color)||"",class:Object(a["normalizeClass"])(t.cssClass),style:Object(a["normalizeStyle"])(t.style),disabled:void 0!=(null===t||void 0===t||null===(r=t.event)||void 0===r?void 0:r.disabled)&&!0===t.event.disabled,onClick:a=>t.event.click(n,e.activeRows,e.tableRows)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.td),1)]),_:2},1032,["color","class","style","disabled","onClick"])):Object(a["createCommentVNode"])("",!0)])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",m,[Object(a["createElementVNode"])("span",{class:"his-sm-text",innerHTML:t.td},null,8,p)]))],14,l)}),128))]))),128))]))],2),e.noData?(Object(a["openBlock"])(),Object(a["createElementBlock"])("h1",h,[e.errorMessage?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",b,Object(a["toDisplayString"])(e.errorMessage),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",g," No data available in table "))])):Object(a["createCommentVNode"])("",!0)],64)}n("14d9");var f=n("ff79"),k=n("9ceb"),O=n("2ef0"),v=n("8734"),y=n("b5e4"),I=n("d867"),E=Object(a["defineComponent"])({emits:["onActiveRows","onActiveColumns","onPagination","onIsLoading","onTableRows"],components:{IonButton:I["IonButton"],IonIcon:I["IonIcon"],IonSkeletonText:I["IonSkeletonText"]},props:{config:{type:Object,default:()=>({})},columns:{type:Array,required:!0},rows:{type:Array,default:()=>[]},newPage:{type:Number},rowsPerPage:{type:Number},asyncRows:{type:Function},asyncRowParser:{type:Function},rowParser:{type:Function},searchFilter:{type:String},showFilters:{type:Boolean,default:!1},paginated:{type:Boolean,default:!1}},data:()=>({arrowUp:f["arrowUp"],arrowDown:f["arrowDown"],caretBack:f["caretBack"],caretForward:f["caretForward"],sortedIndex:-1,sortOrder:"descSort",tableColumns:[],tableRows:[],paginatedRows:[],activeRows:[],currentPage:0,itemsPerPage:20,isLoading:!1,errorMessage:""}),watch:{isLoading:{handler(e){"boolean"===typeof e&&this.$emit("onIsLoading",e)},immediate:!0},newPage:{handler(e){"number"===typeof e&&this.onChangePage(e)},immediate:!0},rowsPerPage:{handler(e){"number"===typeof e&&(this.itemsPerPage=e)},immediate:!0},async itemsPerPage(e){Object(O["isEmpty"])(this.tableRows)||(this.currentPage=0,await Object(v["a"])(100),this.paginateTableRows(e),await this.setPage(this.currentPage))},tableRows:{handler(e){Object(O["isEmpty"])(e)||this.$emit("onTableRows",e)},immediate:!0,deep:!0},searchFilter(e){e?this.activeRows=this.searchDataSet(e,this.tableRows):this.paginated?this.setPage(this.currentPage):this.activeRows=this.tableRows},activeRows:{handler(e){this.$emit("onActiveRows",e)},immediate:!0,deep:!0},columns:{handler(e){if(!Object(O["isEmpty"])(e)){if(this.showIndex()){const e=[...this.columns],t=this.columns.length-1;e[t]=[k["a"].thNum("#"),...e[t]],this.tableColumns=e}else this.tableColumns=e;this.$emit("onActiveColumns",this.tableColumns)}},immediate:!0,deep:!0},asyncRows:{async handler(e){if(this.errorMessage="","function"===typeof e){this.isLoading=!0;try{this.tableRows=this.addColumnIndexes(await e()),this.paginated?(this.paginateTableRows(),await this.setPage(0)):this.activeRows=this.tableRows}catch(t){this.errorMessage=""+t,Object(y["c"])(""+t),console.error(t)}this.isLoading=!1}},immediate:!0,deep:!0},rows:{async handler(e){if(this.errorMessage="",!e||Object(O["isEmpty"])(e))return this.activeRows=[],void(this.tableRows=[]);this.tableRows=this.addColumnIndexes(e),this.paginated?(this.paginateTableRows(),await this.setPage(0)):this.activeRows=this.tableRows},immediate:!0,deep:!0}},methods:{showIndex(){return!(!this.config||!("showIndex"in this.config))&&this.config.showIndex},addColumnIndexes(e){return this.showIndex()?e.map((e,t)=>{const n=[k["a"].td(t+1)];return Array.isArray(e)?n.concat(e):[...n,e]}):e},paginateTableRows(e=0){this.paginatedRows=Object(O["chunk"])(this.tableRows,e||this.itemsPerPage),this.$emit("onPagination",this.paginatedRows)},async setPage(e){this.activeRows=[];const t=this.paginatedRows[e];if(t){try{if("function"===typeof this.asyncRowParser){this.activeRows=t;for(const e in t)this.activeRows[e]=await this.asyncRowParser(t[e])}else this.isLoading=!0,this.activeRows="function"===typeof this.rowParser?await this.rowParser(t):t}catch(n){Object(y["c"])(""+n),this.errorMessage=""+n,console.error(n)}this.isLoading=!1}},async sort(e,t){this.showIndex()&&"function"===typeof this.rowParser&&0!=e||(e===this.sortedIndex?this.sortOrder="ascSort"===this.sortOrder?"descSort":"ascSort":this.sortOrder="ascSort",this.sortedIndex=e,this.sortOrder in t&&(this.paginated?(this.tableRows=t[this.sortOrder](e,this.tableRows),this.paginateTableRows(),await this.setPage(this.currentPage)):this.activeRows=t[this.sortOrder](e,this.tableRows)))},searchDataSet(e,t){return t.filter(t=>{var n;const a=null===(n=JSON.stringify(t).match(/"td":"(.*?)"/g))||void 0===n?void 0:n.join(" ").replace(/"td":|"/g,"");return(null===a||void 0===a?void 0:a.match(new RegExp(e,"i")))||!1})},async onChangePage(e){this.currentPage=e,await this.setPage(e)}},computed:{noData(){return!this.isLoading&&Object(O["isEmpty"])(this.activeRows)},columnLength(){try{return this.tableColumns[0].length}catch(e){return console.warn(e),5}},skeletonRows(){const e=[],t=this.config.skeletonTextRows?this.config.skeletonTextRows:10;for(let n=0;n<t;++n)e.push(n);return e}}}),T=(n("088d"),n("6b0d")),j=n.n(T);const N=j()(E,[["render",_],["__scopeId","data-v-a3e09e20"]]);t["a"]=N},8158:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("1c74"),c=[{categories:[],concept_id:865,name:"Sore throat"},{concept_id:884,name:"HIV"},{concept_id:58,name:"TB"},{categories:[],concept_id:7759,name:"Workstation location"},{categories:["tb_treatment"],concept_id:10687,name:"TB treatment start date"},{categories:["tb_treatment"],concept_id:10686,name:"TB treatment period"},{categories:["hiv_viral_load_reasons"],concept_id:10609,name:"Follow up after Low Level Viremia"},{categories:["hiv_viral_load_reasons"],concept_id:10610,name:"Follow up after High Viral Load"},{categories:[],concept_id:8259,name:"Routine TB Screening"},{categories:[],concept_id:7459,name:"TB Status"},{categories:[],concept_id:7454,name:"TB Not Suspected",shortName:"Nosup"},{categories:[],concept_id:7455,name:"TB Suspected"},{categories:[],concept_id:6195,name:"Why does the woman not use birth control"},{categories:[],concept_id:2137,name:"BMI"},{categories:[],concept_id:1717,name:"Patient using family planning"},{categories:[],concept_id:856,name:"HIV viral load"},{concept_id:6328,name:"New"},{categories:[],concept_id:7977,name:"Hemorrhage"},{categories:[],concept_id:7156,name:"Eclampsia"},{categories:[],concept_id:8758,name:"Episiotomy"},{categories:[],concept_id:228,name:"APH"},{categories:[],concept_id:230,name:"PPH"},{categories:[],concept_id:2895,name:"Alive"},{categories:[],concept_id:9656,name:"Previous HIV Test Results"},{categories:[],concept_id:2473,name:"B-HCG"},{categories:[],concept_id:9655,name:"Previous HIV Test Done"},{categories:[],concept_id:9657,name:"Previous HIV Test Date"},{categories:[],concept_id:3340,name:"Currently taking alcohol"},{categories:[],concept_id:1057,name:"Never Married"},{categories:[],concept_id:5555,name:"Married"},{categories:[],concept_id:1056,name:"Seperated"},{categories:[],concept_id:1058,name:"Divorced"},{categories:[],concept_id:6686,name:"Ultrasound"},{categories:[],concept_id:7433,name:"Presentation"},{categories:[],concept_id:7979,name:"Fetal Heart Beat"},{categories:[],concept_id:9637,name:"Fetal movement heard"},{categories:[],concept_id:9562,name:"Fetal movement felt"},{categories:[],concept_id:7835,name:"Fundus"},{categories:[],concept_id:7837,name:"Position"},{categories:[],concept_id:7142,name:"Multiple gestation"},{categories:[],concept_id:7919,name:"LIQUOR"},{categories:[],concept_id:9563,name:"Last Fetal movement felt"},{categories:[],concept_id:7836,name:"Lie"},{categories:[],concept_id:9654,name:"Fetal heart movement seen"},{categories:[],concept_id:7839,name:"Fetal heart rate"},{categories:["anc_medical_history"],concept_id:5,name:"Asthma"},{categories:["anc_medical_history"],concept_id:155,name:"Epilepsy"},{categories:["anc_medical_history"],concept_id:174,name:"Sexually transmitted infection"},{categories:["anc_medical_history"],concept_id:1063,name:"Blood transfusion"},{categories:["anc_medical_history"],concept_id:6033,name:"Renal disease"},{categories:["anc_medical_history"],concept_id:7978,name:"Spine/Leg Deformity"},{categories:["anc_medical_history"],concept_id:8809,name:"Hypertension"},{categories:[],concept_id:7439,name:"Procedure done"},{categories:["anc_surgical_history"],concept_id:1171,name:"Caesarean section"},{categories:["anc_surgical_history"],concept_id:1719,name:"Tubal ligation"},{categories:["anc_surgical_history"],concept_id:3593,name:"Biopsy"},{categories:["anc_surgical_history","reason_for_no_cxca"],concept_id:5276,name:"Hysterectomy"},{categories:["anc_surgical_history"],concept_id:7440,name:"Uterine evacuation"},{categories:["anc_surgical_history"],concept_id:7441,name:"Exam under anaesthesia"},{categories:["anc_surgical_history"],concept_id:7443,name:"Total abdominal hysterectomy +/- adnexectomy"},{categories:["anc_surgical_history"],concept_id:7444,name:"Subtotal abdominal hysterectomy +/- adnexectomy"},{categories:["anc_surgical_history"],concept_id:7462,name:"Suturing of cervical or vaginal injury under anaesthesia"},{categories:["anc_surgical_history"],concept_id:7469,name:"Vaginal Reconstruction"},{categories:["anc_surgical_history"],concept_id:7470,name:"Exploratory laparatomy +/- adnexectomy"},{categories:["anc_surgical_history"],concept_id:7471,name:"Cauterization of vulva or perineal warts"},{categories:["anc_surgical_history"],concept_id:7472,name:"Marsupilisation"},{categories:["anc_surgical_history"],concept_id:7474,name:"Salpingectomy"},{categories:["anc_surgical_history"],concept_id:7475,name:"Dilation and curettage"},{categories:["anc_medical_history","anc_surgical_history"],concept_id:7477,name:"Fistula repair"},{categories:["anc_surgical_history"],concept_id:7478,name:"Myomectomy"},{categories:["anc_surgical_history"],concept_id:7480,name:"Hysterescopy"},{categories:["anc_surgical_history"],concept_id:7481,name:"Cystoscopy"},{categories:["anc_surgical_history"],concept_id:7482,name:"Vulvectomy"},{categories:["anc_surgical_history"],concept_id:8380,name:"Suturing of perineum"},{categories:["anc_surgical_history"],concept_id:8381,name:"Repair of uterus"},{categories:["anc_surgical_history"],concept_id:8765,name:"Cystectomy"},{categories:["anc_surgical_history"],concept_id:8766,name:"Ceclage"},{categories:["anc_surgical_history"],concept_id:8767,name:"Bilateral tubal ligation"},{categories:["anc_surgical_history"],concept_id:8773,name:"Excision"},{categories:["anc_surgical_history"],concept_id:9058,name:"Evacuation/Manual Vacuum Aspiration"},{categories:["anc_surgical_history"],concept_id:9304,name:"Polypectomy"},{categories:["anc_surgical_history"],concept_id:9305,name:"Decapitation"},{categories:["anc_surgical_history"],concept_id:9306,name:"Abdominal Washout"},{categories:["anc_surgical_history"],concept_id:9307,name:"Vaginal hysterectomy"},{categories:["anc_surgical_history"],concept_id:9308,name:"Gaped episiotomy repair"},{categories:["anc_surgical_history"],concept_id:9309,name:"Macdonald suture"},{categories:["anc_surgical_history"],concept_id:9314,name:"Oophorectomy"},{categories:["anc_surgical_history"],concept_id:10772,name:"Laparotomy due to ectopic pregnancy"},{categories:[],concept_id:7124,name:"Tetanus Diphtheria"},{categories:[],concept_id:6408,name:"Other conditions"},{categories:[],concept_id:10546,name:"Punch Biopsy"},{categories:[],concept_id:10547,name:"LLETZ sample"},{categories:[],concept_id:1115,name:"Normal"},{categories:[],concept_id:10551,name:"CIN 1"},{categories:[],concept_id:10552,name:"CIN 2"},{categories:[],concept_id:10553,name:"CIN 3"},{categories:[],concept_id:10554,name:"Carcinoma in Situ"},{categories:[],concept_id:2588,name:"Invasive cancer of cervix"},{categories:[],concept_id:10550,name:"Benign cervical warts"},{categories:[],concept_id:1107,name:"Not available"},{categories:[],concept_id:7918,name:"Bleeding"},{categories:[],concept_id:5276,name:"Hysterectomy"},{categories:[],concept_id:10521,name:"Cryotherapy"},{categories:[],concept_id:10002,name:"Leep"},{categories:[],concept_id:9053,name:"Palliative Care"},{categories:[],concept_id:10560,name:"LLETZ"},{categories:[],concept_id:10557,name:"Conisation"},{categories:[],concept_id:9996,name:"Thermocoagulation"},{categories:[],concept_id:10549,name:"Chronic cervicitis"},{categories:[],concept_id:3580,name:"Patient refused"},{categories:[],concept_id:10556,name:"Hysyrectomy"},{categories:[],concept_id:10558,name:"Trachelectomy"},{categories:[],concept_id:3626,name:"Discharged"},{categories:[],concept_id:8882,name:"Continue follow-up"},{categories:[],concept_id:10559,name:"No Dysplasia/Cancer"},{categories:[],concept_id:1742,name:"Patient died"},{categories:[],concept_id:8739,name:"Cervical cancer stage 1"},{categories:[],concept_id:8787,name:"Cervical cancer stage 2"},{categories:[],concept_id:8788,name:"Cervical cancer stage 3"},{categories:[],concept_id:8740,name:"Cervical cancer stage 4"},{categories:[],concept_id:10041,name:"VIA Negative"},{categories:[],concept_id:10032,name:"Suspect Cancer"},{categories:[],concept_id:10023,name:"PAP Smear Normal"},{categories:[],concept_id:10025,name:"HPV negative"},{categories:[],concept_id:10028,name:"No visible Lesion"},{categories:[],concept_id:6537,name:"Other Gynae"},{categories:[],concept_id:10042,name:"VIA Positive"},{categories:[],concept_id:10024,name:"PAP Smear Abnormal"},{categories:[],concept_id:10026,name:"HPV Positive"},{categories:[],concept_id:10027,name:"Visible Lesion"},{categories:[],concept_id:174,name:"STI"},{categories:[],concept_id:149,name:"Cervicitis"},{categories:[],name:"Result Given to Client",concept_id:9764},{categories:["art_extra_medication_order"],name:"INH 300 / RFP 300 (3HP)",concept_id:10565},{categories:[],concept_id:10563,name:"Drug received from previous facility"},{categories:[],concept_id:10564,name:"Date drug received from previous facility"},{categories:[],concept_id:6397,name:"Height for age percent of median"},{categories:[],concept_id:6969,name:"Refer to clinician"},{categories:[],concept_id:10031,name:"Further Investigation and Management"},{categories:[],concept_id:9066,name:"Cancer of cervix"},{categories:[],concept_id:10030,name:"Large Lesion (Greater than 75 percent)"},{categories:[],concept_id:1739,name:"Referral reason"},{categories:[],concept_id:9514,name:"VIA Results"},{categories:[],concept_id:9522,name:"Patient went for VIA?"},{concept_id:2690,name:"TB treatment"},{categories:[],concept_id:7459,name:"TB status"},{categories:[],concept_id:7455,name:"TB suspected",short:"sup"},{categories:[],concept_id:7454,name:"TB NOT suspected",short:"nosup"},{categories:[],concept_id:7458,name:"Confirmed TB on treatment",short:"RX"},{categories:[],concept_id:7456,name:"Confirmed TB NOT on treatment",short:"Norx"},{categories:[],concept_id:10583,name:"TB Status at Initiation"},{categories:[],concept_id:10584,name:"Current"},{categories:[],concept_id:10585,name:"Last 2 years"},{categories:[],concept_id:10586,name:"More than 2 years"},{categories:[],concept_id:10587,name:"Never"},{categories:[],concept_id:9195,name:"Discuss with spouse"},{categories:[],concept_id:7951,name:"Other side effect"},{categories:[],concept_id:7755,name:"Malawi ART side effects"},{categories:[],concept_id:9994,name:"CxCa test date"},{categories:[],concept_id:10008,name:"Reason for NOT offering CxCa"},{categories:[],concept_id:9992,name:"Offer CxCa"},{categories:["reason_for_no_cxca"],concept_id:8387,name:"Not due for screening"},{categories:["reason_for_no_cxca"],concept_id:44,name:"Pregnancy"},{categories:["reason_for_no_cxca"],concept_id:10007,name:"Client preferred counseling"},{categories:["reason_for_no_cxca"],concept_id:1175,name:"Not applicable"},{categories:["reason_for_no_cxca"],concept_id:3580,name:"Patient refused"},{categories:["reason_for_no_cxca"],concept_id:10001,name:"Chemotherapy"},{categories:["reason_for_no_cxca"],concept_id:10543,name:"Services not available"},{categories:["reason_for_no_cxca"],concept_id:10544,name:"Provider not available"},{categories:[],concept_id:7215,name:"Other (Specify)"},{categories:[],concept_id:1618,name:"Family planning"},{categories:[],concept_id:374,name:"Method of family planning"},{categories:[],concept_id:2431,name:"Other reason for not seeking services"},{categories:[],concept_id:2592,name:"Clinician notes"},{categories:[],concept_id:6986,name:"Transferred"},{categories:[],concept_id:1588,name:"Previous TB treatment history"},{categories:[],concept_id:10603,name:"TPT Drugs Received"},{categories:[],concept_id:10604,name:"Location TPT Last Received"},{categories:["bp_measures"],concept_id:5085,name:"Systolic blood pressure"},{categories:["bp_measures"],concept_id:5086,name:"Diastolic blood pressure"},{categories:[],concept_id:7054,name:"Art clinic location"},{categories:[],concept_id:8677,name:"Specific presenting complaint"},{categories:[],concept_id:8578,name:"Presenting complaint"},{categories:[],concept_id:10319,name:"Presenting complaint group"},{categories:[],concept_id:6266,name:"Trauma"},{categories:[],concept_id:7027,name:"General"},{categories:[],concept_id:7411,name:"ILI"},{categories:[],concept_id:7644,name:"Respiratory"},{categories:[],concept_id:7661,name:"Gastrointestinal"},{categories:[],concept_id:9546,name:"Haema"},{categories:[],concept_id:9551,name:"Nephro"},{categories:[],concept_id:9560,name:"Cardiovascular"},{categories:["art_patient_type"],order:1,concept_id:7572,name:"New patient"},{categories:["art_patient_type"],order:2,concept_id:10522,name:"Emergency supply"},{categories:["risk factors","anc_medical_history"],concept_id:3720,name:"Diabetes"},{categories:["risk factors"],concept_id:7623,name:"CKD"},{categories:["risk factors"],concept_id:9499,name:"history of CVD"},{categories:["risk factors"],concept_id:9501,name:"relative with CVD"},{categories:["risk factors"],concept_id:3339,name:"patient smokes"},{categories:["risk factors"],concept_id:2318,name:"Patient drinks alcohol"},{categories:[],concept_id:9675,name:"Referral"},{categories:[],concept_id:1054,name:"Marital status"},{categories:[],concept_id:8366,name:"Religion"},{categories:[],concept_id:6541,name:"Referred"},{categories:[],concept_id:8717,name:"Specialist clinic"},{categories:[],concept_id:6734,name:"Admit to ward"},{categories:[],concept_id:9674,name:"Re-visiting"},{categories:[],concept_id:3753,name:"HIV status"},{categories:[],concept_id:7878,name:"HIV test location"},{categories:[],concept_id:7409,name:"Qech outpatient diagnosis list"},{categories:["anc_diagnosis"],concept_id:123,name:"Malaria"},{categories:["anc_diagnosis"],concept_id:3,name:"Anaemia"},{categories:["anc_diagnosis"],concept_id:7941,name:"Pre-eclampsia"},{categories:["anc_diagnosis"],concept_id:9665,name:"Vaginal bleeding"},{categories:["anc_diagnosis"],concept_id:9664,name:"Early rupture of membranes"},{categories:["anc_diagnosis"],concept_id:7883,name:"Premature labour"},{categories:["anc_diagnosis"],concept_id:43,name:"Pneumonia"},{categories:[],concept_id:9227,name:"Malaria Test Result"},{categories:[],concept_id:703,name:"Positive"},{categories:[],concept_id:9436,name:"Inconclusive"},{categories:[],concept_id:6698,name:"Trace"},{categories:[],concept_id:664,name:"Negative"},{categories:[],concept_id:6542,name:"Primary diagnosis"},{categories:[],concept_id:6543,name:"Secondary diagnosis"},{categories:[],concept_id:2688,name:"Clinical notes construct"},{categories:[],concept_id:1837,name:"HIV test date"},{categories:[],concept_id:6189,name:"Type of visit"},{categories:[],concept_id:3003,name:"Transfer to"},{categories:[],concept_id:7414,name:"Transfer from"},{categories:[],concept_id:1744,name:"Patient transferred out"},{categories:[],concept_id:9144,name:"Repeat / Missing"},{categories:[],concept_id:3280,name:"Targeted"},{categories:[],concept_id:1345,name:"Confirmatory"},{categories:[],concept_id:6368,name:"Stat"},{categories:[],concept_id:432,name:"Routine"},{categories:[],concept_id:730,name:"CD4 percent"},{categories:[],concept_id:2552,name:"Agrees to followup"},{categories:[],concept_id:7882,name:"Confirmatory HIV test date"},{categories:[],concept_id:2516,name:"Date ART started"},{categories:[],concept_id:1499,name:"Drug start date"},{categories:[],concept_id:7750,name:"Location of ART initiation"},{categories:[],concept_id:6394,name:"Has the patient taken ART in the last two weeks"},{categories:[],concept_id:7752,name:"Has the patient taken ART in the last two months"},{categories:[],concept_id:7751,name:"Date ART last taken"},{categories:[],concept_id:6981,name:"ART number at previous location"},{categories:[],concept_id:7881,name:"Confirmatory HIV test location"},{categories:[],concept_id:7754,name:"Ever received ART"},{categories:[],concept_id:7937,name:"Ever registered at ART clinic"},{categories:[],concept_id:6393,name:"Has transfer letter"},{categories:[],concept_id:9685,name:"Phone"},{categories:[],concept_id:9686,name:"Home visit"},{categories:["art_extra_medication_order"],concept_id:9974,name:"3HP (RFP + INH)"},{categories:[],concept_id:656,name:"IPT"},{categories:["side_effect"],sortIndex:{side_effect:10},concept_id:1773,name:"Heavy alcohol use"},{categories:["tb_symptom"],sortIndex:{tb_symptom:1},concept_id:8261,name:"Cough of any duration"},{categories:["tb_symptom","side_effect"],sortIndex:{side_effect:4,tb_symptom:4},concept_id:8260,name:"Weight loss / Failure to thrive / malnutrition"},{categories:[],concept_id:9661,name:"Contraindications"},{categories:[],concept_id:7567,name:"Drug induced"},{categories:["tb_symptom","side_effect","adverse_effect"],sortIndex:{side_effect:9,tb_symptom:3},concept_id:6029,name:"Night sweats"},{categories:["tb_symptom","0_art_regimen_side_effect","9_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:1,tb_symptom:2},concept_id:5945,name:"Fever"},{categories:["0_art_regimen_side_effect","2_art_regimen_side_effect","4_art_regimen_side_effect","8_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","12_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","16_art_regimen_side_effect","17_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:3},concept_id:5980,name:"Vomiting"},{categories:["5_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:5},concept_id:877,name:"Dizziness"},{categories:["9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:7},concept_id:620,name:"Headache"},{categories:["13_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:2},concept_id:5978,name:"Nausea"},{categories:["0_art_regimen_side_effect","2_art_regimen_side_effect","4_art_regimen_side_effect","5_art_regimen_side_effect","6_art_regimen_side_effect","7_art_regimen_side_effect","8_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","12_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","adverse_effect"],concept_id:843,name:"Treatment failure"},{categories:["2_art_regimen_side_effect","4_art_regimen_side_effect","8_art_regimen_side_effect","11_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:6},concept_id:1458,name:"Lactic acidosis"},{categories:["0_art_regimen_side_effect","9_art_regimen_side_effect","15_art_regimen_side_effect","16_art_regimen_side_effect","17_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:8},concept_id:107,name:"Cough"},{categories:["11_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:1},concept_id:821,name:"Peripheral neuropathy"},{categories:["0_art_regimen_contraindication","2_art_regimen_contraindication","6_art_regimen_contraindication","7_art_regimen_contraindication","8_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:3},concept_id:215,name:"Jaundice"},{categories:["2_art_regimen_contraindication","4_art_regimen_contraindication","8_art_regimen_contraindication","11_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:5},concept_id:2148,name:"Lipodystrophy"},{categories:["5_art_regimen_contraindication","6_art_regimen_contraindication","7_art_regimen_contraindication","10_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:7},concept_id:9242,name:"Kidney Failure"},{categories:["4_art_regimen_contraindication","5_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:2},concept_id:219,name:"Psychosis"},{categories:["4_art_regimen_contraindication","5_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:4},concept_id:9440,name:"Gynaecomastia"},{categories:["2_art_regimen_contraindication","4_art_regimen_contraindication","8_art_regimen_contraindication","11_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:6},concept_id:3,name:"Anemia"},{categories:["0_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:9},concept_id:512,name:"Skin rash"},{categories:["contraindication","adverse_effect"],sortIndex:{contraindication:8},concept_id:867,name:"Insomnia"},{categories:[],concept_id:1588,name:"TB treatment history"},{categories:["fast_track"],concept_id:9533,name:"Adult 18 years +"},{categories:["fast_track"],concept_id:9534,name:"On ART for 12 months "},{categories:["fast_track"],concept_id:9535,name:"On 1st line ART"},{categories:["fast_track"],concept_id:9537,name:"Good current adherence"},{categories:["fast_track"],concept_id:9536,name:"Last VL <1000"},{categories:["fast_track"],concept_id:9538,name:"Pregnant / Breastfeeding"},{categories:["fast_track"],concept_id:9539,name:"Side effects / HIV-rel. diseases"},{categories:["fast_track"],concept_id:9540,name:"Needs BP / diabetes treatment"},{categories:["fast_track"],concept_id:9527,name:"Started IPT <12m ago"},{categories:["fast_track"],concept_id:2186,name:"Any sign for TB"},{categories:["reasons_for_art","stage_1_conditions_adults_who_reason"],concept_id:7561,name:"WHO STAGE I ADULT"},{categories:["reasons_for_art","stage_1_conditions_pedaids_who_reason","stage_1_conditions_adults_who_reason"],concept_id:7041,name:"WHO STAGE I ADULT AND PEDS"},{categories:["reasons_for_art","stage_1_conditions_pedaids_who_reason"],concept_id:7049,name:"WHO STAGE I PEDS"},{categories:["reasons_for_art","stage_2_conditions_adults_who_reason"],concept_id:7046,name:"WHO STAGE II ADULT"},{categories:["reasons_for_art","stage_2_conditions_pedaids_who_reason","stage_2_conditions_adults_who_reason"],concept_id:7042,name:"WHO STAGE II ADULT AND PEDS"},{categories:["reasons_for_art","stage_2_conditions_pedaids_who_reason"],concept_id:7050,name:"WHO STAGE II PEDS"},{categories:["reasons_for_art","stage_3_conditions_adults_who_reason"],concept_id:7047,name:"WHO STAGE III ADULT"},{categories:["reasons_for_art","stage_3_conditions_pedaids_who_reason","stage_3_conditions_adults_who_reason"],concept_id:7043,name:"WHO STAGE III ADULT AND PEDS"},{categories:["reasons_for_art","stage_3_conditions_pedaids_who_reason"],concept_id:7051,name:"WHO STAGE III PEDS"},{categories:["reasons_for_art","stage_4_conditions_adults_who_reason"],concept_id:7048,name:"WHO STAGE IV ADULT"},{categories:["reasons_for_art","stage_4_conditions_pedaids_who_reason","stage_4_conditions_adults_who_reason"],concept_id:7044,name:"WHO STAGE IV ADULT AND PEDS"},{categories:["reasons_for_art","stage_4_conditions_pedaids_who_reason"],concept_id:7052,name:"WHO STAGE IV PEDS"},{categories:[],concept_id:1805,name:"Patient present"},{categories:[],concept_id:2122,name:"Guardian present"},{categories:[],concept_id:5092,name:"SP02"},{categories:[],concept_id:5087,name:"Pulse"},{categories:[],concept_id:5088,name:"Temp"},{categories:[],concept_id:1484,name:"Treatment status"},{categories:[],concept_id:3140,name:"Reason for poor treatment adherence"},{categories:[],concept_id:6987,name:"Drug adherence"},{categories:[],concept_id:2540,name:"Number of tablets brought to clinic"},{categories:[],concept_id:7880,name:"Confirmatory hiv test type"},{categories:["hiv_test_types"],concept_id:1040,name:"HIV rapid test"},{categories:["hiv_test_types"],concept_id:844,name:"HIV DNA polymerase chain reaction"},{categories:["hiv_test_types"],concept_id:1118,name:"Not done"},{categories:["hiv_test_types"],concept_id:1067,name:"Unknown"},{categories:["reason_for_art"],concept_id:8263,name:"PRESUMED SEVERE HIV"},{categories:["reason_for_art"],concept_id:844,name:"HIV DNA POLYMERASE CHAIN REACTION"},{categories:["reason_for_art"],concept_id:1169,name:"HIV infected"},{categories:["reason_for_art"],concept_id:1755,name:"PATIENT PREGNANT"},{categories:["reason_for_art"],concept_id:5632,name:"BREASTFEEDING"},{categories:["reason_for_art"],concept_id:5006,name:"Asymptomatic"},{categories:["reason_for_art"],concept_id:8376,name:"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 1"},{categories:["reason_for_art"],concept_id:7559,name:"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 2"},{categories:[""],concept_id:2743,name:"Who stages criteria present"},{categories:[""],concept_id:7965,name:"Is patient breast feeding"},{categories:[""],concept_id:6131,name:"Is patient pregnant"},{categories:[""],concept_id:7563,name:"Reason for ART eligibility"},{categories:[""],concept_id:7562,name:"Who stage"},{categories:[""],concept_id:2540,name:"Pills brought"},{categories:[""],concept_id:5089,name:"weight"},{categories:[],concept_id:5090,name:"Height"},{categories:["art_medication_order"],concept_id:9974,name:"Rifapentine"},{categories:["art_medication_order","art_extra_medication_order"],concept_id:916,name:"CPT"},{categories:["art_medication_order","art_extra_medication_order"],concept_id:656,name:"INH"},{categories:[""],concept_id:6784,name:"Appointment type"},{categories:[""],concept_id:1779,name:"Reason for ARV switch"},{categories:[""],concept_id:9561,name:"Assess for fast track"},{categories:[""],concept_id:1282,name:"Medication orders"},{categories:[""],concept_id:8471,name:"Fast track"},{categories:[""],concept_id:7755,name:"Art Side effects"},{categories:["art_medication_order"],concept_id:1085,name:"Antiretroviral drugs"},{categories:[""],concept_id:1066,name:"No"},{categories:[""],concept_id:1065,name:"Yes"},{categories:[""],concept_id:5096,name:"Appointment date"},{categories:[""],concept_id:3289,name:"Type of patient"},{categories:["art_patient_type"],concept_id:9684,order:3,name:"External consultation"},{categories:[""],concept_id:6830,name:"Cd4 count location"},{categories:[""],concept_id:6831,name:"Cd4 count datetime"},{categories:[""],concept_id:5497,name:"CD4 count"},{categories:["cd4_count","reason_for_art"],concept_id:8208,name:"cd4 less than or equal to 750"},{categories:["cd4_count","reason_for_art"],concept_id:8262,name:"cd4 less than or equal to 250"},{categories:["cd4_count","reason_for_art"],concept_id:8207,name:"cd4 less than or equal to 350"},{categories:["cd4_count","reason_for_art"],concept_id:9389,name:"cd4 less than or equal to 500"},{categories:["whole_staging_numbers"],concept_id:9145,name:"WHO STAGE 1"},{categories:["whole_staging_numbers"],concept_id:9146,name:"WHO STAGE 2"},{categories:["whole_staging_numbers"],concept_id:2932,name:"WHO STAGE 3"},{categories:["whole_staging_numbers"],concept_id:2933,name:"WHO STAGE 4"},{categories:["whole_staging_numbers","reason_for_art"],concept_id:7561,name:"WHO STAGE I ADULT"},{categories:["whole_staging_numbers"],concept_id:7041,name:"WHO STAGE I ADULT AND PEDS"},{categories:["whole_staging_numbers","reason_for_art"],concept_id:7049,name:"WHO STAGE I PEDS"},{categories:["whole_staging_numbers","reason_for_art"],concept_id:7046,name:"WHO STAGE II ADULT"},{categories:["whole_staging_numbers"],concept_id:7042,name:"WHO STAGE II ADULT AND PEDS"},{categories:["whole_staging_numbers","reason_for_art"],concept_id:7050,name:"WHO STAGE II PEDS"},{categories:["whole_staging_numbers","reason_for_art"],concept_id:7047,name:"WHO STAGE III ADULT"},{categories:["whole_staging_numbers"],concept_id:7043,name:"WHO STAGE III ADULT AND PEDS"},{categories:["whole_staging_numbers","reason_for_art"],concept_id:7051,name:"WHO STAGE III PEDS"},{categories:["whole_staging_numbers","reason_for_art"],concept_id:7048,name:"WHO STAGE IV ADULT"},{categories:["whole_staging_numbers"],concept_id:7044,name:"WHO STAGE IV ADULT AND PEDS"},{categories:["whole_staging_numbers","reason_for_art"],concept_id:7052,name:"WHO STAGE IV PEDS"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7548,name:"Cryptococcal meningitis or other extrapulmonary cryptococcosis"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:5340,name:"Candidiasis of oseophagus, trachea and bronchi or lungs"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:1547,name:"Extrapulmonary tuberculosis (EPTB)"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:507,name:"Kaposis sarcoma"},{categories:["stage_3_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:1215,name:"Bacterial pneumonia, severe recurrent"},{categories:["stage_4_conditions_adults","staging_4_conditions","who_staging_conditions"],concept_id:7959,name:"Non-typhoidal Salmonella bacteraemia, recurrent"},{categories:["stage_4_conditions_adults","stage_4_conditions_pedaids","who_staging_conditions","staging_4_conditions"],concept_id:7957,name:"Symptomatic HIV-associated nephropathy or cardiomyopathy"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:2587,name:"Cerebral or B-cell non Hodgkin lymphoma"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:882,name:"Pneumocystis pneumonia"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:5344,name:"Chronic herpes simplex infection (orolabial, gential / anorectal >1 month or visceral at any site)"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7551,name:"Cytomegalovirus infection (retinitis or infection or other organs)"},{categories:["pshd_condition","stage_4_conditions_adults","who_staging_conditions"],concept_id:2583,name:"Toxoplasmosis of the brain"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:2588,name:"Invasive cancer of cervix"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7040,name:"Unspecified stage 4 condition"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:6408,name:"Other"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:1362,name:"HIV encephalopathy"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:2585,name:"Disseminated non-tuberculosis mycobacterial infection"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7549,name:"Cryptosporidiosis, chronic with diarroea"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7956,name:"Isosporiasis >1 month"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7550,name:"Disseminated mycosis (coccidiomycosis or histoplasmosis)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:5046,name:"Progressive multifocal leukoencephalopathy"},{categories:["pshd_condition","stage_4_conditions_pedaids","who_staging_conditions"],concept_id:3068,name:"Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)"},{categories:["who_staging_conditions"],concept_id:2894,name:"Bacterial infections, severe recurrent  (empyema, pyomyositis, meningitis, bone/joint infections but EXCLUDING pneumonia)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7960,name:"Chronic herpes simplex infection (orolabial or cutaneous >1 month or visceral at any site)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7552,name:"Cytomegalovirus infection: rentinitis or other organ (from age 1 month)"},{categories:["pshd_condition","stage_4_conditions_pedaids","who_staging_conditions","staging_4_conditions"],concept_id:5048,name:"Toxoplasmosis of the brain (from age 1 month)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7961,name:"Recto-vaginal fistula, HIV-associated"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","who_staging_conditions"],concept_id:7540,name:"Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","who_staging_conditions"],concept_id:5018,name:"Diarrhoea, chronic (>1 month) unexplained"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:5027,name:"Fever, persistent unexplained, intermittent or constant, >1 month"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:8206,name:"Pulmonary tuberculosis (current)"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:7539,name:"Tuberculosis (PTB or EPTB) within the last 2 years"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:5334,name:"Oral candidiasis"},{categories:["stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7546,name:"Acute necrotizing ulcerative gingivitis or periodontitis"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:2582,name:"Anaemia, unexplained < 8 g/dl"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:7954,name:"Neutropaenia, unexplained < 500 /mm(cubed)"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:7541,name:"Severe bacterial infections (pneumonia, empyema, pyomyositis, bone/joint, meningitis, bacteraemia)"},{categories:["stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7955,name:"Thrombocytopaenia, chronic < 50,000 /mm(cubed)"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:8205,name:"Hepatitis B or C infection"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:5337,name:"Oral hairy leukoplakia"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:7039,name:"Unspecified stage 3 condition"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7543,name:"Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7544,name:"Diarrhoea, persistent unexplained (14 days or more)"},{categories:["pshd_condition","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7545,name:"Oral candidiasis (from age 2 months)"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7547,name:"Lymph node tuberculosis"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:5024,name:"Symptomatic lymphoid interstitial pneumonia"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:2889,name:"Chronic HIV-associated lung disease, including bronchiectasis"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:5332,name:"Moderate weight loss less than or equal to 10 percent, unexplained"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:5012,name:"Respiratory tract infections, recurrent (sinusitis, tonsilitus, otitis media, pharyngitis)"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:2578,name:"Seborrhoeic dermatitis"},{categories:["stage_2_conditions_adults","stage_2_conditions_pedaids","who_staging_conditions"],concept_id:7536,name:"Papular pruritic eruptions / Fungal nail infections"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:836,name:"Herpes zoster"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:2575,name:"Angular cheilitis"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:2576,name:"Oral ulcerations, recurrent"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:7038,name:"Unspecified stage 2 condition"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:7537,name:"Hepatosplenomegaly, persistent unexplained"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:2891,name:"Lineal gingival erythema"},{categories:["anc_diagnosis","stage_2_conditions_pedaids","who_staging_conditions"],concept_id:6775,name:"Wart virus infection, extensive"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:6776,name:"Molluscum contagiosum, extensive"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:1210,name:"Parotid enlargement, persistent unexplained"},{categories:["stage_1_conditions_pedaids","stage_1_conditions_adults","who_staging_conditions"],concept_id:5327,name:"Asymptomatic HIV infection"},{categories:["stage_1_conditions_pedaids","stage_1_conditions_adults","who_staging_conditions"],concept_id:5328,name:"Persistent generalized lymphadenopathy"},{categories:[],concept_id:8426,name:"Radiology Orders"},{name:"Hand x-ray",concept_id:10337},{name:"Foot x-ray",concept_id:10334},{name:"Leg x-ray",concept_id:10342},{name:"Pelvis x-ray",concept_id:10343},{name:"Shoulder x-ray",concept_id:10344},{name:"History of COVID-19 contact",concept_id:10539},{name:"HIV viral load",concept_id:856},{name:"Plasma",concept_id:1002}];class o extends a["e"]{constructor(){super()}static getConceptsByCategory(e,t=!1){const n=c.filter(t=>{try{return t.categories.includes(e)}catch(n){return!1}});return t?n.sort((t,n)=>{try{return t.sortIndex[e]>n.sortIndex[e]?1:0}catch(a){return 0}}):n}static async getConceptSet(e,t=""){const n=await this.getConceptID(e),a=super.getJson("concept_set",{id:n,name:t});if(a)return a}static async getConceptName(e){const t=this.getCachedConceptName(e);return t||this.getConceptNameFromApi(e)}static getConceptID(e,t=!1){try{return this.getCachedConceptID(e,t)}catch(n){return this.getConceptIDFromApi(e)}}static getCachedConceptID(e,t=!1){const n=c.filter(n=>t?n.name.toLowerCase()===e.toLowerCase():n.name.match(new RegExp(e,"i")));return this.resolveConcept(n,e)}static async getConceptIDFromApi(e){const t=await super.getJson("concepts",{name:e});return this.resolveConcept(t,e)}static async getConceptNameFromApi(e){const t=await super.getJson("concepts/"+e);if(t)return t.concept_names[0].name}static getCachedConceptName(e){const t=c.filter(t=>{var n;return"string"===typeof e?(null===(n=t.short)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase():t.concept_id===e});if(t.length>=1)return t[0].name}static resolveConcept(e,t){if(1===e.length)return e[0].concept_id;throw`Concept name ${t} was not found or has a duplicates`}}},"866d":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ade3"),c=n("1c74"),o=n("9283");class i extends c["e"]{constructor(e,t,n,o=c["e"].getSessionDate(),i=c["e"].getProgramID()){super(),Object(a["a"])(this,"startDate",void 0),Object(a["a"])(this,"endDate",void 0),Object(a["a"])(this,"date",void 0),Object(a["a"])(this,"name",void 0),Object(a["a"])(this,"programID",void 0),this.startDate=t,this.endDate=n,this.date=o,this.name=e,this.programID=i}requestReport(e={}){return c["e"].getJson("radiology_reports",{program_id:this.programID,report_name:this.name,start_date:this.startDate,end_date:this.endDate,date:this.date,...e})}periodStr(){const e=e=>o["c"].toStandardHisDisplayFormat(e);return`${e(this.startDate)} - ${e(this.endDate)}`}}},8734:function(e,t,n){"use strict";function a(e){return new Promise(t=>{setTimeout(()=>{t("")},e)})}n.d(t,"a",(function(){return a}))},"89b4":function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return b}));var a,c=n("ade3"),o=(n("d9e2"),n("156d")),i=n("9283"),r=n("9224"),s=n("ad49"),l=n("cc74"),d=n("5a0c"),u=n.n(d),m=n("1c74");class p extends Error{constructor(e){super(),Object(c["a"])(this,"message",void 0),this.message=`Your current API Version of "${e}" does not meet "${r["min-api-version"]}". Contact administrator to update your API Version`}}class h extends Error{constructor(){super(),Object(c["a"])(this,"message",void 0),this.message="Invalid username/password"}}(function(e){e["CORE_VERSION"]="core_version"})(a||(a={}));class b{constructor(){Object(c["a"])(this,"username",void 0),Object(c["a"])(this,"userID",void 0),Object(c["a"])(this,"roles",void 0),Object(c["a"])(this,"token",void 0),Object(c["a"])(this,"programs",void 0),Object(c["a"])(this,"sessionDate",void 0),Object(c["a"])(this,"systemVersion",void 0),Object(c["a"])(this,"coreVersion",void 0),this.token="",this.username="",this.roles=[],this.programs=[],this.userID=-1,this.sessionDate="",this.systemVersion="",this.coreVersion=""}static isLoggedIn(){return!!sessionStorage.apiKey}setUsername(e){this.username=e}async loadConfig(){return o["b"].getFileConfig()}async login(e){const t=await this.requestLogin(e);if(!t)throw"Unable to login";{const{authorization:{token:e,user:n}}=t;this.token=e,this.roles=n.roles,this.programs=n.programs,this.userID=n.user_id,this.sessionDate=await this.getSystemDate(),this.systemVersion=await this.getApiVersion(),this.coreVersion=this.getHeadVersion()}}startSession(){sessionStorage.setItem("apiKey",this.token),sessionStorage.setItem("username",this.username),sessionStorage.setItem("userID",this.userID.toString()),sessionStorage.setItem("userRoles",JSON.stringify(this.roles)),sessionStorage.setItem("userPrograms",JSON.stringify(this.programs)),sessionStorage.setItem("sessionDate",this.sessionDate),sessionStorage.setItem("APIVersion",this.systemVersion),localStorage.setItem(a.CORE_VERSION,this.coreVersion)}passwordPolicyEnabled(){return s["a"].isProp(l["a"].PASSWORD_POLICY_ENABLED+"=true")}async passwordExpired(){const e=await s["a"].get(l["a"].PASSWORD_RESET_INTERVAL);if(!e)return!1;try{const t=await s["a"].getJson("user_properties",{property:l["b"].LAST_PASSWORD_RESET});if(t&&t.property_value){const n=u()(this.sessionDate).diff(t.property_value,"days");return n>=e}}catch(t){if(t instanceof m["c"])return!0;console.error(t)}return!0}resetUserPasswordChangeCheck(){return s["a"].postJson("user_properties",{property:l["b"].LAST_PASSWORD_RESET,property_value:this.sessionDate})}clearSession(){sessionStorage.clear()}requestLogin(e){return this.postLogin("auth/login",{username:this.username,password:e})}async validateIfCorrectAPIVersion(){const e=await this.getApiVersion(),t=(""+e).replace(/^v/,""),n=(""+r["min-api-version"]).replace(/^v/,""),a=t.split("."),c=n.split(".");for(let o=0;o<Math.max(a.length,c.length);o++){const t=parseInt(a[o]||"0"),n=parseInt(c[o]||"0");if(t>n)return!0;if(t<n)throw new p(e)}return!0}async checkTimeIntegrity(){const e=await this.getSystemDate(),t=i["c"].currentDate();if(!e)throw"Unable to fetch server date";return t===e}initDateSync(e=1e3){setInterval(async()=>{const e=await this.getSystemDate();sessionStorage.getItem("apiDate")?sessionStorage.setItem("apiDate",e):sessionStorage.setItem("sessionDate",e)},e)}setActiveVersion(e){return localStorage.setItem(a.CORE_VERSION,e)}getActiveCoreVersion(){return localStorage.getItem(a.CORE_VERSION)}getHeadVersion(){return r["version"]}cachingIsEnabled(){const e=this.getAppConf("dataCaching");return"boolean"!==typeof e||e}versionLockingIsEnabled(){const e=this.getAppConf("enableVersionLocking");return"boolean"!==typeof e||e}getAppConf(e){const t=sessionStorage.getItem("appConf");if(t)try{const n=JSON.parse(t);return n[e]}catch(n){console.error(n)}return null}async getApiVersion(){const e=await this.getJson("version");return e&&e["System version"]?e["System version"]:"-"}async getSystemDate(){const{date:e}=await this.getJson("current_time");return e}async getJson(e){const t=await o["b"].get(e);if(t&&t.ok)return null===t||void 0===t?void 0:t.json()}async postLogin(e,t){const n=await o["b"].post(e,t);if(n){if(n.ok)return n.json();if(401===n.status)throw new h}}}},"8c28":function(e,t,n){},"8df6":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ade3"),c=n("cc6f"),o=n("8158");class i extends c["a"]{constructor(e,t){super(e,5,t),Object(a["a"])(this,"patientType",void 0),Object(a["a"])(this,"locationName",void 0),this.patientType="N/A",this.locationName=""}setLocationName(e){this.locationName=e}setPatientType(e){this.patientType=e}getType(){return this.patientType}static getPatientTypes(){return o["a"].getConceptsByCategory("art_patient_type").map(({name:e})=>({label:e,value:e}))}static async isDrugRefillPatient(e){const t=await c["a"].getFirstValueCoded(e,"Type of patient");return t&&"Emergency supply"===t}async loadPatientType(){const e=await this.getFirstValueCoded("Type of patient");e&&(this.patientType=e)}async save(){await this.savePatientType(this.patientType),this.locationName&&["External consultation","Emergency supply"].includes(this.patientType)&&await this.saveLocationClinic(this.locationName)}saveLocationClinic(e){return this.saveValueTextObs("Art clinic location",e)}savePatientType(e){return this.saveValueCodedObs("Type of patient",e)}}},"8e8b":function(e,t,n){"use strict";var a=n("7a23"),c=n("276d"),o=n("3e53");const i=Object(a["ref"])({}),r=Object(a["ref"])({});t["a"]={async get(e,t={}){var n;const a=(null===(n=o["a"].getActiveApp())||void 0===n?void 0:n.appStore)||c["a"];if(e in a){var s,l;const n=t||{};if("function"===typeof(null===(s=a[e])||void 0===s?void 0:s.canReloadCache)&&null!==(l=a[e])&&void 0!==l&&l.canReloadCache({params:n,state:i.value[e]})){var d;if(!r.value[e])r.value[e]=null===(d=a[e])||void 0===d?void 0:d.get(n);i.value[e]=await r.value[e],r.value[e]=void 0}return i.value[e]}throw`Store ${e} not found`},set(e,t){return i.value[e]=t,i.value[e]},invalidate(e){i.value[e]=void 0},invalidateAll(){Object.keys(i.value).forEach(e=>{i.value[e]=void 0})}}},"8efc":function(e,t,n){"use strict";var a=n("7a23");const c={key:0};function o(e,t,n,o,i,r){const s=Object(a["resolveComponent"])("ion-title"),l=Object(a["resolveComponent"])("ion-toolbar"),d=Object(a["resolveComponent"])("ion-header");return Object(a["openBlock"])(),Object(a["createBlock"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"ion-text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["his-lg-text",e.color])},Object(a["toDisplayString"])(e.title),3),e.subtitle?(Object(a["openBlock"])(),Object(a["createElementBlock"])("h1",c,Object(a["toDisplayString"])(e.subtitle),1)):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1})]),_:1})}var i=n("d867"),r=Object(a["defineComponent"])({components:{IonToolbar:i["IonToolbar"],IonTitle:i["IonTitle"],IonHeader:i["IonHeader"]},props:{title:{type:String,required:!0},subtitle:{type:String},color:{type:String}}}),s=(n("b744"),n("6b0d")),l=n.n(s);const d=l()(r,[["render",o],["__scopeId","data-v-069a3628"]]);var u=d;const m={style:{padding:"10px"}};function p(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("dynamic-nav");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",m,[Object(a["createVNode"])(r,{color:"light",btns:e.btns},null,8,["btns"])])}var h=n("0f25"),b=Object(a["defineComponent"])({components:{DynamicNav:h["a"]},props:{buttons:{type:Array,default:()=>[]}},computed:{btns(){return this.buttons.map(e=>(e.size="large",e.color=e.color||"primary",e.visible=!0,e.styleClass="full-width-ion-btn",e.onClick||(e.onClick=async()=>{await i["modalController"].dismiss({action:e.name})}),e))}}});const g=l()(b,[["render",p]]);var _=g,f=Object(a["defineComponent"])({components:{ActionHeader:u,ActionFooter:_},props:{title:{type:String,required:!0},subtitle:{type:String},actionButtons:{type:Object,required:!0},color:{type:String}}});const k=f;t["a"]=k},"8f12":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}));const a=28,c=5,o=6,i=9,r=52,s=53},9224:function(e){e.exports=JSON.parse('{"name":"HIS-Core","version":"1.0.0-globalemc-beta","min-api-version":"1.0.0","private":true,"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","test:unit":"vue-cli-service test:unit","test:e2e":"vue-cli-service test:e2e","lint":"vue-cli-service lint","postversion":"git push && git push --tags && ionic build"},"dependencies":{"@awesome-cordova-plugins/barcode-scanner":"^5.46.0","@awesome-cordova-plugins/bluetooth-serial":"^5.40.0","@awesome-cordova-plugins/core":"^5.44.0","@awesome-cordova-plugins/pdf-generator":"6.3.0","@capacitor/android":"^5.0.0","@capacitor/core":"^5.0.0","@capacitor/device":"^5.0.0","@capacitor/filesystem":"^5.0.0","@ionic/vue":"^6.7.4","@ionic/vue-router":"^6.7.4","@popperjs/core":"^2.11.7","@types/lodash":"^4.14.170","@uniquedj95/vtable":"^1.5.1","apexcharts":"^3.40.0","caniuse-lite":"^1.0.30001518","capacitor-blob-writer":"^1.1.4","cordova-pdf-generator":"^2.1.1","cordova-plugin-bluetooth-serial":"^0.4.7","core-js":"^3.6.5","dayjs":"^1.10.4","fast-sort":"^3.0.2","fuse.js":"^6.6.2","jspdf":"^2.3.1","jspdf-autotable":"^3.5.20","lodash":"^4.17.21","marked":"^4.0.4","npm":"^8.15.0","nprogress":"^0.2.0","onscan.js":"^1.5.2","phonegap-plugin-barcodescanner":"^8.1.0","rxjs":"^7.6.0","swrv":"^1.0.0-beta.8","tiny-emitter":"^2.1.0","v-calendar":"^3.0.0-alpha.8","vue":"^3.3.4","vue-router":"^4.1.6","vue3-apexcharts":"^1.4.1"},"devDependencies":{"@capacitor/cli":"^5.0.0","@types/jest":"^24.0.19","@types/marked":"^4.0.1","@types/nprogress":"^0.2.0","@types/onscan.js":"^1.5.2","@types/rails__actioncable":"^6.1.6","@typescript-eslint/eslint-plugin":"^5.46.1","@typescript-eslint/parser":"^5.46.1","@vue/cli-plugin-babel":"~4.5.0","@vue/cli-plugin-e2e-cypress":"~4.5.0","@vue/cli-plugin-eslint":"~4.5.0","@vue/cli-plugin-router":"~4.5.0","@vue/cli-plugin-typescript":"~4.5.0","@vue/cli-plugin-unit-jest":"~4.5.0","@vue/cli-service":"4.5.9","@vue/compiler-sfc":"^3.0.0-0","@vue/eslint-config-typescript":"^5.0.2","@vue/test-utils":"^2.0.0-0","cordova-res":"0.15.4","eslint":"^7.32.0","eslint-plugin-vue":"^7.0.0-0","typescript":"^4.9.3","vue-jest":"^5.0.0-0"},"description":"An Ionic project"}')},9283:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n("5a0c"),c=n.n(a);const o="YYYY-MM-DD",i="DD/MMM/YYYY";function r(e,t=s()){const n=new Date(e),a=new Date(t);let c=a.getFullYear()-n.getFullYear();const o=a.getMonth()-n.getMonth();return(o<0||0===o&&a.getDate()<n.getDate())&&c--,c}function s(){return sessionStorage.getItem("sessionDate")||c()().format(o)}function l(){return c()().format(i)}function d(){return c()().format(o)}function u(e,t){return c()(e).diff(t,"days")}function m(e){return c()().diff(e,"years")}function p(e){return c()(e).format("HH:mm")}function h(e){const t=c()(e).format(i);return t.match(/invalid/i)?"":t}function b(e){const t=c()(e).format(o);return t.match(/invalid/i)?"":t}function g(e){const t=c()(s()).subtract(e,"years");return t.format(o)}function _(e){return c()(s()).subtract(e,"years").year()}function f(e){return c()(e).year()}function k(e){return c()(e).format("MMM")}function O(e){return c()(e).date()}function v(e,t,n){return c()(e).add(n,t)}function y(e,t,n){return c()(e).subtract(n,t)}function I(){return c()().year()}function E(){return c()().month()}function T(){return c()().date()}function j(e,t){const n=new Date(e);return n.setDate(n.getDate()-t),b(n)}function N(e){const[t]=g(e).split("-");return parseInt(t)}function C(e,t=-1,n=-1){let a=t.toString(),c=n.toString(),o=e;const i=e=>e.toString().match(/Unknown/i);return parseInt(o.toString())<1900&&(o="1900"),t&&!i(t)||(a="07"),n&&!i(n)||(c="15"),b(`${o}-${a}-${c}`)}function D(e){const t=new Date(e),n=t.getMonth(),a=t.getFullYear();return n<3?{start:a+"-01-01",end:a+"-03-31"}:n<6?{start:a+"-04-01",end:a+"-06-30"}:n<9?{start:a+"-07-01",end:a+"-09-30"}:{start:a+"-10-01",end:a+"-12-31"}}function w(e,t,n){const a=c()(e);return t&&n?a.isSame(t)||a.isAfter(t)&&a.isBefore(n):n?a.isSame(n)||a.isBefore(n):!t||(a.isSame(t)||a.isAfter(t))}t["c"]={currentDate:d,getYearOfAge:N,getYear:f,dateDiffInDays:u,getAgeInYears:m,toStandardHisTimeFormat:p,toStandardHisDisplayFormat:h,currentDisplayDate:l,stitchDate:C,toStandardHisFormat:b,estimateDateFromAge:g,getYearFromAge:_,getCurrentYear:I,getCurrentMonth:E,getCurrentDay:T,getDateBeforeByDays:j,getMonth:k,getDay:O,add:v,subtract:y,getDateQuarter:D,rangeOf:w,calculateAge:r}},"92c1":function(e,t,n){"use strict";var a=n("7a23");function c(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("ion-col"),s=Object(a["resolveComponent"])("ion-row"),l=Object(a["resolveComponent"])("ion-grid");return Object(a["openBlock"])(),Object(a["createBlock"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.computedItems,(t,n)=>(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:n,size:e.grid[e.numberOfColumns]},{default:Object(a["withCtx"])(()=>[Object(a["renderSlot"])(e.$slots,"default",{entries:t})]),_:2},1032,["size"]))),128))]),_:3})]),_:3})}var o=n("d867"),i=n("2ef0"),r=Object(a["defineComponent"])({name:"MultiColumnView",components:{IonGrid:o["IonGrid"],IonRow:o["IonRow"],IonCol:o["IonCol"]},props:{items:{type:Object,required:!0},numberOfColumns:{type:Number,default:1}},setup(e){const t={1:12,2:6,3:4,4:3,6:2},n=Object(a["computed"])(()=>Object(i["chunk"])(e.items,Math.ceil(e.items.length/e.numberOfColumns)));return{computedItems:n,grid:t}}}),s=n("6b0d"),l=n.n(s);const d=l()(r,[["render",c]]);t["a"]=d},"95a0":function(e,t,n){"use strict";n("cf71")},9828:function(e,t,n){"use strict";n("9e32")},"985a":function(e,t,n){"use strict";n("177d")},"9b7c":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("13d5"),n("14d9");var a=n("1c74"),c=n("9283"),o=n("8158"),i=n("7957"),r=n("2ef0"),s=n("5a0c"),l=n.n(s);class d extends a["e"]{constructor(){super()}static create(e){return super.postJson("/lab/orders",e)}static getOrders(e,t={}){return super.getJson("/lab/orders",{patient_id:e,...t})}static async getOrdersIncludingGivenResultStatus(e,t={}){const n=(await this.getOrders(e,t)).map(async e=>{const t={...e,result_given:!1},n=e.tests.filter(e=>null!=e.result).map(e=>e.result).reduce((e,t)=>[...e,...t],[]).reduce((e,t)=>t.id,null);try{t["result_given"]=n?await(await i["a"].get(n)).children.reduce(async(e,t)=>await o["a"].getConceptID("Result Given to Client")===t.concept_id&&"Yes"===await o["a"].getConceptName(t.value_coded)?"Yes":e,"No"):"N/A"}catch(a){console.error(a)}return t});return await Promise.all(n)}static getTestTypes(){return super.getJson("/lab/test_types")}static getTestTypesBySpecimen(e=""){return super.getJson("/lab/test_types",{specimen_type:e})}static getSpecimens(e){return super.getJson("/lab/specimen_types",{test_type:e})}static getVLResults(e){return e.tests.filter(e=>e.name.match(/viral load/i)&&!Object(r["isEmpty"])(e.result)).map(e=>e.result).flat().sort((e,t)=>e.date.getTime()-t.date.getTime())}static getOrdersWithResults(e){return e.filter(e=>{try{const t=e.tests[0].result;return!!Array.isArray(t)&&(e.tests.length>0&&e.tests[0].result.length>0)}catch(t){console.log(t)}})}static async getLatestMalariaTestResult(e,t=this.getSessionDate()){const n=await this.getOrders(e),a=l()(t).subtract(7,"day").format("YYYY-MM-DD"),c=n.filter(e=>{for(const t of e.tests)if(!Object(r["isEmpty"])(t.result)&&t.name.match(/Malaria/i)&&new Date(e.order_date)>new Date(a))return!0;return!1});if(c.length>0){const e=c[0].tests.some(e=>e.result.some(e=>e.value.toString().match(/negative|no/i)));return e?"Negative":"Positive"}return"No"}static isDBSResult(e){return e.match(/DBS/i)}static isValidVLResult(e,t,n){return this.isDBSResult(e)?t.match(/</)&&n.match(/ldl|400|550|839/i)||t.match(/=/)&&parseFloat(n)>=400||">"!==t:t.match(/</)&&n.match(/ldl|20|40|150/i)||t.match(/=/)&&parseFloat(n)>=20}static detectHighVl(e,t){return"="===t&&parseFloat(e)>=1e3||(("<"===t||"&lt"===t)&&parseFloat(e)>1e3||(">"===t||"&gt"===t)&&(parseFloat(e)>=1e3||"LDL"==(""+e).toUpperCase().replace(/\s+/g,"")))}static isHighViralLoadResult(e){var t;return"HIV viral load"===(null===(t=e.indicator)||void 0===t?void 0:t.name)&&d.detectHighVl(e.value,e.value_modifier)}static formatLabs(e){const t=[];for(let n=0;n<e.length;n++){const a=e[n].accession_number,o="Unknown"==e[n].specimen.name?"N/A":e[n].specimen.name,i=e[n].order_date,r=e[n].tests;for(let s=0;s<r.length;s++){const l=r[s].result?r[s].result:[],d=[],u=[];let m="";for(let e=0;e<l.length;e++){m=null===l[e].date?"":""+l[e].date;const t=l[e].indicator.name,n=l[e].value,a=l[e].value_modifier.replace("&lt;","<").replace("&gt;",">");d.push(t+"   "+a+n),u.push(l[e].id)}t.push({encounter_id:e[n].encounter_id,order_id:e[n].order_id,result_given:e[n]["result_given"]||"N/A",accession_number:a,test_name:r[s].name,specimen:o,ordered:i?c["c"].toStandardHisFormat(i):"",result:d,resultIds:u,released:m?c["c"].toStandardHisFormat(m):""})}}return t}static async accessionNumExists(e){const t=await a["e"].getJson("lab/accession_number",{accession_number:e});return t&&t.exists}static buildLabOrders(e,t){return t.map(t=>{const n=o["a"].getCachedConceptID(t.reason,!0),a={accession_number:t.accessionNumber,encounter_id:e.encounter_id,tests:[{concept_id:t.concept_id}],reason_for_test_id:n,target_lab:super.getLocationName(),date:c["c"].toStandardHisFormat(super.getSessionDate()),requesting_clinician:super.getUserName()};return t.specimenConcept&&(a["specimen"]={concept_id:t.specimenConcept}),a})}static saveOrdersArray(e,t){return this.create({encounter_id:e,orders:t})}}},"9c73":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("14d9");var a=n("cc6f"),c=n("9b7c"),o=n("b89f");class i extends a["a"]{constructor(e){super(e,57)}getOrders(e){return c["a"].getOrders(this.patientID,{status:e})}voidOrder(e,t){return c["a"].void("lab/orders/"+e,{reason:t})}updateOrderSpecimen(e,t){return c["a"].putJson("lab/orders/"+e,{specimen:{concept_id:t}})}printSpecimenLabel(e){return(new o["a"]).printLbl("lab/labels/order?order_id="+e)}async placeOrder(e){let t=[];const n=await this.createEncounter();if(!n)throw"Unable to create encounter";const a={encounter_id:n.encounter_id,date:this.date,...e};return a.requesting_clinician||(a["requesting_clinician"]=c["a"].getUserName()),t=e.combine_tests?[a]:a.tests.map(e=>{const t={...a};return t.tests=[e],t}),c["a"].postJson("lab/orders",{orders:t})}static async getSpecimensForTests(e){const t=await Promise.all(e.map(e=>c["a"].getSpecimens(e.name)));return this.getCommonSpecimens(t)}static getCommonSpecimens(e){const t={},n=[];e.forEach(e=>{e.forEach(({name:e,...n})=>{const a={name:e,...n};t[e]?t[e].push(a):t[e]=[a]})});for(const a in t)t[a].length>=e.length&&n.push(t[a][0]);return n}}},"9ceb":function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n("14d9");var a=n("9283"),c=n("0011"),o=n("017e"),i=n("2ef0");function r(e){return"string"!==typeof e?e:Object(c["g"])(e).replace(/,/gi," ").trim()}function s(e,t,n=""){const a=[],c=[],o=e=>"csvMode"===n&&"csvExportable"in e?e.csvExportable||!1:"pdfMode"===n&&"pdfExportable"in e?void 0==e.pdfExportable||e.pdfExportable:("ignorePDFColumnexport"!==n||!("pdfExportable"in e)||!e.pdfExportable)&&("exportable"in e?e.exportable||!1:void 0);for(const i in t){const n=[];t[i].forEach((t,a)=>{const c=e[e.length-1][a];o(c)&&n.push(t.value?r(t.value):r(t.td))}),a.push(n)}for(const s in e){const t=[];e[s].forEach(e=>{o(e)&&t.push(e.value?r(e.value):r(e.th))}),Object(i["isEmpty"])(t)||c.push(t)}return{columns:c,rows:a}}function l(e){const t={th:()=>e.th?e.th:"",td:()=>e.td?e.td:"",value:()=>e.value?e.value:"",sortValue:()=>e.sortValue?e.sortValue:0,type(){return e.type?e.type:"string"},exportable(){return!("exportable"in e)||e.exportable},csvExportable(){return!("csvExportable"in e)||e.csvExportable},pdfExportable(){return"pdfExportable"in e?e.pdfExportable:void 0},sortable(){return!("sortable"in e)||e.sortable},colspan(){return e.colspan?e.colspan:0},cssClass(){return e.cssClass?e.cssClass:0},style(){return e.style?e.style:0},ascSort(){return e.ascSort?e.ascSort:(e,t)=>Object(o["a"])(t).asc(t=>{var n,a;return(null===(n=t[e])||void 0===n?void 0:n.sortValue)||(null===(a=t[e])||void 0===a?void 0:a.td)})},descSort(){return e.descSort?e.descSort:(e,t)=>Object(o["a"])(t).desc(t=>{var n,a;return(null===(n=t[e])||void 0===n?void 0:n.sortValue)||(null===(a=t[e])||void 0===a?void 0:a.td)})}},n={};for(const a in t)n[a]=t[a]();return n}function d(e,t={}){const n=t;return n.th=e,n.type="string",l(n)}function u(e,t={}){const n=t;return n.th=e,n.type="date",l(n)}function m(e,t={}){const n=t;return n.th=e,n.type="number",l(n)}function p(e,t={}){const n={...t};return n.td=Object(c["j"])(e),n.sortValue=parseInt(""+e),n.style={textAlign:"right",paddingRight:".5rem",...n.style},l(n)}function h(e,t={}){const n=t;return n.td=e?a["c"].toStandardHisDisplayFormat(e):"",l(n)}function b(e,t={}){return{td:e,...t}}function g(e,t,n={}){return{td:e,event:{click:t,obj:"link"},...n}}function _(e,t,n={},a=""){const c={td:e,event:{click:t,color:a,obj:"button"}};return n.event&&(c.event={...c.event,...n.event},delete n.event),Object.assign(c,n)}t["a"]={thTxt:d,thNum:m,thDate:u,tdNum:p,td:b,tdBtn:_,tdDate:h,tdLink:g}},"9cfd":function(e,t,n){"use strict";n("1352")},"9df8":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("7a23"),c=n("8e8b");const o=Object(a["ref"])(""),i=Object(a["ref"])(""),r=Object(a["ref"])("");async function s(){const e=await c["a"].get("CURRENT_LOCATION");o.value=e.name,i.value=e.uuid,r.value=e.district,sessionStorage.setItem("locationName",o.value),sessionStorage.setItem("location",o.value),sessionStorage.setItem("siteUUID",i.value)}function l(){return{facilityName:o,facilityUUID:i,district:r,setLocation:s}}},"9e32":function(e,t,n){},"9e49":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("ade3"),c=n("cc6f"),o=n("1c74"),i=n("b89f"),r=n("5a0c"),s=n.n(r),l=n("9283");class d extends c["a"]{constructor(e,t){super(e,32,t),Object(a["a"])(this,"hivStatus",void 0),Object(a["a"])(this,"artStatus",void 0),Object(a["a"])(this,"arvNumber",void 0),Object(a["a"])(this,"arvStartDate",void 0),Object(a["a"])(this,"isSubsequentVisit",void 0),Object(a["a"])(this,"isPregnancyTestDone",void 0),Object(a["a"])(this,"lastHivTestInMonths",void 0),this.lastHivTestInMonths=-1,this.hivStatus="",this.artStatus="",this.arvNumber="",this.arvStartDate="",this.isPregnancyTestDone=!1,this.isSubsequentVisit=!1}getHivStatus(){return this.hivStatus}getArtStatus(){return this.artStatus}getArvNumber(){return this.arvNumber}getArvStartDate(){return this.arvStartDate}isHivPositive(){return!!this.hivStatus.match(/positive/i)}async isAtRiskOfPreEclampsia(){const e=await c["a"].getFirstValueNumber(this.patientID,"Systolic blood pressure"),t=await c["a"].getFirstValueNumber(this.patientID,"Diastolic blood pressure");return e&&t&&e>=140&&t>=90}async loadTimeSinceLastHivTest(){const e=await c["a"].getFirstObs(this.patientID,"HIV status");if(!e)return;const t=s()(e.obs_datetime).format(l["b"]);this.lastHivTestInMonths=s()(this.date).diff(t,"months")}async loadSubsequentVisit(){const e=await o["e"].getJson(`programs/${this.programID}/patients/${this.patientID}/subsequent_visit`,{date:this.date});if(e){if(this.hivStatus=e["hiv_status"],!this.hivStatus){const e=await this.getFirstValueCoded("HIV status");this.hivStatus=(""+e).match(/positive/i)?"Positive":""}this.isSubsequentVisit=e["subsequent_visit"],this.isPregnancyTestDone=e["pregnancy_test"]}}printLabResults(){return(new i["a"]).printLbl(`/programs/${this.programID}/patients/${this.patientID}/labels/lab_results?date=${this.date}`)}async loadArtStatus(){const e=await o["e"].getJson(`programs/${this.programID}/patients/${this.patientID}/art_hiv_status`),t=e["arv_start_date"]||"";t&&s()(this.date).isBefore(t)||e&&(this.hivStatus=e["hiv_status"]||this.hivStatus,this.artStatus=e["art_status"]||"",this.arvNumber=e["arv_number"]||"",this.arvStartDate=e["arv_start_date"]||"")}}},a3a5:function(e,t,n){"use strict";var a=n("7a23");const c={key:0},o={key:0},i=["onClick"],r={key:1},s={key:1},l={key:2},d=["innerHTML"];function u(e,t,n,u,m,p){const h=Object(a["resolveComponent"])("ion-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("table",{class:Object(a["normalizeClass"])(["his-md-text",e.classStyles])},[Object(a["createElementVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.columns,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("th",{key:t},Object(a["toDisplayString"])(e),1))),128))]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.rows,(t,n)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:n},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t,(u,m)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",{class:Object(a["normalizeClass"])(e.getColorCodeClass(n,m)),key:m},[e.isLink(u)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[u.isActive?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("a",{href:"#",onClick:Object(a["withModifiers"])(e=>u.action(t),["prevent"])},Object(a["toDisplayString"])(u.value),9,i)])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r,Object(a["toDisplayString"])(u.value),1))])):e.isActionButton(u)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["createVNode"])(h,{color:(null===u||void 0===u?void 0:u.color)||"primary",style:Object(a["normalizeStyle"])(u.style),onClick:e=>u.action(t)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(u.name),1)]),_:2},1032,["color","style","onClick"])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("span",{innerHTML:u},null,8,d)]))],2))),128))]))),128))],2)}var m=n("2ef0"),p=n("d867"),h=Object(a["defineComponent"])({components:{IonButton:p["IonButton"]},props:{styles:{type:Array},rowColors:{type:Array,default:()=>[]},cellColors:{type:Array,default:()=>[]},columns:{type:Object,required:!0},rows:{type:Object}},computed:{classStyles(){const e=this.styles?this.styles.join(" "):"";return"his-table "+e}},methods:{isLink(e){try{return"object"===typeof e&&"link"===e.type}catch(t){return e}},isActionButton(e){try{return"object"===typeof e&&"button"===e.type}catch(t){return e}},getColorCodeClass(e,t){let n="";if(!Object(m["isEmpty"])(this.rowColors)){const t=this.rowColors.filter(t=>t.indexes.includes(e));Object(m["isEmpty"])(t)||(n+=" "+t[0].class)}if(!Object(m["isEmpty"])(this.cellColors)){const a=this.cellColors.filter(n=>n.index===t&&n.row===e);Object(m["isEmpty"])(a)||(n+=" "+a[0].class)}return n}}}),b=n("6b0d"),g=n.n(b);const _=g()(h,[["render",u]]);t["a"]=_},ad49:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1c74");class c extends a["e"]{constructor(){super()}static async get(e){try{const t=await super.getJson("global_properties",{property:e});if(t&&e in t)return t[e]}catch(t){console.error(t)}}static async isProp(e){try{const[t,n]=e.split("="),a=await this.get(t);if(a)return n===a}catch(t){console.error(t)}return!1}static set(e,t){return super.postJson("global_properties",{property:e,property_value:t})}}},ad60:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("1c74"),c=n("2b3a"),o=n("d867"),i=n("156d");class r extends a["e"]{constructor(){super()}static getAllPrograms(){return super.getJson("programs",{page_size:1e3})}static getPatientPrograms(e){return super.getJson(`patients/${e}/programs`)}static getPatientVLInfo(e){const t=super.getProgramID();return super.getJson(`programs/${t}/patients/${e}/vl_info`,{date:this.getSessionDate()})}static getProgramWorkflows(e){return super.getJson(`programs/${e}/workflows`)}static getPatientStates(e,t){return super.getJson(`programs/${t}/patients/${e}/states`)}static voidProgram(e,t=""){return super.void(`patient_programs/${e}/`,{reason:t})}static createState(e,t,n){return super.postJson(`programs/${t}/patients/${e}/states`,n)}static voidState(e,t,n,a=""){return super.void(`programs/${t}/patients/${e}/states/${n}`,{reason:a})}static async getProgramInformation(e){try{const t=await super.getJson(`/programs/${super.getProgramID()}/patients/${e}`);return t}catch(t){return{}}}static getCurrentProgramInformation(e,t){return super.getJson(`/programs/${super.getProgramID()}/patients/${e}/visit?date=${t}`)}static getMastercardDrugInformation(e,t){return super.getJson(`/programs/${super.getProgramID()}/patients/${e}/mastercard_data?date=${t}`)}static getNextTask(e){return super.getJson(`/workflows/${super.getProgramID()}/${e}`,{date:super.getSessionDate()})}static getNextSuggestedARVNumber(){return super.getJson("/programs/1/next_available_arv_number")}static voidARVNumber(e){return i["b"].post("/programs/1/void_arv_number/"+e,{})}static getFastTrackStatus(e){return super.getJson("/on_fast_track",{person_id:e,date:super.getSessionDate()})}static createPatient(e){return super.postJson("/patients/",{program_id:super.getProgramID(),person_id:e})}static enrollPatient(e){return super.postJson(`/patients/${e}/programs`,{program_id:super.getProgramID(),date_enrolled:super.getSessionDate()})}static enrollProgram(e,t,n){return super.postJson(`/patients/${e}/programs`,{program_id:t,date_enrolled:n})}static getWeightForHeightValues(){return super.getJson("/patient_weight_for_height_values")}static async selectApplication(){const e=await o["modalController"].create({component:c["a"],cssClass:"my-custom-class",backdropDismiss:!1,componentProps:{appVersion:a["e"].getFullVersion()}});return e.present(),e}}},ad8d:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n("5969");const c=["<1 year","1-4 years","5-9 years","10-14 years","15-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50-54 years","55-59 years","60-64 years","65-69 years","70-74 years","75-79 years","80-84 years","85-89 years","90 plus years"];class o extends a["a"]{constructor(){super()}getBookedAppointments(e){return a["a"].getJson(`programs/${this.programID}/scheduled_appointments`,{date:e})}getViralLoadResults(e){return this.getReport(`/programs/${this.programID}/reports/high_vl_patients`,{range:e})}getOtherOutcome(e){return this.getReport("patient_outcome_list",{outcome:e})}getPatientVisitTypes(){return this.getReport("patient_visit_types")}getClientsDueForVl(){return this.getReport("clients_due_vl")}getClientRentention(){return this.getReport(`/programs/${this.programID}/reports/retention`)}getExternalConsultationClients(){return this.getReport(this.programID+"/external_consultation_clients")}getMissedAppointments(){return this.getReport("missed_appointments")}getPregnantWomen(){return this.getReport(`/programs/${this.programID}/reports/pregnant_patients`)}getArchivingCandidates(){return a["a"].getJson(`programs/${this.programID}/reports/archiving_candidates`,{start_date:this.date})}getIncompleteVisits(){return this.getReport("incomplete_visits",{tool_name:"INCOMPLETE VISITS"})}getVisitStats(){return a["a"].getJson(`programs/${this.programID}/reports/visits`,{name:"visits",start_date:this.startDate,end_date:this.endDate})}}},aee2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{static async getBMIData(){const e=await fetch("/bmi.json");return e.json()}static async getBMIResult(e,t,n){let a={result:"",color:"",index:n};if(n<=0)return a.index=0,a;if(t<5&&t>0)a.result="Use MUAC to calculate nutrition status",a.color="red";else{t>18&&(t=19);const c=await this.getBMIData(),o=c[e][t];o&&(a=this.buildBounds(Object.keys(o),o,n,c.colors))}return a}static buildBounds(e,t,n,a){const c={result:"",color:"",index:n};return e.forEach(e=>{if(e.indexOf("-")>=0){const o=e.split("-");n>=parseFloat(o[0])&&n<=parseFloat(o[1])&&(c.result=t[e],c.color=a[t[e]])}else if(e.indexOf("<")>=0){const o=e.replace("<","");n<parseFloat(o)&&(c.result=t[e],c.color=a[t[e]])}else if(e.indexOf(">=")>=0){const o=e.replace(">=","");n>=parseFloat(o)&&(c.result=t[e],c.color=a[t[e]])}}),c}static getBMI(e,t,n,a){const c=this.calculateBMI(e,t);return this.getBMIResult(n,a,c)}static calculateBMI(e,t){if(0==t||0==e)return 0;let n=e/t/t*1e4;return Math.round(10*n)/10}}},afbc:function(e,t,n){"use strict";var a=n("bec5"),c=n("7a23");const o=e=>(Object(c["pushScopeId"])("data-v-c6402bc2"),e=e(),Object(c["popScopeId"])(),e),i=["src"],r={class:"tool-bar-medium-card"},s={class:"tool-bar-medium-card"},l={class:"his-sm-text tool-bar-medium-content"},d=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),u=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),m=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),p={key:0},h={key:0,id:"container",class:"his-card overview"},b={key:0};function g(e,t,n,a,o,g){const _=Object(c["resolveComponent"])("ion-title"),f=Object(c["resolveComponent"])("ion-thumbnail"),k=Object(c["resolveComponent"])("ion-buttons"),O=Object(c["resolveComponent"])("ion-toolbar"),v=Object(c["resolveComponent"])("barcode-input"),y=Object(c["resolveComponent"])("ion-col"),I=Object(c["resolveComponent"])("ion-label"),E=Object(c["resolveComponent"])("program-icon"),T=Object(c["resolveComponent"])("ion-row"),j=Object(c["resolveComponent"])("ion-header"),N=Object(c["resolveComponent"])("ion-icon"),C=Object(c["resolveComponent"])("ion-segment-button"),D=Object(c["resolveComponent"])("ion-segment"),w=Object(c["resolveComponent"])("home-folder"),S=Object(c["resolveComponent"])("home-notification"),A=Object(c["resolveComponent"])("ion-content"),P=Object(c["resolveComponent"])("ion-button"),R=Object(c["resolveComponent"])("ion-footer"),V=Object(c["resolveComponent"])("ion-page");return Object(c["openBlock"])(),Object(c["createBlock"])(V,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(j,{translucent:!0},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(O,{class:"mobile-component-view"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(_,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.facilityName),1)]),_:1}),Object(c["createVNode"])(k,{slot:"end"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(f,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("img",{src:e.appLogo,class:"logo",alt:"App Logo"},null,8,i)]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(O,{class:"full-component-view"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(T,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(v,{onOnScan:e.onBarcode,size:"small"},null,8,["onOnScan"])])]),_:1}),Object(c["createVNode"])(y,{size:"5"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("span",null,[Object(c["createTextVNode"])("Facility name: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.facilityName),1)]),Object(c["createTextVNode"])(),d,Object(c["createElementVNode"])("span",null,[Object(c["createTextVNode"])("Location: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.userLocation),1)]),u,Object(c["createElementVNode"])("span",null,[Object(c["createTextVNode"])("User: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.userName),1),Object(c["createTextVNode"])(" | Date: "),Object(c["createVNode"])(I,{color:e.isBDE?"danger":"success"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.sessionDate),1)]),_:1},8,["color"])]),m])])]),_:1}),Object(c["createVNode"])(y,{size:"3"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(E,{app:e.app,icon:e.appLogo,version:e.appVersion},null,8,["app","icon","version"])]),_:1})]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(D,{scrollable:"",value:e.activeTab.toString(),class:"ion-justify-content-center"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(C,{value:"1",onClick:t[0]||(t[0]=t=>e.onSegmentClick(1))},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.statsChart},null,8,["icon"]),Object(c["createVNode"])(I,{class:"his-sm-text"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Overview ")]),_:1})]),_:1}),e.canReport?(Object(c["openBlock"])(),Object(c["createBlock"])(C,{key:0,value:"2",onClick:t[1]||(t[1]=t=>e.onSegmentClick(2))},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.pieChart},null,8,["icon"]),Object(c["createVNode"])(I,{class:"his-sm-text"},{default:Object(c["withCtx"])(()=>[e.showSegmentBackArrow&&2===e.activeTab?(Object(c["openBlock"])(),Object(c["createBlock"])(N,{key:0,icon:e.arrowBack},null,8,["icon"])):Object(c["createCommentVNode"])("",!0),Object(c["createTextVNode"])(" Reports ")]),_:1})]),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(C,{value:"3",onClick:t[2]||(t[2]=t=>e.onSegmentClick(3))},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.settings},null,8,["icon"]),Object(c["createVNode"])(I,{class:"his-sm-text"},{default:Object(c["withCtx"])(()=>[e.showSegmentBackArrow&&3===e.activeTab?(Object(c["openBlock"])(),Object(c["createBlock"])(N,{key:0,icon:e.arrowBack},null,8,["icon"])):Object(c["createCommentVNode"])("",!0),Object(c["createTextVNode"])(" Administration ")]),_:1})]),_:1}),Object(c["createVNode"])(C,{value:"4",onClick:t[3]||(t[3]=t=>e.onSegmentClick(4))},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{color:e.hasUnreadNotifications?"danger":"",icon:e.notifications},null,8,["color","icon"]),Object(c["createVNode"])(I,{color:e.hasUnreadNotifications?"danger":"",class:"his-sm-text"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Alerts "),e.hasUnreadNotifications?(Object(c["openBlock"])(),Object(c["createElementBlock"])("b",p,"("+Object(c["toDisplayString"])(e.notificationCount)+")",1)):Object(c["createCommentVNode"])("",!0)]),_:1},8,["color"])]),_:1})]),_:1},8,["value"])]),_:1}),Object(c["createVNode"])(A,{fullscreen:!0},{default:Object(c["withCtx"])(()=>[e.ready?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",h,[Object(c["withDirectives"])(Object(c["createElementVNode"])("div",null,[(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])(e.appOverview)))],512),[[c["vShow"],1==e.activeTab]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(w,{onOnSublist:t[4]||(t[4]=t=>e.showSegmentBackArrow=!0),items:e.appReports,resetList:e.resetReport},null,8,["items","resetList"])],512),[[c["vShow"],2==e.activeTab]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(w,{onOnSublist:t[5]||(t[5]=t=>e.showSegmentBackArrow=!0),items:e.app.globalPropertySettings,resetList:e.resetAdmin},null,8,["items","resetList"])],512),[[c["vShow"],3==e.activeTab]]),4==e.activeTab?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",b,[Object(c["createVNode"])(S)])):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0)]),_:1}),Object(c["createVNode"])(R,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(T,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(P,{class:"xl-button mobile-component-view",color:"danger",onClick:e.signOut},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.logOut},null,8,["icon"])]),_:1},8,["onClick"]),Object(c["createVNode"])(P,{class:"xl-button full-component-view",color:"danger",size:"large",onClick:e.signOut},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.logOut},null,8,["icon"]),Object(c["createVNode"])(I,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Logout ")]),_:1})]),_:1},8,["onClick"])]),_:1}),Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])(()=>[e.canFindByIdentifier?(Object(c["openBlock"])(),Object(c["createBlock"])(P,{key:0,class:"xl-button mobile-component-view",color:"primary","router-link":"/patients/search/id"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.search},null,8,["icon"])]),_:1})):Object(c["createCommentVNode"])("",!0),e.canFindByIdentifier?(Object(c["openBlock"])(),Object(c["createBlock"])(P,{key:1,class:"xl-button full-component-view",color:"primary",size:"large","router-link":"/patients/search/id"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.search},null,8,["icon"]),Object(c["createVNode"])(I,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Find By ")]),_:1})]),_:1})):Object(c["createCommentVNode"])("",!0)]),_:1}),Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(P,{class:"xl-button mobile-component-view",color:"primary","router-link":"/patient/registration"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.person},null,8,["icon"])]),_:1}),Object(c["createVNode"])(P,{class:"xl-button full-component-view",color:"primary",size:"large","router-link":"/patient/registration"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.person},null,8,["icon"]),Object(c["createVNode"])(I,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Find or Register ")]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(P,{class:"xl-button mobile-component-view",color:"primary",onClick:e.openModal},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.apps},null,8,["icon"])]),_:1},8,["onClick"]),Object(c["createVNode"])(P,{class:"xl-button full-component-view",color:"primary",size:"large",onClick:e.openModal},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(N,{icon:e.apps},null,8,["icon"]),Object(c["createVNode"])(I,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Applications ")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}n("14d9");var _=n("3e53"),f=n("9283"),k=n("1c74"),O=n("89b4"),v=n("cc74"),y=n("3f31"),I=n("1718"),E=n("ff79"),T=n("d867"),j=n("2ed9"),N=n("b5e4"),C=n("6605"),D=n("8e8b"),w=n("efaf"),S=n("23e6"),A=n("8f12"),P=n("2ef0"),R=(n("33d1"),n("ea98"),n("0011"));function V(e){var t;const n=null===(t=e.split("<"))||void 0===t||null===(t=t.at(-1))||void 0===t?void 0:t.split("~");if(n&&n.length>=6)return{gender:n[5],birthdate:n[6],nationalIDStatus:"true",malawiNationalID:n[2],given_name:Object(R["k"])(n[3]),family_name:Object(R["k"])(n[1])}}var x=n("ad49"),F=n("03d7"),L=n("9df8"),B=Object(c["defineComponent"])({name:"Home",components:{IonTitle:T["IonTitle"],IonThumbnail:T["IonThumbnail"],IonIcon:T["IonIcon"],IonContent:T["IonContent"],IonHeader:T["IonHeader"],IonPage:T["IonPage"],IonButtons:T["IonButtons"],IonToolbar:T["IonToolbar"],IonRow:T["IonRow"],IonCol:T["IonCol"],IonButton:T["IonButton"],IonFooter:T["IonFooter"],IonSegment:T["IonSegment"],IonSegmentButton:T["IonSegmentButton"],IonLabel:T["IonLabel"],BarcodeInput:w["a"],ProgramIcon:Object(c["defineAsyncComponent"])(()=>n.e("chunk-78f8f262").then(n.bind(null,"111c"))),HomeFolder:Object(c["defineAsyncComponent"])(()=>n.e("chunk-bfca2108").then(n.bind(null,"ce5d"))),HomeNotification:Object(c["defineAsyncComponent"])(()=>n.e("chunk-f0a76acc").then(n.bind(null,"b61c")))},setup(){const e=Object(C["i"])(),{activePlatformProfile:t}=Object(j["e"])(),{facilityName:n}=Object(L["a"])();x["a"].get(v["a"].INACTIVITY_TIMEOUT).then(e=>{const t=parseInt(e||"0");F["a"].configureTimeout(t),F["a"].resetInactivityTimer()});const a=async t=>{if(t.length>30&&await D["a"].get("IS_MW_NATIONAL_ID_SCANNER_ENABLED")){const n=V(t);if(!n)return;const a=await S["a"].findByOtherID(A["d"],n.malawiNationalID);if(Object(P["isEmpty"])(a))return e.push({path:"/patient/registration",query:n});e.push({path:"/patients/confirm",query:{person_id:a[0]["patient_id"]}})}t.length>4&&e.push("/patients/confirm?patient_barcode="+t)},{notificationData:c,notificationCount:o,hasUnreadNotifications:i}=Object(y["a"])();return{hasUnreadNotifications:i,notificationData:c,notificationCount:o,notifications:E["notifications"],apps:E["apps"],person:E["person"],search:E["search"],logOut:E["logOut"],statsChart:E["statsChart"],pieChart:E["pieChart"],arrowBack:E["arrowBack"],settings:E["settings"],activePlatformProfile:t,facilityName:n,onBarcode:a}},data(){return{app:{},userLocation:"",sessionDate:"",userName:"",appVersion:"",activeTab:1,ready:!1,overviewComponent:{},isBDE:!1,showSegmentBackArrow:!1,resetReport:0,resetAdmin:0}},computed:{appOverview(){return this.app.homeOverviewComponent},appLogo(){return Object(I["a"])(this.app.applicationIcon)},appReports(){return this.app.programReports?this.app.programReports:[]},appAdministration(){return this.app.globalPropertySettings?this.app.globalPropertySettings:[]},canFindByIdentifier(){return!!this.app.programPatientIdentifiers},canReport(){return!!this.app.programReports}},methods:{onSegmentClick(e){this.activeTab=e,2===this.activeTab?this.resetReport+=1:3===this.activeTab&&(this.resetAdmin+=1),this.showSegmentBackArrow=!1,D["a"].set("ACTIVE_HOME_TAB",this.activeTab)},loadNotifications(){Object(y["a"])().loadNotifications(this.app)},loadApplicationData(){this.ready=!0,this.isBDE=!0===k["e"].isBDE(),this.userLocation=sessionStorage.userLocation,this.userName=sessionStorage.username,this.sessionDate=f["c"].toStandardHisDisplayFormat(k["e"].getSessionDate()),this.appVersion=k["e"].getFullVersion()},async openModal(){const e=await _["a"].selectApplication("HomePage");if("boolean"===typeof(null===e||void 0===e?void 0:e.isPocApp)&&!e.isPocApp){if("string"===typeof e.appLandingPage)return this.$router.push(e.appLandingPage);Object(N["e"])(e.applicationName+" is not a POC App",1e5)}e&&(this.app=e,this.activeTab=1,this.loadApplicationData(),this.loadNotifications())},async signOut(){const e=await Object(N["a"])("Are you sure you want to logout ?");if(!e)return;const t=new O["a"];try{if(D["a"].invalidateAll(),await v["c"].portalEnabled()){const e=await v["c"].portalProperties();window.location=e}else this.$router.push("/login")}catch(n){console.warn(""+n)}F["a"].clearScreenTimeout(),t.clearSession()}},async created(){this.activeTab=await D["a"].get("ACTIVE_HOME_TAB"),this.loadNotifications()},async mounted(){await _["a"].doAppManagementTasks();const e=_["a"].getActiveApp();e?(this.app=e,this.loadApplicationData()):this.openModal()}}),M=(n("9828"),n("6b0d")),H=n.n(M);const U=H()(B,[["render",g],["__scopeId","data-v-c6402bc2"]]);var G=U,$=n("f768");const z=[...Object($["a"])(),{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:G},{path:"/settings/screen_timeout",name:"Screen timeout settings",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-391f1f76")]).then(n.bind(null,"c2a5"))},{path:"/password_policy",name:"Password policy",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-b3734ea4")]).then(n.bind(null,"3af3"))},{path:"/npid/duplicates/:npid",name:"NPID Duplicates",component:()=>n.e("chunk-2d0b66fc").then(n.bind(null,"1cc7"))},{name:"Merge rollback",path:"/merge/rollback/:id",component:()=>n.e("chunk-a279802a").then(n.bind(null,"8eed"))},{name:"View Duplicates",path:"/view_duplicates",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-53509df8")]).then(n.bind(null,"7bdc"))},{path:"/example/desktop",name:"Desktop Example",component:()=>n.e("chunk-fb4800b8").then(n.bind(null,"a01a"))},{name:"Multiple Identifiers",path:"/multiple_identifiers",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-4142dbbe")]).then(n.bind(null,"68f7"))},{name:"Update site location",path:"/location/update/site",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-3611e052")]).then(n.bind(null,"07a9"))},{name:"Update site location",path:"/location/update/site",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-3611e052")]).then(n.bind(null,"07a9"))},{name:"Update site code",path:"/location/update/code",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-73b04d9a")]).then(n.bind(null,"2867"))},{path:"/login",name:"Login",component:()=>n.e("chunk-a8b63e72").then(n.bind(null,"7101"))},{path:"/session/date",name:"Session Date",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-219fabcf")]).then(n.bind(null,"e8ff"))},{path:"/users/usage",name:"User system usage",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-33a1adc6")]).then(n.bind(null,"0964"))},{path:"/print/location",name:"Print Location",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-53cfcf77")]).then(n.bind(null,"6439"))},{path:"/select_hc_location",name:"HC Location",component:()=>n.e("chunk-611999d8").then(n.bind(null,"c85f"))},{path:"/patient/dashboard/:id",name:"Patient Dashboard",component:()=>n.e("chunk-255e30c6").then(n.bind(null,"5906"))},{path:"/patient/registration",name:"Patient Registration",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2012b2dd"),n.e("chunk-20db0db6")]).then(n.bind(null,"8d15"))},{path:"/guardian/registration/:patient_id",name:"Guardian Registration",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2012b2dd"),n.e("chunk-896be914")]).then(n.bind(null,"0a4b"))},{path:"/example",name:"Example",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-73da6e08")]).then(n.bind(null,"f3c2"))},{path:"/patients/search/id",name:"ID Search",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-337918c0"),n.e("chunk-c876a562")]).then(n.bind(null,"4d5a"))},{path:"/patients/confirm",name:"Patient confirmation",component:()=>n.e("chunk-43f02195").then(n.bind(null,"3171"))},{path:"/patients/merge",name:"Patient Merging",component:()=>n.e("chunk-39414c6b").then(n.bind(null,"7fcd"))},{path:"/patient/programs/:patient_id",name:"Program(s)",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-011d5b96")]).then(n.bind(null,"357c"))},{path:"/preferences",name:"Preferences",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-a729b7d6")]).then(n.bind(null,"829a"))},{path:"/user",name:"User",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-7f9f344f")]).then(n.bind(null,"5e8a"))},{path:"/settings/host",name:"API host settings",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-e9acffa4")]).then(n.bind(null,"f49b"))},{path:"/settings/printer",name:"Printer settings",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-337918c0"),n.e("chunk-6fa354be")]).then(n.bind(null,"cb7c"))},{path:"/lab/results/:patient_id",name:"Lab Results",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-1df7bbcc")]).then(n.bind(null,"188c"))},{path:"/portal/config",name:"Portal settings",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-027d3d90")]).then(n.bind(null,"027b"))}],J=Object(a["a"])({history:Object(a["b"])("/"),routes:z});J.beforeEach((e,t,n)=>{T["loadingController"].getTop().then(e=>e?T["loadingController"].dismiss():null),T["modalController"].getTop().then(e=>e?T["modalController"].dismiss():null),T["alertController"].getTop().then(e=>e?T["alertController"].dismiss():null),T["toastController"].getTop().then(e=>e?T["toastController"].dismiss():null),T["popoverController"].getTop().then(e=>e?T["popoverController"].dismiss():null);const a=sessionStorage.getItem("apiKey")||!1,c=sessionStorage.getItem("isPocSite")||"";if("/home"===e.fullPath&&/true|false/i.test(c)&&"false"===c&&a)return void(document.location="/emc/dashboard");const o=["/login","/settings/host","/emc/settings/network_settings"];a||o.includes(e.path)||n("/login"),n()});t["a"]=J},b152:function(e,t,n){"use strict";n("7d08")},b5e4:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return k}));var a=n("d867"),c=n("7a23");const o={class:"vertically-align ion-padding-horizontal"};function i(e,t,n,a,i,r){const s=Object(c["resolveComponent"])("action-header"),l=Object(c["resolveComponent"])("ion-content"),d=Object(c["resolveComponent"])("action-footer");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["withDirectives"])(Object(c["createVNode"])(s,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),[[c["vShow"],e.title||e.subtitle]]),Object(c["createVNode"])(l,{style:{"text-align":"center"}},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("h2",o,Object(c["toDisplayString"])(e.body),1)]),_:1}),Object(c["createVNode"])(d,{buttons:e.actionButtons},null,8,["buttons"])],64)}var r=n("8efc"),s=Object(c["defineComponent"])({mixins:[r["a"]],props:{body:{type:String,require:!0}}}),l=n("6b0d"),d=n.n(l);const u=d()(s,[["render",i]]);var m=u;async function p(e,t="primary",n=2e3){const c=await a["toastController"].create({message:e,position:"top",animated:!0,duration:n,color:t,cssClass:"his-md-text",keyboardClose:!0,buttons:[{side:"end",icon:"close",role:"cancel"}]});return c.present()}function h(e,t=2e3){return p(e,"warning",t)}function b(e,t=1e3){return p(e,"success",t)}function g(e,t=2e3){return p(e,"danger",t)}function _(e,t="",n=[]){return a["modalController"].create({component:m,backdropDismiss:!1,cssClass:"small-modal custom-modal-backdrop",componentProps:{subtitle:t,body:e,actionButtons:n}})}async function f(e,t={}){const n=await _(e,t.header||"Confirmation",[{name:t.cancelBtnLabel||"No",size:"large",slot:"start",color:"danger",visible:!0,role:"Cancel",onClick:({role:e})=>a["modalController"].dismiss(e)},{name:t.confirmBtnLabel||"Yes",size:"large",slot:"end",color:"success",visible:!0,role:"Confirm",onClick:({role:e})=>a["modalController"].dismiss(e)}]);n.present();const{data:c}=await n.onDidDismiss();return"Confirm"===c}async function k(e,t="Information"){const n=await _(e,t,[{name:"OK",size:"large",slot:"end",color:"success",visible:!0,role:"Confirm",onClick:()=>a["modalController"].dismiss()}]);n.present()}},b744:function(e,t,n){"use strict";n("bfda")},b89f:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("d9e2"),n("14d9");var a=n("1c74"),c=n("b5e4"),o=n("0ba8"),i=n("0a15"),r=n("7f35"),s=n("5a0c"),l=n.n(s),d=n("2ef0"),u=n("1547");const m=Object(u["d"])("LabelPrinter",{web:()=>n.e("chunk-2d21db89").then(n.bind(null,"d304")).then(e=>new e.LabelPrinterWeb)});var p=n("323e"),h=n.n(p);class b extends a["e"]{constructor(){super()}async _print(e){var t;const n=await a["e"].getText(e);if(!n)throw"Unable to print Label. Try again later";let c=await this.getDefaultPrinter();if(Object(d["isEmpty"])(c)&&(c=await this.selectDefaultPrinter()),Object(d["isEmpty"])(c))throw new Error("No printer device found");return"USB"===(null===(t=c)||void 0===t?void 0:t.port)?m.write({deviceID:c.deviceID,rawString:n,url:e}):this.printToBluetoothDevice(c,n)}async batchPrintLbls(e,t=!0){t&&o["b"].emit(o["a"].SHOW_MODAL,"zebra-modal");const n=[];for(const c of e)try{await this._print(c)}catch(a){n.push(a)}t&&await b.delay(2e3),n.length>0&&await Object(c["e"])(n.filter((e,t,n)=>n.indexOf(e)===t).join(),3e3)}async printLbl(e,t=!0){try{t&&o["b"].emit(o["a"].SHOW_MODAL,"zebra-modal"),await this._print(e),t&&await b.delay(2e3)}catch(n){Object(c["e"])(n)}}async printLocation(e){await this.printLbl("labels/location?location_id="+e)}async printDrug(e,t){await this.printLbl(`drugs/${e}/barcode?quantity=${t}`)}async getDefaultPrinter(){const e=localStorage.getItem("defaultPrinter");try{return e&&JSON.parse(e)}catch(t){Object(c["e"])(""+t)}}async getUsbPrinters(){try{const{devices:e}=await m.discover();return e.map(e=>({deviceID:e,name:e,port:"USB"}))}catch(e){console.log(e)}return[]}async getBluetoothPrinters(){try{const e=await i["a"].list();return e.map(e=>({deviceID:e.name,name:`${e.name} (${e.address})`,port:"BLUETOOTH",address:e.address}))}catch(e){console.log(e)}return[]}async getAllPrinters(){h.a.start();const e=await this.getUsbPrinters(),t=await this.getBluetoothPrinters();return h.a.done(),[...e,...t]}async selectDefaultPrinter(){let e=void 0;const t=await this.getAllPrinters();if(0!==t.length){if(t.every(e=>"webPrinter"===e.deviceID)&&(e=t[0]),Object(d["isEmpty"])(e)){const n=await Object(r["c"])("Select Printer","Please, select default printer",t.map(e=>e.name||e.deviceID),[{name:"Cancel",slot:"start",color:"danger"},{name:"Continue",slot:"end",role:"action"}]);if("Cancel"===n.action)return;e=t.find(e=>e.name===n.selection||e.deviceID===n.selection)}return e&&this.setDefaultPrinter(e),e}Object(c["e"])("No printers found. Please connect a printer or make sure a bluetooth printer is paired")}setDefaultPrinter(e){Object(d["isEmpty"])(e)||localStorage.setItem("defaultPrinter",JSON.stringify(e))}async printTestLbl(e){const t=`\nN\nq801\nQ329,026\nZT\nB50,180,0,1,5,15,120,N,"Barcode"\nA35,30,0,2,2,2,N,""\nA35,76,0,2,2,2,N,"Test Label Printing"\nA35,122,0,2,2,2,N,"Date: ${l()().format("DD/MMM/YYYY")}"\nP1\n`;try{return o["b"].emit(o["a"].SHOW_MODAL,"zebra-modal"),"USB"===(null===e||void 0===e?void 0:e.port)?m.write({deviceID:e.deviceID,rawString:t}):this.printToBluetoothDevice(e,t)}catch(n){Object(c["e"])(""+n)}}printToBluetoothDevice(e,t){i["a"].connect((null===e||void 0===e?void 0:e.address)||"").subscribe(async()=>{i["a"].write(t).catch(e=>Object(c["e"])(e)).finally(()=>i["a"].disconnect())},e=>Object(c["e"])(e))}}},bc66:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="bc66"},bdcb:function(e,t,n){"use strict";n("69c8")},bef6:function(e,t,n){"use strict";function a(e){let t="";for(const[n,a]of Object.entries(e))t+=`${n}=${a}&`;return t}t["a"]={parameterizeObjToString:a}},bfda:function(e,t,n){},c1e4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1c74");class c extends a["e"]{constructor(){super()}static getCurrentUser(){const e=a["e"].getUserID();if(e)return this.getUserByID(e)}static getUserByID(e){return this.getJson("users/"+e)}static createUser(e){return this.postJson("users",e)}static updateUser(e,t){return this.putJson("users/"+e,t)}static activateUser(e){return this.postJson(`users/${e}/activate`,{})}static deactivateUser(e){return this.postJson(`users/${e}/deactivate`,{})}static isAdmin(){const e=super.getUserRoles().filter(e=>e.role.match(/Program Manager|Superuser|System Developer/i));return e.length>0}static isDataManager(){return super.getUserRoles().some(({role:e})=>e.match(/data manager|Superuser/i))}static isNurse(){const e=super.getUserRoles().filter(e=>e.role.match(/Nurse/i));return e.length>0}static isDoctor(){const e=super.getUserRoles().filter(e=>e.role.match(/Doctor/i));return e.length>0}static isClinician(){const e=super.getUserRoles().filter(e=>e.role.match(/Clinician/i));return e.length>0}static getAllUsers(e={}){return this.getJson("users",{page_size:100,...e})}static getAllRoles(){return this.getJson("roles",{page_size:100})}static getUsers(){return super.getJson("users",{role:"Provider"})}static getSystemUsageByUsers(e,t){return super.getJson("user_system_usage",{start_date:e,end_date:t,program_id:super.getProgramID(),date:super.getSessionDate()})}}},c54c:function(e,t,n){},cc6f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("ade3"),c=n("7957"),o=n("ec2a"),i=n("8158");class r extends c["a"]{constructor(e,t,n=-1){super(),Object(a["a"])(this,"encounterTypeID",void 0),Object(a["a"])(this,"programID",void 0),Object(a["a"])(this,"encounterID",void 0),Object(a["a"])(this,"providerID",void 0),Object(a["a"])(this,"patientID",void 0),Object(a["a"])(this,"date",void 0),this.encounterTypeID=t,this.patientID=e,this.encounterID=0,this.date=c["a"].getSessionDate(),this.providerID=n,this.programID=c["a"].getProgramID()}getDate(){return this.date}setDate(e){this.date=e}setEncounterID(e){this.encounterID=e}getEncounterID(){return this.encounterID}getFirstValueCoded(e){return r.getFirstValueCoded(this.patientID,e,this.date)}getFirstValueNumber(e){return r.getFirstValueNumber(this.patientID,e,this.date)}getFirstValueDatetime(e){return r.getFirstValueDatetime(this.patientID,e,this.date)}async buildObs(e,t){const n={...t,person_id:this.patientID,obs_datetime:this.date};return n["concept_id"]=await i["a"].getConceptID(e),"string"===typeof t.value_coded&&(n["value_coded"]=await i["a"].getConceptID(t.value_coded)),n}buildValueText(e,t){return r.buildValueText(e,t,this.date)}buildValueCoded(e,t){return r.buildValueCoded(e,t,this.date)}buildGroupValueCoded(e,t,n){return r.buildGroupValueCoded(e,t,n,this.date)}buildValueCodedFromConceptId(e,t){return r.buildValueCodedFromConceptId(e,t,this.date)}buildValueNumber(e,t,n=null,a=null){return r.buildValueNumber(e,t,n,a,this.date)}buildValueDate(e,t){return r.buildValueDate(e,t,this.date)}buildValueDateEstimated(e,t){return this.buildObs(e,{value_datetime:t,value_text:"Estimated"})}buildDateObs(e,t,n){return/unknown/i.test(t)?this.buildValueText(e,"Unknown"):n?this.buildValueDateEstimated(e,t):this.buildValueDate(e,t)}async saveObservationList(e){return c["a"].saveObsArray(this.encounterID,e)}async saveValueTextObs(e,t){const n=await c["a"].buildValueText(e,t);return this.saveObs(n)}async saveValueCodedObs(e,t){const n=await c["a"].buildValueCoded(e,t);return this.saveObs(n)}async saveValueNumericObs(e,t,n=null){const a=await c["a"].buildValueNumber(e,t,n);return this.saveObs(a)}async saveValueDatetimeObs(e,t){const n=await c["a"].buildValueDate(e,t,c["a"].getSessionDate());return this.saveObs(n)}async createEncounter(){const e={encounter_type_id:this.encounterTypeID,patient_id:this.patientID,encounter_datetime:this.date};-1!=this.providerID&&(e["provider_id"]=this.providerID);const t=await o["a"].create(e);if(t)return this.encounterID=t.encounter_id,await this.saveValueTextObs("Workstation location",c["a"].getUserLocation()||"Unknown"),t}saveObs(e){return r.saveObs(this.encounterID,e)}}},cc74:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a,c,o=n("ad49");function i(){return o["a"].isProp(c.DDE_ENABLED+"=true")}function r(){return o["a"].isProp(c.MALAWI_NATIONAL_ID_SCANNER_ENABLED+"=true")}function s(){return o["a"].isProp(c.MILITARY_SITE+"=true")}function l(){return o["a"].isProp(c.PORTAL_ENABLED+"=true")}function d(){return o["a"].get(c.SITE_UUID)}function u(){return o["a"].get(c.SITE_PREFIX)}function m(){return o["a"].get(c.PORTAL_PROPERTIES)}function p(){return o["a"].get(c.HEALTH_CENTER_ID)}function h(e){return o["a"].set(c.HEALTH_CENTER_ID,e)}function b(){return o["a"].get(c.SITE_PREFIX)}function g(e){return o["a"].set(c.SITE_UUID,e)}function _(e){return o["a"].set(c.SITE_PREFIX,e)}function f(e){return o["a"].set(c.PORTAL_PROPERTIES,e)}function k(e){return o["a"].set(c.PORTAL_ENABLED,""+e)}(function(e){e["LAST_PASSWORD_RESET"]="last_password_reset"})(a||(a={})),function(e){e["PASSWORD_POLICY_ENABLED"]="password_policy_enabled",e["PASSWORD_RESET_INTERVAL"]="password_reset_interval",e["MILITARY_SITE"]="military_site",e["HEALTH_CENTER_ID"]="current_health_center_id",e["SITE_PREFIX"]="site_prefix",e["SITE_UUID"]="site_uuid",e["PORTAL_ENABLED"]="portal.enabled",e["PORTAL_PROPERTIES"]="portal.properties",e["DDE_ENABLED"]="dde_enabled",e["MALAWI_NATIONAL_ID_SCANNER_ENABLED"]="malawi.nationalID.scanner.enabled",e["INACTIVITY_TIMEOUT"]="inactivity_timeout"}(c||(c={})),t["c"]={setHealthCenterID:h,sitePrefix:u,siteUUID:d,portalProperties:m,ddeEnabled:i,militarySiteEnabled:s,healthCenterID:p,siteCode:b,portalEnabled:l,setSitePrefix:_,setPortalIP:f,setPortalEnabled:k,setSiteUUID:g,malawiNationalIDScannerEnabled:r}},cd49:function(e,t,n){"use strict";n.r(t);var a=n("7a23");function c(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("modal-container"),s=Object(a["resolveComponent"])("full-screen-notice"),l=Object(a["resolveComponent"])("update-notification"),d=Object(a["resolveComponent"])("emc-layout"),u=Object(a["resolveComponent"])("ion-router-outlet"),m=Object(a["resolveComponent"])("connection-error"),p=Object(a["resolveComponent"])("ion-app");return Object(a["openBlock"])(),Object(a["createBlock"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(r,{onModalDismissed:t[0]||(t[0]=t=>e.activeModal=""),modalName:e.activeModal},null,8,["modalName"]),e.checkFullScreen?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0})):Object(a["createCommentVNode"])("",!0),e.checkForUpdates?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:1})):Object(a["createCommentVNode"])("",!0),e.useEMCLayout?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:2})):(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:e.$route.fullPath})),!e.apiOk&&e.notConfigPage?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:4})):Object(a["createCommentVNode"])("",!0)]),_:1})}n("14d9");var o=n("d867"),i=n("156d"),r=n("0ba8"),s=n("b5e4"),l=n("6605"),d=(n("a5d8"),n("323e")),u=n.n(d),m=n("afbc"),p=n("89b4"),h=n("1c74");const b=e=>(Object(a["pushScopeId"])("data-v-704fc2f8"),e=e(),Object(a["popScopeId"])(),e),g=["src"],_=b(()=>Object(a["createElementVNode"])("b",null,"EMC Version: ",-1)),f=b(()=>Object(a["createElementVNode"])("br",null,null,-1)),k=b(()=>Object(a["createElementVNode"])("b",null,"API Version: ",-1)),O={style:{"font-size":"20px"}};function v(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("ion-thumbnail"),s=Object(a["resolveComponent"])("ion-label"),l=Object(a["resolveComponent"])("ion-item"),d=Object(a["resolveComponent"])("ion-toolbar"),u=Object(a["resolveComponent"])("ion-header"),m=Object(a["resolveComponent"])("multi-level-menu"),p=Object(a["resolveComponent"])("ion-content"),h=Object(a["resolveComponent"])("ion-footer"),b=Object(a["resolveComponent"])("ion-menu"),v=Object(a["resolveComponent"])("ion-menu-button"),y=Object(a["resolveComponent"])("ion-buttons"),I=Object(a["resolveComponent"])("ion-title"),E=Object(a["resolveComponent"])("ion-icon"),T=Object(a["resolveComponent"])("ion-button"),j=Object(a["resolveComponent"])("ion-router-outlet"),N=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(b,{"menu-id":"app-menu","content-id":"main-content",type:"overlay"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{class:"toolbar-size"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(l,{lines:"none"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(r,{slot:"start"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("img",{src:e.logo,class:"logo",alt:"Master card logo"},null,8,g)]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("E-MASTERCARD ")]),_:1})]),_:1}),Object(a["createVNode"])(s,{class:"ion-margin-start"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.description),1)]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(a["KeepAlive"],null,[Object(a["createVNode"])(m,{items:e.menuItems},null,8,["items"])],1024))]),_:1}),Object(a["createVNode"])(h,{class:"ion-padding-vertical ion-padding-start",color:"primary"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[_,Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.emcVersion),1)]),_:1}),f,Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[k,Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.apiVersion),1)]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(N,{id:"main-content"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{class:"toolbar-size"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(y,{slot:"start"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{"auto-hide":""})]),_:1}),Object(a["createVNode"])(I,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.facilityName),1)]),_:1}),Object(a["createVNode"])(y,{slot:"end",size:"large"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(T,{onClick:e.showAuthUserMenu,style:{"text-transform":"none"}},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",O,Object(a["toDisplayString"])(e.user),1),Object(a["createVNode"])(E,{icon:e.caretDown,class:"ion-margin-start"},null,8,["icon"])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,{style:{"padding-top":"4rem !important"}},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(j,{class:"ion-padding",style:{overflow:"auto"},key:e.$route.fullPath}))]),_:1})]),_:1})],64)}var y=n("3e53"),I=n("1718"),E=n("c1e4"),T=n("ff79");const j=[{title:"Dashboard",id:"dashboard",url:"/emc/home",icon:T["speedometer"]},{title:"Search/ Create client",id:"search",url:"/emc/search",icon:T["search"]},{title:"Reports",id:"reports",icon:T["pieChart"],children:[{title:"MoH Reports",id:"moh_reports",img:"login-logos/Malawi-Coat_of_arms_of_arms.png",children:[{title:"Cohort",id:"emc_moh_cohort",img:"reports/cohort.png",url:"/emc_moh_cohort"},{title:"Regimen",id:"emc_moh_regimen",img:"reports/stats.png",url:"/emc_moh_regimen"},{title:"Cohort Disagreggated",id:"emc_moh_cohort_disaggregated",img:"reports/split.png",url:"/emc_moh_cohort_disaggregated"},{title:"Survival analysis",id:"emc_moh_survival_analysis",img:"reports/refill.png",url:"/emc_moh_survival_analysis"},{title:"Viral load",id:"emc_moh_viral_load",img:"reports/vl.png",url:"/emc_moh_viral_load"},{title:"Regimen distribution by Weight",id:"emc_moh_regimen_distribution_weight",img:"reports/electronics.png",url:"/emc_moh_regimen_distribution_weight"},{title:"TX CURR MMD",id:"emc_moh_tx_curr_mmd",img:"reports/px.png",url:"/emc_moh_tx_curr_mmd"},{title:"TPT new initiation",id:"emc_moh_tpt_initiation",img:"reports/new_initiation.png",url:"/emc_moh_tpt_initiation"},{title:"TPT Cohort",id:"emc_moh_tpt_cohort",img:"reports/cohort.png",url:"/emc_moh_tpt_cohort"}]},{title:"PEPFAR Reports",id:"pepfar_reports",img:"login-logos/PEPFAR.png",children:[{title:"PEPFAR Disagreggated Report",id:"emc_pepfar_disaggregated",img:"reports/split.png",url:"/emc_pepfar_disaggregated"},{title:"Defaulter List",id:"emc_pepfar_defaulter",img:"reports/defaulter-list.png",url:"/emc_pepfar_defaulters"},{title:"TX CURR MMD",id:"emc_pepfar_tx_curr_mmd",img:"reports/px.png",url:"/emc_pepfar_tx_curr_mmd"},{title:"TX ML",id:"emc_pepfar_tx_ml",img:"reports/tx-ml.png",url:"/emc_pepfar_tx_ml"},{title:"TX RTT",id:"emc_pepfar_tx_rtt",img:"reports/restart.png",url:"/emc_pepfar_tx_rtt"},{title:"TB Prev",id:"emc_pepfar_tb_prev",img:"reports/previous.png",url:"/emc_pepfar_tb_prev"},{title:"VL coverage",id:"emc_pepfar_vl_coverage",img:"reports/viral_load.png",url:"/emc_pepfar_vl_coverage"},{title:"SC ARVDISP",id:"emc_pepfar_sc_arvdisp",img:"reports/previous.png",url:"/emc_pepfar_sc_arvdisp"},{title:"TX TB",id:"emc_pepfar_tx_tb",img:"reports/tb.png",url:"/emc_pepfar_tx_tb"},{title:"TX New",id:"emc_pepfar_tx_new",img:"reports/px.png",url:"/emc_pepfar_tx_new"}]},{title:"Clinic Reports",id:"clinic_reports",img:"reports/clinic.png",children:[{title:"Clinic appointments",id:"emc_clinic_appointments",img:"reports/appointments.png",url:"/emc_clinic_appointments"},{title:"Defaulter list",id:"emc_clinic_defaulters",img:"reports/defaulter-list.png",url:"/emc_clinic_defaulters"},{title:"Missed appointments",id:"emc_clinic_missed_appointments",img:"reports/appointment-missed.png",url:"/emc_clinic_missed_appointments"},{title:"Regimen dispensation",id:"emc_clinic_regimen_dispensation",img:"reports/regimen-give.png",url:"/emc_clinic_regimen_dispensation"},{title:"Regimen switch",id:"emc_clinic_regimen_switch",img:"reports/regimen-switch.png",url:"/emc_clinic_regimen_switch"},{title:"Regimens and formulation - patient level",id:"emc_clinic_regimen_formulation",img:"reports/medical.png",url:"/emc_clinic_regimen_formulation"},{title:"Pregnant Patients",id:"emc_clinic_preganant_patients",img:"reports/pregnant.png",url:"/emc_clinic_pregnant_patients"},{title:"Incomplete visits",id:"emc_clinic_incomplete_visits",img:"reports/refill.png",url:"/emc_clinic_incomplete_visits"},{title:"Clients due for VL",id:"emc_clinic_clients_due_for_vl",img:"reports/viral_load.png",url:"/emc_clinic_clients_due_for_vl"},{title:"TPT Outcomes",id:"emc_clinic_tpt_outcomes",img:"reports/stats.png",url:"/emc_clinic_tpt_outcomes"},{title:"TX RTT",id:"emc_clinic_clinic_tx_rtt",img:"reports/restart.png",url:"/emc_clinic_tx_rtt"},{title:"Clinic Retention",id:"emc_clinic_retention",img:"reports/retention.png",url:"/emc_clinic_retention"},{title:"Viral Load",id:"emc_viral_load_report",img:"reports/vl.png",url:"/emc_viral_load_report"},{title:"Other Outcomes",id:"emc_other_outcomes",img:"reports/defaulter-list.png",url:"/emc_other_outcomes"},{title:"Lab Test(s) Results",id:"emc_lab_results",img:"reports/lab-results.png",url:"/emc_lab_results"}]}]},{title:"Data Management",id:"data_management",icon:T["archive"],children:[{title:"Data Cleaning",id:"emc_data_cleaning",img:"clean.jpg",url:"/emc_data_cleaning"},{title:"Patient Merging",id:"emc_patient_merging",img:"merge.png",url:"/emc_patient_merging"},{title:"Patient Visit Stats",id:"emc_patient_visit_stats",img:"reports/line-chart.png",url:"/emc_patient_visit_stats"},{title:"Data Cleaning Verificaton",id:"emc_cleaning_verification",img:"Checkmark.svg",url:"/emc_cleaning_verification"},{title:"System usage report",id:"emc_system_usage_report",icon:T["barChart"],url:"/emc_system_usage",condition:()=>E["a"].isAdmin()}]},{title:"Users",id:"users",url:"/emc/users",icon:T["people"],condition(){return E["a"].isAdmin()}},{title:"Settings",id:"settings",icon:T["settings"],condition:()=>E["a"].isAdmin(),children:[{title:"Site Settings",id:"site_settings",img:"location.png",url:"/emc/settings/site_settings"},{title:"Network Settings",id:"network_settings",img:"portal.png",url:"/emc/settings/network_settings"}]}];function N(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("ion-label"),s=Object(a["resolveComponent"])("ion-item"),l=Object(a["resolveComponent"])("ion-list"),d=Object(a["resolveComponent"])("ion-content");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{class:"ion-padding"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{button:"",onClick:e.userProfile},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(r,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("Profile")]),_:1})]),_:1},8,["onClick"]),Object(a["createVNode"])(s,{lines:"none",button:"",onClick:e.signOut},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(r,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("Logout")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})}var C=n("cc74"),D=Object(a["defineComponent"])({name:"AuthUserMenu",components:{IonContent:o["IonContent"],IonList:o["IonList"],IonItem:o["IonItem"],IonLabel:o["IonLabel"]},setup(){const e=Object(l["i"])(),t=async()=>{await o["popoverController"].dismiss(),e.push("/emc/profile")},n=async()=>{await o["popoverController"].dismiss();const t=await Object(s["a"])("Are you sure you want to logout ?");if(t)if((new p["a"]).clearSession(),await C["c"].portalEnabled()){const e=await C["c"].portalProperties();window.location=e}else e.push("/login")};return{signOut:n,userProfile:t}}}),w=n("6b0d"),S=n.n(w);const A=S()(D,[["render",N]]);var P=A;const R={class:"custom-side-menu"},V=["src"],x=["src"],F=["src"],L=["src"],B=["src"];function M(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("ion-icon"),s=Object(a["resolveComponent"])("ion-label"),l=Object(a["resolveComponent"])("ion-item"),d=Object(a["resolveComponent"])("router-link"),u=Object(a["resolveComponent"])("ion-menu-toggle"),m=Object(a["resolveComponent"])("ion-list");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",R,[Object(a["createVNode"])(m,{class:"accordion-menu"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.menuList,t=>(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:t.id},[e.showItem(t)?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[t.children?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createVNode"])(l,{button:"",detail:"","detail-icon":t.isExpanded?e.chevronDown:e.chevronForward,class:"header",onClick:()=>t.isExpanded=!t.isExpanded},{default:Object(a["withCtx"])(()=>[t.img?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",{key:0,src:e.img(t.img),class:"ion-margin-end icon"},null,8,x)):Object(a["createCommentVNode"])("",!0),t.icon?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:1,slot:"start",icon:t.icon},null,8,["icon"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.title),1)]),_:2},1024)]),_:2},1032,["detail-icon","onClick"]),Object(a["createElementVNode"])("div",{style:Object(a["normalizeStyle"])({height:t.isExpanded?e.optionHeight*(e.getActiveChildrens(t)+e.activeChildrenLength)+"px":"0px"}),class:"options"},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t.children,t=>(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:t.id},[e.showItem(t)?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[t.children?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createVNode"])(l,{button:"",detail:"","detail-icon":t.isExpanded?e.chevronDown:e.chevronForward,style:{paddingLeft:"16px"},class:"header",onClick:n=>e.toggle(t)},{default:Object(a["withCtx"])(()=>[t.img?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",{key:0,src:e.img(t.img),class:"ion-margin-end icon"},null,8,L)):Object(a["createCommentVNode"])("",!0),t.icon?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:1,slot:"start",icon:t.icon},null,8,["icon"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.title),1)]),_:2},1024)]),_:2},1032,["detail-icon","onClick"]),Object(a["createElementVNode"])("div",{style:Object(a["normalizeStyle"])({height:t.isExpanded?e.optionHeight*t.children.length+"px":"0px"}),class:"options"},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t.children,t=>(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:t.id},[e.showItem(t)?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,"auto-hide":"true"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{to:t.url||"#"},{default:Object(a["withCtx"])(({isActive:n,isExactActive:c})=>[Object(a["createVNode"])(l,{button:"",color:n&&c?"primary":"",style:{paddingLeft:"32px"}},{default:Object(a["withCtx"])(()=>[t.img?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",{key:0,src:e.img(t.img),class:"ion-margin-end icon"},null,8,B)):Object(a["createCommentVNode"])("",!0),t.icon?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:1,icon:t.icon,slot:"start"},null,8,["icon"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.title),1)]),_:2},1024)]),_:2},1032,["color"])]),_:2},1032,["to"])]),_:2},1024)):Object(a["createCommentVNode"])("",!0)],64))),128))],4)],64)):(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,"auto-hide":"true"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{to:t.url||"#"},{default:Object(a["withCtx"])(({isActive:n,isExactActive:c})=>[Object(a["createVNode"])(l,{button:"",color:n&&c?"primary":"",style:{paddingLeft:"16px"}},{default:Object(a["withCtx"])(()=>[t.img?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",{key:0,src:e.img(t.img),class:"ion-margin-end icon"},null,8,F)):Object(a["createCommentVNode"])("",!0),t.icon?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:1,icon:t.icon,slot:"start"},null,8,["icon"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.title),1)]),_:2},1024)]),_:2},1032,["color"])]),_:2},1032,["to"])]),_:2},1024))],64)):Object(a["createCommentVNode"])("",!0)],64))),128))],4)],64)):(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,"auto-hide":"true"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{to:t.url||"#"},{default:Object(a["withCtx"])(({isActive:n,isExactActive:c})=>[Object(a["createVNode"])(l,{button:"",color:n&&c?"primary":""},{default:Object(a["withCtx"])(()=>[t.img?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",{key:0,src:e.img(t.img),class:"ion-margin-end icon"},null,8,V)):Object(a["createCommentVNode"])("",!0),t.icon?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:1,icon:t.icon,slot:"start"},null,8,["icon"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.title),1)]),_:2},1024)]),_:2},1032,["color"])]),_:2},1032,["to"])]),_:2},1024))],64)):Object(a["createCommentVNode"])("",!0)],64))),128))]),_:1})])}var H=Object(a["defineComponent"])({name:"MultiLevelMenu",props:{items:{type:Array,default:()=>[]}},components:{IonItem:o["IonItem"],IonList:o["IonList"],IonLabel:o["IonLabel"],IonIcon:o["IonIcon"],IonMenuToggle:o["IonMenuToggle"]},setup(e){const t=Object(a["ref"])(50),n=Object(a["ref"])(0),c=Object(a["ref"])([...e.items]),o=e=>"function"===typeof e.condition?e.condition():!1!==e.condition,i=e=>{var t;return(null===(t=e.children)||void 0===t?void 0:t.filter(e=>o(e)).length)||0},r=e=>{e.isExpanded=!e.isExpanded,n.value=e.isExpanded?i(e):0};return{activeChildrenLength:n,optionHeight:t,menuList:c,chevronDown:T["chevronDown"],chevronForward:T["chevronForward"],toggle:r,showItem:o,getActiveChildrens:i,img:I["a"]}}});n("e43c");const U=S()(H,[["render",M],["__scopeId","data-v-2a29e4df"]]);var G=U,$=n("9df8"),z=Object(a["defineComponent"])({name:"Layout",components:{IonPage:o["IonPage"],IonContent:o["IonContent"],IonItem:o["IonItem"],IonMenu:o["IonMenu"],IonTitle:o["IonTitle"],IonThumbnail:o["IonThumbnail"],IonButtons:o["IonButtons"],IonButton:o["IonButton"],IonToolbar:o["IonToolbar"],IonHeader:o["IonHeader"],IonMenuButton:o["IonMenuButton"],IonLabel:o["IonLabel"],IonIcon:o["IonIcon"],MultiLevelMenu:G,IonRouterOutlet:o["IonRouterOutlet"]},setup(){const{facilityName:e}=Object($["a"])(),t=Object(a["ref"])(""),n=Object(a["ref"])(y["a"].getActiveApp()),c=Object(a["computed"])(()=>{var e;return Object(I["a"])((null===(e=n.value)||void 0===e?void 0:e.applicationIcon)||"")}),i=Object(a["computed"])(()=>{var e;return(null===(e=n.value)||void 0===e?void 0:e.applicationDescription)||""}),r=h["e"].getCoreVersion(),s=h["e"].getApiVersion(),l=async e=>{const t=await o["popoverController"].create({component:P,cssClass:"my-class",event:e,translucent:!0});t.present()};return Object(a["onMounted"])(async()=>{t.value=await h["e"].getUserName()}),{menuItems:j,logo:c,caretDown:T["caretDown"],showAuthUserMenu:l,facilityName:e,user:t,description:i,emcVersion:r,apiVersion:s}}});n("e216");const J=S()(z,[["render",v],["__scopeId","data-v-704fc2f8"]]);var Y=J,W=n("03d7"),q=Object(a["defineComponent"])({name:"App",components:{IonApp:o["IonApp"],EmcLayout:Y,IonRouterOutlet:o["IonRouterOutlet"],ModalContainer:Object(a["defineAsyncComponent"])(()=>n.e("chunk-2d22d5a8").then(n.bind(null,"f6ac"))),FullScreenNotice:Object(a["defineAsyncComponent"])(()=>n.e("chunk-4932b33e").then(n.bind(null,"5282"))),ConnectionError:Object(a["defineAsyncComponent"])(()=>n.e("chunk-7c8aec08").then(n.bind(null,"ef86"))),UpdateNotification:Object(a["defineAsyncComponent"])(()=>n.e("chunk-1e82d964").then(n.bind(null,"76bd")))},setup(){const e=Object(a["ref"])(!0),t=Object(l["h"])(),n=Object(a["ref"])(!0),c=Object(a["ref"])(null),d=Object(a["ref"])(!1),b=Object(a["ref"])(!0),g=Object(a["ref"])(!1),_=new p["a"],f=Object(a["ref"])("");return _.initDateSync(36e5),Object($["a"])().setLocation(),W["a"].initiateSystemIdleMonitor(),"boolean"===typeof _.getAppConf("promptFullScreenDialog")&&(d.value=_.getAppConf("promptFullScreenDialog")),"boolean"===typeof _.getAppConf("showUpdateNotifications")&&(b.value=_.getAppConf("showUpdateNotifications")),u.a.configure({easing:"ease",speed:330,trickleSpeed:8}),Object(a["watch"])(t,e=>{n.value="API host settings"!=e.name&&"DT API host settings"!=e.name,g.value=!h["e"].isPocSite()&&"Login"!==e.name&&"DT API host settings"!==e.name||!h["e"].isPocSite()&&"DT API host settings"===e.name&&p["a"].isLoggedIn()},{immediate:!0}),Object(a["watch"])(c,t=>{e.value=!t}),r["b"].on(r["a"].SHOW_MODAL,e=>f.value=e),r["b"].on(i["a"].BEFORE_API_REQUEST,()=>u.a.start()),r["b"].on(i["a"].AFTER_API_REQUEST,async e=>{if(c.value){clearInterval(c.value),c.value=null;const e=await Object(s["a"])("Do you want to refresh the page?",{header:"API connection is back"});e&&location.reload()}e&&401===e.status&&"Login"!=t.name&&m["a"].push("/login"),u.a.done()}),r["b"].on(i["a"].ON_API_CRASH,()=>{c.value||(o["loadingController"].dismiss(),c.value=setInterval(()=>{"API host settings"!=t.name&&i["b"].healthCheck()},2500),Object(s["e"])("Unable to reach api. You can fix the error below")),u.a.done()}),{apiOk:e,checkForUpdates:b,activeModal:f,notConfigPage:n,checkFullScreen:d,useEMCLayout:g}}});const Q=S()(q,[["render",c]]);var X=Q;n("4b63"),n("4041"),n("51ef"),n("a237"),n("e09e"),n("46e5"),n("98b6"),n("2d22"),n("66b0"),n("ce1f"),n("7fa1"),n("1eb2"),n("2fdd"),n("6460"),n("8c28"),n("b2c4"),n("09c5");const K=Object(a["createApp"])(X).use(o["IonicVue"]).use(m["a"]);m["a"].isReady().then(()=>{K.mount("#app")})},cd5b:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("ad49");function o(){return c["a"].isProp(a.MALARIA_FEATURE+"=true")}function i(){return c["a"].isProp(a.LIFE_THREATENING_QUESTIONS+"=true")}function r(){return c["a"].isProp(a.COMPLAINTS_BEFORE_DIAGNOSIS+"=true")}function s(){return c["a"].isProp(a.COMPLAINTS_BEFORE_DIAGNOSIS+"=true")}function l(){return c["a"].isProp(a.SOCIAL_DETERMINATES_QUESTIONS+"=true")}function d(){return c["a"].isProp(a.SOCIAL_HISTORY_QUESTIONS+"=true")}function u(){return c["a"].isProp(a.TRIAGE_CATEGORY_QUESTIONS+"=true")}function m(){return c["a"].isProp(a.VITALS_BEFORE_DIAGNOSIS+"=true")}function p(){return c["a"].isProp(a.POINT_OF_CARE_SYSTEM+"=true")}function h(){return c["a"].isProp(a.SHARE_DATABASE_WITH_BART2+"=true")}function b(){return c["a"].isProp(a.SHOW_LAB_RESULTS+"=true")}function g(){return c["a"].isProp(a.SHOW_TASKS_BUTTON_ON_PATIENT_DASHBOARD+"=true")}function _(){return c["a"].isProp(a.SHOW_COLUMN_PRESCRIPTION_INTERFACE+"=true")}function f(e){return c["a"].set(a.SET_TOP_10_DIAGNOSIS,e)}function k(e){return c["a"].set(a.SET_TOP_10_DRUGS,e)}function O(){return c["a"].get(a.SET_TOP_10_DIAGNOSIS)}function v(){return c["a"].get(a.SET_TOP_10_DRUGS)}function y(e){return c["a"].set(a.PACS_ENABLED,""+e)}function I(){return c["a"].isProp(a.PACS_ENABLED+"=true")}(function(e){e["MALARIA_FEATURE"]="aetc.malaria_feature",e["LIFE_THREATENING_QUESTIONS"]="aetc.life_threatening_questions",e["COMPLAINTS_BEFORE_DIAGNOSIS"]="aetc.complaints_before_diagnosis",e["COMPLAINTS_UNDER_VITALS"]="aetc.complaints_under_vitals",e["SOCIAL_DETERMINATES_QUESTIONS"]="aetc.social_determinates_questions",e["SOCIAL_HISTORY_QUESTIONS"]="aetc.history_questions",e["TRIAGE_CATEGORY_QUESTIONS"]="aetc.category_questions",e["VITALS_BEFORE_DIAGNOSIS"]="aetc.before_diagnosis",e["CONFIRM_PATIENT_CREATION"]="aetc.confirm_patient_creation",e["MANAGE_ROLES"]="aetc.manage_roles",e["POINT_OF_CARE_SYSTEM"]="aetc.point_of_care_system",e["SHARE_DATABASE_WITH_BART2"]="aetc.share_database_with_bart2",e["SHOW_LAB_RESULTS"]="aetc.show_lab_results",e["SHOW_TASKS_BUTTON_ON_PATIENT_DASHBOARD"]="aetc.show_tasks_button_on_patient_dashboard",e["SHOW_COLUMN_PRESCRIPTION_INTERFACE"]="aetc.show_column_prescription_interface",e["SET_TOP_10_DIAGNOSIS"]="aetc.set_top_10_diagnosis",e["SET_TOP_10_DRUGS"]="aetc.set_top_10_drugs",e["PACS_ENABLED"]="enable_pacs"})(a||(a={})),t["b"]={malariaFeatureEnabled:o,lifeThreateningQuestionEnabled:i,complaintsBeforeDiagnosisEnabled:r,complaintsUnderVitalsEnabled:s,socialDeterminatesQuestionEnabled:l,socialHistoryQuestionEnabled:d,triageCategoryQuestionEnabled:u,vitalsBeforeQuestionEnabled:m,pointOfCareSystemEnabled:p,sharesDatabaseWithBartEnabled:h,showLabResultsEnabled:b,showTaskButtonOnPatientDashboardEnabled:g,showColumnPrescriptionInterfaceEnabled:_,setTopTenDiagnosis:f,setTopTenDrugs:k,topTenDiagnosis:O,topTenDrugs:v,enablePACs:y,isPACsEnabled:I}},cd81:function(e,t,n){},cf71:function(e,t,n){},d1ca:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("ad49");async function o(){const e=await c["a"].get(a.CAN_SCAN_DBS_BARCODE);return!e||"true"===e}function i(){return c["a"].get(a.TARGET_LAB)}function r(){return c["a"].isProp(a.CERVICAL_CANCER_SCREENING+"=true")}function s(){return c["a"].isProp(a.VL_ROUTINE_CHECK+"=true")}function l(){return c["a"].isProp(a.FAST_TRACK+"=true")}function d(){return c["a"].isProp(a.THREE_HP_AUTO_SELECT+"=true")}function u(){return c["a"].isProp(a.EXTENDED_LABS+"=true")}function m(){return c["a"].isProp(a.FILING_NUMBERS+"=true")}function p(){return c["a"].isProp(a.DRUG_MANAGEMENT+"=true")}function h(){return c["a"].get(a.HTN_SYSTOLIC_THRESHOLD)}function b(){return c["a"].get(a.HTN_DIASTOLIC_THRESHOLD)}function g(){return c["a"].isProp(a.HTN_ENHANCEMENT+"=true")}function _(){return c["a"].isProp(a.PILLS_REMAINING+"=true")}function f(){return c["a"].get(a.APPOINTMENT_LIMIT)}function k(){return c["a"].get(a.HTN_SCREENING_AGE_THRESHOLD)}function O(){return c["a"].get(a.NOTIFICATION_PERIOD)}async function v(){const e=await c["a"].get(a.CERVICAL_CANCER_AGE_BOUNDS);if(e){const[t,n]=e.split(":");return{start:t,end:n}}return{start:-1,end:-1}}function y(){return c["a"].get(a.FILING_NUMBER_LIMIT)}function I(){return c["a"].get(a.FILING_NUMBER_PREFIX)}function E(){return c["a"].get(a.ADULT_CLINIC_DAYS)}function T(){return c["a"].get(a.PEADS_CLINIC_DAYS)}function j(){return c["a"].get(a.CLINIC_HOLIDAYS)}function N(e){return c["a"].set(a.HTN_SCREENING_AGE_THRESHOLD,e)}function C(e){return c["a"].set(a.APPOINTMENT_LIMIT,e)}function D(e){return c["a"].set(a.ADULT_CLINIC_DAYS,e)}function w(e){return c["a"].set(a.PEADS_CLINIC_DAYS,e)}function S(e){return c["a"].set(a.FILING_NUMBER_LIMIT,e)}(function(e){e["TARGET_LAB"]="target.lab",e["EXTENDED_LABS"]="extended_labs",e["VL_ROUTINE_CHECK"]="activate.vl.routine.check",e["PILLS_REMAINING"]="ask_pills_remaining_at_home",e["FILING_NUMBERS"]="use.filing.number",e["DRUG_MANAGEMENT"]="activate.drug.management",e["HTN_ENHANCEMENT"]="activate.htn.enhancement",e["FAST_TRACK"]="enable_fast_track",e["THREE_HP_AUTO_SELECT"]="activate_3hp_auto_select",e["APPOINTMENT_LIMIT"]="clinic.appointment.limit",e["HTN_SCREENING_AGE_THRESHOLD"]="htn.screening.age.threshold",e["NOTIFICATION_PERIOD"]="notification.period",e["HTN_SYSTOLIC_THRESHOLD"]="htn.systolic.threshold",e["HTN_DIASTOLIC_THRESHOLD"]="htn.diastolic.threshold",e["PEADS_CLINIC_DAYS"]="peads.clinic.days",e["ADULT_CLINIC_DAYS"]="clinic.days",e["FILING_NUMBER_LIMIT"]="filing.number.limit",e["FILING_NUMBER_PREFIX"]="filing.number.prefix",e["CERVICAL_CANCER_SCREENING"]="activate.cervical.cancer.screening",e["CERVICAL_CANCER_AGE_BOUNDS"]="cervical.cancer.screening.age.bounds",e["CLINIC_HOLIDAYS"]="clinic.holidays",e["EXCLUDE_EXTERNAL_AND_DRUG_REFILLS"]="can.remove.external.and.drug.refills.from.data.cleaning",e["CAN_SCAN_DBS_BARCODE"]="can.scan.dbs"})(a||(a={})),t["b"]={canScanDBS:o,targetLab:i,cervicalCancerScreeningAgeBounds:v,systolicThreshold:h,diastolicThreshold:b,htnAgeThreshold:k,notificationPeriod:O,setHtnAgeThreshold:N,setFilingNumberLimit:S,setAppointmentLimit:C,filingNumberLimit:y,filingNumberPrefix:I,adultClinicDays:E,peadsClinicDays:T,setAdultClinicDays:D,setPeadsClinicDays:w,filingNumbersEnabled:m,drugManagementEnabled:p,htnEnabled:g,appointmentLimit:f,askPillsRemaining:_,extendedLabEnabled:u,threeHPAutoSelectEnabled:d,VLEnabled:s,fastTrackEnabled:l,cervicalCancerScreeningEnabled:r,clinicHolidays:j}},d6d4:function(e,t,n){},d77d:function(e,t,n){"use strict";n("18ab")},d7e7:function(e,t,n){"use strict";n("5b82")},da71:function(e,t,n){},dc2e:function(e,t,n){"use strict";n("ed6a")},de5e:function(e,t,n){},ded6:function(e,t,n){"use strict";var a=n("7a23");function c(e,t,n,c,o,i){const r=Object(a["resolveComponent"])("ion-skeleton-text"),s=Object(a["resolveComponent"])("ion-item"),l=Object(a["resolveComponent"])("ion-list");return Object(a["openBlock"])(),Object(a["createBlock"])(l,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.items,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:t},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(r,{animated:"",style:{width:"100%"}})]),_:2},1024))),128))]),_:1})}n("14d9");var o=n("d867"),i=Object(a["defineComponent"])({components:{IonSkeletonText:o["IonSkeletonText"],IonList:o["IonList"],IonItem:o["IonItem"]},props:{itemCount:{type:Number,default:10}},setup(e){const t=[];for(let n=0;n<e.itemCount;++n)t.push(n);return{items:t}}}),r=(n("95a0"),n("6b0d")),s=n.n(r);const l=s()(i,[["render",c],["__scopeId","data-v-65e1cf74"]]);t["a"]=l},e1bd:function(e,t,n){},e216:function(e,t,n){"use strict";n("eabd")},e3ed:function(e,t,n){"use strict";n("7da2")},e43c:function(e,t,n){"use strict";n("cd81")},eabd:function(e,t,n){},ec2a:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1c74");class c extends a["e"]{constructor(){super()}static create(e){const t={...e};return"program_id"in t||Object.assign(t,{program_id:this.getProgramID()}),"encounter_datetime"in t||Object.assign(t,{encounter_datetime:this.getSessionDate()}),a["e"].postJson("/encounters",t)}static voidEncounter(e,t="Unknown"){return super.void("/encounters/"+e,{reason:t})}static getSavedEncounters(e,t=super.getProgramID()){return super.getJson(`programs/${t}/patients/${e}/saved_encounters`)}static getEncounters(e,t={}){return super.getJson("/encounters",{program_id:super.getProgramID(),patient_id:e,paginate:!1,...t})}}},ed6a:function(e,t,n){},efaf:function(e,t,n){"use strict";var a=n("7a23");const c=e=>(Object(a["pushScopeId"])("data-v-707086b5"),e=e(),Object(a["popScopeId"])(),e),o=c(()=>Object(a["createElementVNode"])("img",{id:"barcode-img",class:"clickable",src:"/assets/images/barcode.svg"},null,-1)),i=["readonly"];function r(e,t,n,c,r,s){const l=Object(a["resolveComponent"])("ion-col"),d=Object(a["resolveComponent"])("ion-row"),u=Object(a["resolveComponent"])("ion-grid");return Object(a["openBlock"])(),Object(a["createBlock"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(l,{size:e.iconSize,onClick:e.useCameraScanner,style:{"max-height":"100px"}},{default:Object(a["withCtx"])(()=>[o]),_:1},8,["size","onClick"]),Object(a["createVNode"])(l,{size:e.inputSize},{default:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{readonly:e.activePlatformProfile.keyboard===e.KeyboardType.HIS_KEYBOARD_ONLY,id:"barcode-inputbox",placeholder:"Scan barcode or QR Code","onUpdate:modelValue":t[0]||(t[0]=t=>e.typedBarcode=t),autofocus:!0,style:Object(a["normalizeStyle"])({fontSize:e.fontSize,textShadow:"wrap"})},null,12,i),[[a["vModelText"],e.typedBarcode]])]),_:1},8,["size"])]),_:1})]),_:1})}var s=n("d867"),l=n("2ed9"),d=(n("5b81"),n("14d9"),n("c6fe")),u=n.n(d);function m(e=null){const t=Object(a["ref"])(""),n=Object(a["ref"])([]),c=t=>{"function"===typeof e&&e(t)};return Object(a["onMounted"])(()=>{u.a.attachTo(document,{reactToPaste:!0,minLength:1,onScan:function(e){n.value.length?n.value.includes("$")&&(t.value=n.value.join("").replaceAll(/\$/gi,""),n.value=[],c(t.value)):(t.value=e.replaceAll(/\$/gi,""),c(t.value))},onScanError(e){console.error("onScanError: "+JSON.stringify(e))},onKeyDetect(e,t){t.key.match(/backspace/i)&&n.value.length?n.value.pop():(t.key.match(/enter/i)&&n.value.push("$"),1===t.key.length&&n.value.push(t.key))}})}),Object(a["onBeforeUnmount"])(()=>{u.a.detachFrom(document)}),t}var p=n("3408"),h=Object(a["defineComponent"])({name:"BarcodeInput",components:{IonRow:s["IonRow"],IonCol:s["IonCol"],IonGrid:s["IonGrid"]},props:{clearValue:String,virtualText:String,size:{type:String,default:"large"}},emits:["onScan","onValue"],setup(e,{emit:t}){const n=e=>{const n=(""+(e||"")).replace(/\$/gi,"");t("onScan",n),t("onValue",n),i.value=""},{activePlatformProfile:c}=Object(l["e"])(),o=m(n),i=Object(a["ref"])(""),r=()=>{try{p["a"].scan().then(e=>{o.value=e.text,n(o.value)})}catch(e){console.log(e)}};return Object(a["watch"])(()=>e.clearValue,()=>i.value=""),Object(a["watch"])(()=>e.virtualText,e=>i.value=e||""),Object(a["watch"])(i,e=>{if(/.+\$$/i.test(""+e)){const n=e.replace(/\$/gi,"");i.value="",t("onScan",n),t("onValue",n)}},{immediate:!0}),Object(a["watch"])(o,e=>{e&&(i.value=e+"$")}),{typedBarcode:i,KeyboardType:l["b"],activePlatformProfile:c,iconSize:Object(a["computed"])(()=>"small"===e.size?3:2),inputSize:Object(a["computed"])(()=>"small"===e.size?9:10),fontSize:Object(a["computed"])(()=>"small"===e.size?"15px":"42px"),useCameraScanner:r}}}),b=(n("dc2e"),n("6b0d")),g=n.n(b);const _=g()(h,[["render",r],["__scopeId","data-v-707086b5"]]);t["a"]=_},f01e:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a,c=n("fa94");(function(e){e["MALES_WITH_ANC_ENCOUNTERS"]="MALES WITH ANC ENCOUNTERS",e["ENCOUNTERS_AFTER_DEATH"]="ENCOUNTERS AFTER DEATH",e["INCOMPLETE_VISITS"]="INCOMPLETE VISITS",e["DUPLICATE_ENCOUNTERS"]="DUPLICATE ENCOUNTERS",e["MISSING_HIV_STATUS"]="NO HIV STATUS"})(a||(a={}));class o extends c["a"]{constructor(){super()}getDataToolReport(e){return c["a"].getJson("anc_data_cleaning_tools",this.buildRequestParams({report_name:e}))}}},f085:function(e,t,n){},f768:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pa}));n("13d5");var a=n("d1ca"),c=[{name:"Pepfar Tx New Report",path:"/art/pepfar_tx_new_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-46584156")]).then(n.bind(null,"ff70"))},{name:"User activity settings",path:"/art/user_activity_settings",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6fa320d1")]).then(n.bind(null,"f86f"))},{name:"Hypertension report",path:"/art/hypertension_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-5b80663a")]).then(n.bind(null,"069f"))},{name:"Clinic Discrepancy Report",path:"/art/clinic_discrepancy_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-680de719")]).then(n.bind(null,"204c"))},{name:"Viral Load Register",path:"/art/report/clinic_viral_load_register",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-fe6414de")]).then(n.bind(null,"354e"))},{name:"Clinic vl collection",path:"/art/clinic_vl_collection_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-1bd19b52")]).then(n.bind(null,"e06a"))},{name:"Stock Sc Curr",path:"/art/sc_curr",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-15cf97c6")]).then(n.bind(null,"5c5b"))},{name:"Data cleaning verification",path:"/art/data_cleaning_verification",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2012b2dd"),n.e("chunk-e2dc92b0")]).then(n.bind(null,"b791"))},{name:"Edit ARV Number",path:"/art/arv-number/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-a2bf4bd4")]).then(n.bind(null,"1769"))},{name:"preferences",path:"/art/preferences",component:()=>n.e("chunk-2c083610").then(n.bind(null,"b236"))},{name:"target_lab",path:"/art/preferences/target_lab",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65b4c246")]).then(n.bind(null,"1ac1"))},{name:a["a"].CLINIC_HOLIDAYS,path:"/art/preferences/clinic_holidays",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65b4c246")]).then(n.bind(null,"1ac1"))},{name:"bp_thresholds",path:"/art/preferences/bp_thresholds",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65b4c246")]).then(n.bind(null,"1ac1"))},{name:"clinic_days",path:"/art/preferences/clinic_days",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65b4c246")]).then(n.bind(null,"1ac1"))},{name:"cervical_cancer",path:"/art/preferences/cervical_cancer_screening",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65b4c246")]).then(n.bind(null,"1ac1"))},{name:a["a"].HTN_SCREENING_AGE_THRESHOLD,path:"/art/preferences/htn_age",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65b4c246")]).then(n.bind(null,"1ac1"))},{name:a["a"].NOTIFICATION_PERIOD,path:"/art/preferences/notification_period",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65b4c246")]).then(n.bind(null,"1ac1"))},{name:a["a"].FILING_NUMBER_LIMIT,path:"/art/preferences/fn/limit",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65b4c246")]).then(n.bind(null,"1ac1"))},{name:a["a"].APPOINTMENT_LIMIT,path:"/art/preferences/appointment/limit",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65b4c246")]).then(n.bind(null,"1ac1"))},{name:"art_patient_visit_stats",path:"/art/patient_visits",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-9b28a1be")]).then(n.bind(null,"fe31"))},{name:"filing management",path:"/art/filing_numbers/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-337918c0"),n.e("chunk-8a2f2088")]).then(n.bind(null,"12c7"))},{name:"art notes",path:"/art/clinical_notes/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-1d72f658")]).then(n.bind(null,"9ee4"))},{name:"Enter stock",path:"/art/stock/enter",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-26444562")]).then(n.bind(null,"8a4e"))},{name:"Audit trail",path:"/art/stock/trail",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-4ed18cb8")]).then(n.bind(null,"4dbc"))},{name:"Verify stock",path:"/art/stock/verify",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6fef0f96")]).then(n.bind(null,"7dd5"))},{name:"Move stock",path:"/art/stock/move",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-65fc6100")]).then(n.bind(null,"7052"))},{name:"Stock report",path:"/art/stock/report",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-45b61551")]).then(n.bind(null,"719a"))},{name:"Print drug barcode",path:"/drug/print",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-5eabd035")]).then(n.bind(null,"da8f"))},{name:"treatment",path:"/art/encounters/prescriptions/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-44f7ff80")]).then(n.bind(null,"7d94"))},{name:"bp_alert",path:"/art/encounters/bp/alert/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-81c5cc30"),n.e("chunk-c326e570")]).then(n.bind(null,"7337"))},{name:"art adherence",path:"/art/encounters/adherence/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2c65a948"),n.e("chunk-2d0f07e6")]).then(n.bind(null,"9d38"))},{name:"hiv clinic consultation (clinician)",path:"/art/encounters/consultation/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2c65a948"),n.e("chunk-7e88c81c")]).then(n.bind(null,"6c3f"))},{name:"hiv clinic consultation",path:"/art/encounters/consultation/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2c65a948"),n.e("chunk-7e88c81c")]).then(n.bind(null,"6c3f"))},{name:"hiv clinic registration",path:"/art/encounters/registration/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2012b2dd"),n.e("chunk-5d22811e"),n.e("chunk-4b1ac3a0")]).then(n.bind(null,"308a"))},{name:"hiv reception",path:"/art/encounters/reception/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-5088bfda")]).then(n.bind(null,"754d"))},{name:"hiv staging",path:"/art/encounters/staging/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-5d22811e"),n.e("chunk-5730b4fc")]).then(n.bind(null,"da51"))},{name:"appointment",path:"/art/encounters/appointment/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-638b4d38")]).then(n.bind(null,"1c9e"))},{name:"dispensing",path:"/art/encounters/dispensation/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-8d3f93ae")]).then(n.bind(null,"9e6a"))},{name:"vitals",path:"/art/encounters/vitals/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-c0e63af2")]).then(n.bind(null,"ab49"))},{name:"htn_vitals",path:"/art/encounters/vitals/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-c0e63af2")]).then(n.bind(null,"ab49"))},{name:"patient type",path:"/art/encounters/patient_type/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2012b2dd"),n.e("chunk-7ac316b4")]).then(n.bind(null,"e5e5"))},{name:"fast track assesment",path:"/art/encounters/fast_track/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-75c56f7d")]).then(n.bind(null,"d1b9"))},{name:"bp_management",path:"/art/encounters/bp_management/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-81c5cc30"),n.e("chunk-03e87f92")]).then(n.bind(null,"72e3"))},{name:"Hypertesnion diagnosis",path:"/art/encounters/hypertension_diagnosis/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-f68cd34a")]).then(n.bind(null,"f7b2"))},{name:"BP prescription",path:"/art/encounters/bp_prescription/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-ebbb0fd6")]).then(n.bind(null,"313e"))},{name:"Social history",path:"/art/encounters/social_history/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2dd56326")]).then(n.bind(null,"75fa"))},{name:"BP adherence",path:"/art/encounters/bp_adherence/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-337918c0"),n.e("chunk-70dc14d4")]).then(n.bind(null,"3f4a"))},{name:"lab activities",path:"/art/encounters/lab/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-8ec962d0")]).then(n.bind(null,"5697"))},{name:"patient mstercard",path:"/art/mastercard/:patient_id",component:()=>n.e("chunk-a02e6532").then(n.bind(null,"12f0"))},{name:"Data cleaning",path:"/data_cleaning",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-2eeedc2e")]).then(n.bind(null,"c92b"))},{name:"moh_tpt_cohort",path:"/art/moh_tpt_cohort",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-fedef60e")]).then(n.bind(null,"dea4"))},{name:"moh_disaggregated_report",path:"/art/moh_disaggregated_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-19e3a259")]).then(n.bind(null,"1b7d"))},{name:"moh_regimen_report",path:"/art/moh_regimen_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-82e7efbc")]).then(n.bind(null,"4a54"))},{path:"/art/report/moh/moh_cohort",name:"moh_cohort",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-208f13ae")]).then(n.bind(null,"1509"))},{path:"/art/report/moh/moh_survial_analysis",name:"moh_survial_analysis",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-3b7e842e")]).then(n.bind(null,"1f15"))},{path:"/art/report/moh/moh_tpt_new_initiations",name:"moh_tpt_new_initiations",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-cc4eea7c")]).then(n.bind(null,"30f4"))},{name:"moh_tx_curr_mmd",path:"/art/report/moh/moh_tx_curr_mmd",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-2a776864")]).then(n.bind(null,"8f57"))},{name:"moh_regimen_weight_distribution",path:"/art/report/moh/moh_regimen_weight_distribution",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-1911324c")]).then(n.bind(null,"e57f"))},{name:"clinic_archiving_candidates",path:"/art/report/clinic/clinic_archiving_candidates",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-42e25d3c")]).then(n.bind(null,"6955"))},{name:"clinic_retention_report",path:"/art/report/clinic/clinic_retention_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-dfecc756")]).then(n.bind(null,"008b"))},{name:"clinic_external_consultation_report",path:"/art/report/clinic/clinic_external_consultation_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-1c36f288")]).then(n.bind(null,"f63f"))},{name:"clinic_due_viral_load_report",path:"/art/report/clinic/clinic_due_viral_load_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-76fd841e")]).then(n.bind(null,"d20c"))},{name:"clinic_lab_results",path:"/art/report/clinic/clinic_lab_results",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-3af66a92")]).then(n.bind(null,"879f"))},{name:"clinic_missed_appointments",path:"/art/report/clinic/clinic_missed_appointments",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-286fe0cb")]).then(n.bind(null,"d778"))},{name:"clinic_defaulters_report",path:"/art/report/clinic/clinic_defaulters",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-3f672e30")]).then(n.bind(null,"4c26"))},{name:"clinic_regimen_report",path:"/art/report/clinic/clinic_regimen_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-df9986ec")]).then(n.bind(null,"b0ef"))},{name:"clinic_regimen_switch",path:"/art/report/clinic/clinic_regimen_switch",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-581043ef")]).then(n.bind(null,"4f35"))},{name:"clinic_pregnant_patients",path:"/art/report/clinic/clinic_pregnant_patients",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-30cef22a")]).then(n.bind(null,"ccb7"))},{name:"clinic_appointments",path:"/art/report/clinic/clinic_appointments",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-eb49a1a2")]).then(n.bind(null,"2e46"))},{name:"stock_card_report",path:"/art/report/clinic/stock_card_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-0bae17c3")]).then(n.bind(null,"c016"))},{name:"clinic_viral_load",path:"/art/report/clinic/clinic_viral_load",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-088b8cc2")]).then(n.bind(null,"36da"))},{name:"clinic_other_outcome_list",path:"/art/report/clinic/clinic_other_outcome_list",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-78ee052f")]).then(n.bind(null,"93a7"))},{name:"clinic_regimen_formulation",path:"/art/report/clinic/clinic_regimen_formulation",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-7764aa42")]).then(n.bind(null,"d7a2"))},{name:"pepfar_disaggregated_report",path:"/art/report/pepfar/disaggregated",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-1a44cbe6")]).then(n.bind(null,"c753"))},{name:"pepfar_defaulters_report",path:"/art/report/pepfar/defaulters",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-ad3ee2ba")]).then(n.bind(null,"8c47"))},{name:"pepfar_regimen_report",path:"/art/report/pepfar/regimens",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-6e0a1a2b")]).then(n.bind(null,"8c38"))},{name:"pepfar_regimen_switch",path:"/art/report/pepfar/regimen_switch",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-3b0aecbc")]).then(n.bind(null,"df27"))},{name:"pepfar_tb_prev_report",path:"/art/report/pepfar/tb_prev",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-bc4a8412")]).then(n.bind(null,"1aa7"))},{name:"pepfar_tx_curr_mmd_report",path:"/art/report/pepfar/tx_cur_mmd",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-22469d02")]).then(n.bind(null,"cca6"))},{name:"pepfar_tx_ml_report",path:"/art/report/pepfar/tx_ml",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-2ed1d972")]).then(n.bind(null,"cab4"))},{name:"pepfar_tx_rtt",path:"/art/report/pepfar/tx_rtt",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-1d4d5982")]).then(n.bind(null,"d1a4"))},{name:"pepfar_tx_tb",path:"/art/pepfar_tx_tb",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-3e28bee6")]).then(n.bind(null,"0ebf"))},{name:"pepfar_vl_coverage",path:"/art/report/pepfar/pepfar_vl_coverage",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-91e46ad8")]).then(n.bind(null,"af8a"))},{name:"sc_arv",path:"/art/report/pepfar/sc_arv",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-625c0c16")]).then(n.bind(null,"0c9a"))},{name:"clinic_tx_rrt",path:"/art/report/clinic_tx_rtt",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-51c72e34")]).then(n.bind(null,"0ddb"))},{name:"clinic_tpt_outcomes",path:"/art/report/clinic_tpt_outcomes",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-34d416b6")]).then(n.bind(null,"1d39"))}],o=n("7a23");const i=e=>(Object(o["pushScopeId"])("data-v-2d38dad9"),e=e(),Object(o["popScopeId"])(),e),r=i(()=>Object(o["createElementVNode"])("h5",{class:"his-md-text"},"Total visits / incomplete visits: last 5 days",-1)),s=i(()=>Object(o["createElementVNode"])("span",{class:"his-md-text"},"Encounters created today",-1)),l={class:"his-sm-text"},d=i(()=>Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th"),Object(o["createElementVNode"])("th",null,"Female"),Object(o["createElementVNode"])("th",null,"Male"),Object(o["createElementVNode"])("th",null,"Me"),Object(o["createElementVNode"])("th",null,"Facility")],-1)),u={class:"encounter-td"},m={class:"other-td"},p={class:"other-td"},h={class:"other-td"},b={class:"other-td"};function g(e,t,n,a,c,i){const g=Object(o["resolveComponent"])("ApexChart"),_=Object(o["resolveComponent"])("ion-col"),f=Object(o["resolveComponent"])("ion-row"),k=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createBlock"])(k,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_,{"size-lg":"6","size-sm":"12"},{default:Object(o["withCtx"])(()=>[r,Object(o["createVNode"])(g,{width:"100%",height:"390px",type:"bar",options:e.options,series:e.series},null,8,["options","series"])]),_:1}),Object(o["createVNode"])(_,{"size-lg":"6","size-sm":"12"},{default:Object(o["withCtx"])(()=>[s,Object(o["createElementVNode"])("table",l,[d,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.rows,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:t},[Object(o["createElementVNode"])("td",u,Object(o["toDisplayString"])(e.encounter),1),Object(o["createElementVNode"])("td",m,Object(o["toDisplayString"])(e.female),1),Object(o["createElementVNode"])("td",p,Object(o["toDisplayString"])(e.male),1),Object(o["createElementVNode"])("td",h,Object(o["toDisplayString"])(e.me),1),Object(o["createElementVNode"])("td",b,Object(o["toDisplayString"])(e.facility),1)]))),128))])]),_:1})]),_:1})]),_:1})}n("14d9");var _=n("d867"),f=n("5a0c"),k=n.n(f),O=n("ae27"),v=n.n(O),y=n("ad8d"),I=n("9283"),E=n("5969");class T extends E["a"]{constructor(){super()}getEncounterStats(e){return E["a"].postJson(`reports/encounters?date=${this.date}&program_id=${this.programID}`,e)}}var j=Object(o["defineComponent"])({data:function(){return{sessionDate:y["b"].getSessionDate(),options:{chart:{id:"vuechart-example"},xaxis:{categories:["","","","",""]},yaxis:{min:0,forceNiceScale:!0,title:{text:"Number of clients",align:"left"}}},series:[{name:"Total visits",data:[0,0,0,0,0],color:"#7cb5ec"},{name:"Total incomplete visits",data:[0,0,0,0,0],color:"#434348"}],rows:[],encounters:[{"HIV clinic registration":9},{"HIV reception":51},{Vitals:6},{"HIV staging":52},{"HIV clinic consultation":53},{"ART adherence":68},{Treatment:25},{Dispensing:54},{Appointments:7}]}},components:{IonGrid:_["IonGrid"],IonRow:_["IonRow"],IonCol:_["IonCol"],ApexChart:v.a},created(){this.rows=this.encounters.map(e=>({encounter:Object.keys(e)[0],female:"",male:"",me:"",facility:""}))},mounted(){this.getVisits(),this.getEncounters()},methods:{getVisits:async function(){const e=new y["b"];e.setStartDate(I["c"].subtract(this.sessionDate,"days",5).format(I["b"])),e.setEndDate(I["c"].subtract(this.sessionDate,"days",1).format(I["b"]));const t=await e.getVisitStats(),n=[],a=[],c=[];Object.entries(t).forEach(([e,{incomplete:t,complete:o}])=>{c.push(k()(e).format("dddd")),n.push(t),a.push(t+o)}),this.series[0].data=[...a],this.series[1].data=[...n],this.options={...this.options,xaxis:{categories:[...c]}}},async getEncounters(){try{const e=new T,t=this.encounters.map(e=>Object.values(e)[0]),n=await e.getEncounterStats({encounter_types:t}),a=await e.getEncounterStats({encounter_types:t,all:!0});this.rows=this.encounters.map(e=>{const[t,c]=Object.entries(e)[0];return{encounter:t,female:a[c]["F"],male:a[c]["M"],me:n[c]["F"]+n[c]["M"],facility:a[c]["F"]+a[c]["M"]}})}catch(e){console.error(e)}}}}),N=(n("1fd1"),n("6b0d")),C=n.n(N);const D=C()(j,[["render",g],["__scopeId","data-v-2d38dad9"]]);var w=D,S=n("8e8b");const A=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",files:[{name:"Cohort / disaggregated",pathName:"moh_cohort"},{name:"Disaggregated",pathName:"moh_disaggregated",condition:()=>!1},{name:"Regimen Distribution (Weight)",pathName:"moh_regimen_weight_distribution"},{name:"Survival analysis",pathName:"moh_survial_analysis"},{name:"TPT new initiations",pathName:"moh_tpt_new_initiations"},{name:"TX CURR MMD",pathName:"moh_tx_curr_mmd"},{name:"Regimen Report",pathName:"moh_regimen_report"},{name:"TPT Cohort",pathName:"moh_tpt_cohort"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Active clients with adverse outcomes",pathName:"clinic_archiving_candidates"},{name:"Defaulter list",pathName:"clinic_defaulters_report"},{name:"Regimen Dispensation",pathName:"clinic_regimen_report"},{name:"Lab results",pathName:"clinic_lab_results"},{name:"Regimen switch",pathName:"clinic_regimen_switch"},{name:"Clients due for VL",pathName:"clinic_due_viral_load_report"},{name:"External and Emergency supply clients",pathName:"clinic_external_consultation_report"},{name:"Retention report",pathName:"clinic_retention_report"},{name:"Pregnant Patient",pathName:"clinic_pregnant_patients"},{name:"Missed Appointment",pathName:"clinic_missed_appointments"},{name:"VL results",pathName:"clinic_viral_load"},{name:"Other outcome list",pathName:"clinic_other_outcome_list"},{name:"Regimens and Formulation",pathName:"clinic_regimen_formulation"},{name:"Appointments",pathName:"clinic_appointments"},{name:"Stock card report",pathName:"stock_card_report",condition:()=>S["a"].get("IS_ART_DRUG_MANAGEMENT_ENABLED")},{name:"Discrepancy Report",pathUrl:"/art/clinic_discrepancy_report",condition:()=>S["a"].get("IS_ART_DRUG_MANAGEMENT_ENABLED")},{name:"TX RTT",pathUrl:"/art/report/clinic_tx_rtt"},{name:"TPT Outcomes",pathUrl:"/art/report/clinic_tpt_outcomes"},{name:"Viral Load Register",pathUrl:"/art/report/clinic_viral_load_register"},{name:"Vl collection",pathUrl:"/art/clinic_vl_collection_report"},{name:"Hypertension Report",pathUrl:"/art/hypertension_report"}]},{name:"PEPFAR",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",files:[{name:"Defaulter list",pathName:"pepfar_defaulters_report"},{name:"Disaggregated",pathName:"pepfar_disaggregated_report"},{name:"Regimen Report",pathName:"pepfar_regimen_report"},{name:"Regimen Switch",pathName:"pepfar_regimen_switch"},{name:"TB PREV",pathName:"pepfar_tb_prev_report"},{name:"TX CURR MMD",pathName:"pepfar_tx_curr_mmd_report"},{name:"TX ML",pathName:"pepfar_tx_ml_report"},{name:"TX RTT",pathName:"pepfar_tx_rtt"},{name:"Viral Load Coverage",pathName:"pepfar_vl_coverage"},{name:"SC_ARV_DISP",pathName:"sc_arv"},{name:"Sc curr report",pathUrl:"/art/sc_curr"},{name:"TX_TB",pathName:"pepfar_tx_tb"},{name:"TX_NEW",pathUrl:"/art/pepfar_tx_new_report"}]}];var P=n("c1e4"),R=n("cc74");function V(e,t){return{name:e,pathUrl:`/preferences?label=${e}&property=${t}`}}const x=[{name:"Drug Management",icon:"drug.png",condition:async()=>P["a"].isAdmin()&&await S["a"].get("IS_ART_DRUG_MANAGEMENT_ENABLED"),files:[{name:"Enter Receipts",pathUrl:"/art/stock/enter"},{name:"Enter Product relocation/Disposal",pathUrl:"/art/stock/move"},{name:"Enter verified physical stock count",pathUrl:"/art/stock/verify"},{name:"Print Barcode",pathUrl:"/drug/print"},{name:"Audit Trail",pathUrl:"/art/stock/trail"},{name:"Stock report",pathUrl:"/art/stock/report"}]},{name:"System Preferences",icon:"hiv-staging.png",condition:()=>P["a"].isAdmin(),files:[{name:"View Systems settings",pathUrl:"/art/preferences"},V("Activate Extended Lab",a["a"].EXTENDED_LABS),V("Activate VL routine check",a["a"].VL_ROUTINE_CHECK),V("Activate Filing Numbers",a["a"].FILING_NUMBERS),V("Activate drug management",a["a"].DRUG_MANAGEMENT),V("Activate Hypertension screening",a["a"].HTN_ENHANCEMENT),V("Activate fast track",a["a"].FAST_TRACK),V("Activate 3HP auto select",a["a"].THREE_HP_AUTO_SELECT),V("Is this a military site?",R["a"].MILITARY_SITE),V("Ask pills remaining at home",a["a"].PILLS_REMAINING),V("(DATA CLEANING) Exclude External and Emergency supply",a["a"].EXCLUDE_EXTERNAL_AND_DRUG_REFILLS),V("Scan DBS barcode",a["a"].CAN_SCAN_DBS_BARCODE),{name:"Target lab",pathUrl:"/art/preferences/target_lab"},{name:"Activate CxCa Screening",pathUrl:"/art/preferences/cervical_cancer_screening"},{name:"Set Hypertension Thresholds",pathUrl:"/art/preferences/bp_thresholds"},{name:"Set Clinic Days",pathUrl:"/art/preferences/clinic_days"},{name:"Set HTN Age",pathUrl:"/art/preferences/htn_age"},{name:"Set Auto Cleaning Alert Days",pathUrl:"/art/preferences/notification_period"},{name:"Set Appointment Limit",pathUrl:"/art/preferences/appointment/limit"},{name:"Set Filing Numbers Limit",pathUrl:"/art/preferences/fn/limit"},{name:"Set Clinic Holidays",pathUrl:"/art/preferences/clinic_holidays"}]}];var F=n("4db7"),L=n("23e6"),B=n("b5e4"),M=n("8734");const H=[{id:"hiv clinic registration",name:"Hiv clinic registration",workflowID:"HIV first visits",icon:"registration.png"},{id:"hiv reception",name:"HIV reception",workflowID:"HIV reception visits",icon:"reception.png"},{id:"vitals",name:"Vitals",icon:"vitals.png",taskCompletionChecklist:["Weight"]},{id:"hiv staging",name:"HIV staging",workflowID:"HIV staging visits",icon:"hiv-staging.png"},{id:"hiv clinic consultation",name:"HIV clinic consultation",workflowID:"HIV clinic consultations",taskCompletionChecklist:["Medication orders"],icon:"consultation.png"},{id:"art adherence",name:"ART adherence",workflowID:"ART adherence",icon:"adherence.png"},{id:"treatment",name:"Treatment",workflowID:"Prescriptions",icon:"prescription.png"},{id:"fast track assesment",name:"Fast Track assesment",icon:"fast-track.png",condition:()=>S["a"].get("IS_ART_FAST_TRACK_ENABLED"),availableOnActivitySelection:!1},{id:"dispensing",name:"Drug Dispensations",encounterTypeName:"DISPENSING",workflowID:"Drug Dispensations",icon:"dispensing.png"},{id:"appointment",name:"Manage Appointments",encounterTypeName:"APPOINTMENT",workflowID:"Manage Appointments",icon:"appointment.png"},{id:"patient type",name:"Patient Type",encounterTypeName:"Registration",icon:"patient-type.png",availableOnActivitySelection:!1},{id:"bp_management",name:"bp_management",icon:"dispensing.png",encounterTypeName:"Hypertension management",condition:()=>S["a"].get("IS_ART_HTN_ENABLED"),availableOnActivitySelection:!1},{id:"bp_alert",name:"bp_alert",icon:"dispensing.png",condition:()=>S["a"].get("IS_ART_HTN_ENABLED"),availableOnActivitySelection:!1}],U=[{id:"master_card",name:"Master card",description:"View mastercard",action:({patient:e},t)=>{t.push("/art/mastercard/"+e.patient_id)},icon:"card.png"},{id:"f_number",name:"Filing Number (Print)",description:"Print Patient Filing Number",condition:async({patient:e})=>{const t=new L["a"](e);return await S["a"].get("IS_ART_FILING_NUMBER_ENABLED")&&(t.hasActiveFilingNumber()||t.hasDormantFilingNumber())},action({patient:e}){const t=new F["a"](e.patient_id);return t.printFilingNumberLbl()},icon:"folder.png"},{id:"archive_client",name:"Archive client",description:"Archive a client",action:({patient:e},t)=>{Object(M["a"])(200).then(()=>{Object(B["a"])("Are you sure you want to archive patient?").then(n=>{n&&t.push(`/art/filing_numbers/${e.patient_id}?archive=true`)})})},condition:async({patient:e})=>await S["a"].get("IS_ART_FILING_NUMBER_ENABLED")&&new L["a"](e).hasActiveFilingNumber(),icon:"archive.png"},{id:"assign_filing_number",name:"Assign filing number",description:"Assign a new filing number",condition:async({patient:e})=>{const t=new L["a"](e);return await S["a"].get("IS_ART_FILING_NUMBER_ENABLED")&&(t.hasDormantFilingNumber()||!t.hasActiveFilingNumber())},action:({patient:e},t)=>{Object(M["a"])(200).then(()=>{Object(B["a"])("Are you sure you want to assign a filing number?").then(n=>{n&&t.push(`/art/filing_numbers/${e.patient_id}?assign=true`)})})},icon:"archive.png"},{id:"filing_number_trail",name:"View filing number trail",description:"view trail",action:({patient:e},t)=>{t.push(`/art/filing_numbers/${e.patient_id}?trail=true`)},condition:()=>S["a"].get("IS_ART_FILING_NUMBER_ENABLED"),icon:"folder.png"},{id:"art notes",name:"ART Clinical Notes",icon:"clinical-notes.png",availableOnActivitySelection:!1}];var G=n("50e7"),$=n("7957"),z=n("8158");async function J(e,t="Malawi ART side effects"){const n=await $["a"].getObservations(e,z["a"].getCachedConceptID(t));return n.filter(e=>{try{return e.children[0].value_coded==z["a"].getCachedConceptID("Yes")}catch(t){return!1}})}var Y={alertSideEffects:J},W=n("7def"),q=n("74f4"),Q=n("ad60"),X=n("9b7c"),K=n("8df6");function Z(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-button"),l=Object(o["resolveComponent"])("ion-toolbar"),d=Object(o["resolveComponent"])("ion-header"),u=Object(o["resolveComponent"])("ion-label"),m=Object(o["resolveComponent"])("ion-segment-button"),p=Object(o["resolveComponent"])("ion-segment"),h=Object(o["resolveComponent"])("ApexChart"),b=Object(o["resolveComponent"])("ion-content");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Stock levels (Consumption rate calculated over a 3 month period) ")]),_:1}),Object(o["createVNode"])(s,{color:"danger",slot:"end",onClick:t[0]||(t[0]=t=>e.closeModal()),class:"ion-margin-end"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("X")]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p,{onIonChange:t[1]||(t[1]=t=>e.segmentChanged(t)),value:e.segment},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{value:"paeds"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Paeds")]),_:1})]),_:1}),Object(o["createVNode"])(m,{value:"adults"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Adults")]),_:1})]),_:1})]),_:1},8,["value"])]),_:1}),Object(o["createVNode"])(b,{class:"ion-padding"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(h,{width:"100%",type:"bar",options:e.options,series:e.series},null,8,["options","series"])]),_:1})],64)}var ee=n("3d6c"),te=Object(o["defineComponent"])({name:"Modal",components:{ApexChart:v.a,IonContent:_["IonContent"],IonHeader:_["IonHeader"],IonTitle:_["IonTitle"],IonToolbar:_["IonToolbar"],IonButton:_["IonButton"],IonSegment:_["IonSegment"],IonSegmentButton:_["IonSegmentButton"]},methods:{async closeModal(){await _["modalController"].dismiss()},getDrugs(){this.paedDrugs=ee["a"].getPaedeatricDrugs(),this.adultDrugs=ee["a"].getAdultDrugs(),this.formatDrugs()},segmentChanged(e){this.segment=e.detail.value,this.formatDrugs()},async formatDrugs(){const e=new ee["a"],t="paeds"===this.segment?this.paedDrugs:this.adultDrugs,n=[];this.series[0].data=[...n],t.forEach(async t=>{const n=await e.getConsumptionRate(t.drugID),a=parseInt(n["stock_level_in_months"]);this.series[0].data.push({x:t.shortName,y:a})})}},created(){this.getDrugs()},data(){return{paedDrugs:[],adultDrugs:[],segment:"paeds",options:{chart:{id:"vuechart-example"},plotOptions:{bar:{borderRadius:4,horizontal:!0,dataLabels:{position:"top"},colors:{ranges:[{from:0,to:2,color:"#ff0000"},{from:2,to:4,color:"#66CDAA"},{from:4,to:1e6,color:"#ffff00"}]}}},dataLabels:{enabled:!0,offsetX:0,style:{fontSize:"12px",colors:["#656565"]}},stroke:{show:!0,width:1,colors:["#fff"]},tooltip:{shared:!0,intersect:!1},grid:{column:{colors:["#FFFFFF","#FFFFFF","green"]}},yaxis:{min:1,max:9,fillColor:"#ffff00",tickAmount:1},xaxis:{fillColor:"#ffff00"}},series:[{name:"Available",data:[]}]}}});const ne=C()(te,[["render",Z]]);var ae=ne,ce=n("2ef0"),oe=n("0fa1"),ie=n("1c74"),re=n("276d"),se=n("0011"),le=n("3b8c"),de=n("5b6e"),ue=n("afbc");const me={ASK_HANGING_PILLS:{get:()=>a["b"].askPillsRemaining(),canReloadCache:e=>!Object(re["b"])()||"boolean"!=typeof e.state},ART_AUTO_3HP_SELECTION:{get:()=>a["b"].threeHPAutoSelectEnabled(),canReloadCache:e=>!Object(re["b"])()||"boolean"!=typeof e.state},IS_ART_FAST_TRACK_ENABLED:{get:()=>a["b"].fastTrackEnabled(),canReloadCache:e=>!Object(re["b"])()||"boolean"!=typeof e.state},IS_ART_HTN_ENABLED:{get:()=>a["b"].htnEnabled(),canReloadCache:e=>!Object(re["b"])()||"boolean"!=typeof e.state},IS_ART_FILING_NUMBER_ENABLED:{get:()=>a["b"].filingNumbersEnabled(),canReloadCache:e=>!Object(re["b"])()||"boolean"!=typeof e.state},ART_FILING_NUMBER_PREFIX:{get:()=>a["b"].filingNumberPrefix(),canReloadCache:e=>!Object(re["b"])()||"string"!=typeof e.state},IS_ART_DRUG_MANAGEMENT_ENABLED:{get:()=>a["b"].drugManagementEnabled(),canReloadCache:e=>!Object(re["b"])()||"boolean"!=typeof e.state},GET_LAB_ORDERS_WITH_GIVEN_RESULT_STATUS:{get:async e=>{const t=(await S["a"].get("PATIENT_LAB_ORDERS",{patientID:e.patientID})).map(async e=>{const t={...e,result_given:!1},n=e.tests.filter(e=>null!=e.result).map(e=>e.result).reduce((e,t)=>[...e,...t],[]).reduce((e,t)=>t.id,null);try{t["result_given"]=n?await(await $["a"].get(n)).children.reduce(async(e,t)=>await z["a"].getConceptID("Result Given to Client")===t.concept_id&&"Yes"===await z["a"].getConceptName(t.value_coded)?"Yes":e,"No"):"N/A"}catch(a){console.error(a)}return t});return await Promise.all(t)},canReloadCache:()=>!0}};async function pe(e,t,n){const a=new q["a"](e);await a.enrollProgram();const c=new K["a"](e,-1);c.setPatientType(t),c.setLocationName(n),await c.createEncounter(),await c.save()}async function he(){if(await S["a"].get("IS_ART_DRUG_MANAGEMENT_ENABLED")){const e=await _["modalController"].create({component:ae,cssClass:"large-modal",backdropDismiss:!1});e.present(),await e.onDidDismiss()}}function be(e,t=!0){const n=e.tests[0],a=n.result[0],c=t?"<br> Result date: &nbsp; "+I["c"].toStandardHisDisplayFormat(a.date):"",o=X["a"].isHighViralLoadResult(a)?'(<b style="color: #eb445a;">High</b>)':"";return`${n.name} &nbsp; ${a.value_modifier}${a.value} ${o} ${c}`}async function ge(e=""){let t="No";try{t=(await Q["a"].getJson("user_properties",{property:"lock_user_to_art_activities"})).property_value}catch(n){n instanceof ie["c"]?t="No":(t="_error_",Object(B["c"])("Unable to determine user activites. Workflows may not work properly",5e3))}/no/i.test(t)&&await Object(oe["c"])(H),"HomePage"===e&&await he()}async function _e(e,t,n,c,o){return await pe(e,t.patient_type,t.location),"Yes"===t.relationship&&Object(oe["a"])(e,{from:"Patient Registration",to:"/guardian/registration/"+e}),await a["b"].filingNumbersEnabled()&&"New patient"===t.patient_type&&Object(oe["a"])(e,{from:"Yes"===(null===t||void 0===t?void 0:t.relationship)?"Guardian Registration":"Patient Registration",to:`/art/filing_numbers/${e}?assign=true`}),Object(oe["b"])(e,c,o),!0}async function fe(e){const t=await Y.alertSideEffects(e.getID()),n=await e.getBMI();return[{label:"Side effects",value:""+t.length},{label:"Patient BMI is",value:""+n.result}]}function ke(e){let t={};return[{label:"ART- Start Date",value:"...",init:async()=>{t=await Q["a"].getProgramInformation(e)},staticValue:()=>{const[e,n,a]=t.art_start_date.split("/"),c=t.art_start_date.match(/n\/a/i)?"":`(${k()(ie["e"].getSessionDate()).diff(`${a}-${n}-${e}`,"months")} Month(s))`;return`${t.art_start_date} ${c}`}},{label:"ARV Number",value:"...",staticValue:()=>`${t.arv_number} | Regimen: ${t.current_regimen}`},{label:"File Number",value:"...",staticValue:()=>t.filing_number.number},{label:"Current Outcome",value:"...",staticValue:()=>t.current_outcome}]}async function Oe(e){const t=(await S["a"].get("PATIENT_LAB_ORDERS",{patientID:e})).reduce((e,t)=>e.concat(X["a"].getVLResults(t)),[]).map(e=>{const t=X["a"].isHighViralLoadResult(e)?'(<b style="color: #eb445a;">High</b>)':"";return{label:`${e.indicator.name} &nbsp ${e.value_modifier}${e.value} ${t}`,value:I["c"].toStandardHisDisplayFormat(e.date),other:{wrapTxt:!0}}}).sort((e,t)=>new Date(e.value)>new Date(t.value)?-1:1);if(t.length>=2){const[e,n]=t;return[e,n]}return t}async function ve(){const e=await de["a"].unread();if(!Object(ce["isEmpty"])(e)){const t={highVL:[],normalVL:[],rejectedVL:[]};let n={};return e.map(e=>{let a="General";const c=e.text;let o=null;try{const c=JSON.parse(e.text);if(c["Type"].match(/lims/i)){o=()=>ue["a"].push("/art/encounters/lab/"+c["PatientID"]),a=`${c["Test type"]} results for ${c["ARV-Number"]||c["Accession number"]}`;const i=X["a"].detectHighVl(c["Result"][0]["value"],c["Result"][0]["value_modifier"]);n={handler:o,id:e.alert_id,arv:c["ARV-Number"],accession:c["Accession number"],order_date:Object(se["h"])(c["Orde date"]),results:c["Result"][0]["value_modifier"]+" "+c["Result"][0]["value"],results_date:Object(se["h"])(c["Result"][0]["date"])},i?t.highVL.push(n):c["rejection_reason"]?(n={handler:o,id:e.alert_id,arv:c["arv_number"],accession:c["accession_number"],order_date:Object(se["h"])(c["order_date"]),rejection_reason:c["rejection_reason"]},t.rejectedVL.push(n)):i||t.normalVL.push(n)}}catch(i){console.warn(i)}return{handler:o,message:c,vlMessageObs:t,title:a,id:e.alert_id,date:Object(se["h"])(e.date_created)}})}}function ye(e){S["a"].invalidate("PATIENT_LAB_ORDERS");const t=Object(ce["isEmpty"])(e)?-1:null===e||void 0===e?void 0:e.getID();let n=null,a={};return{"PROGRAM INFORMATION":()=>[{label:"Next Task",value:"...",asyncValue:async()=>{const e=await G["a"].getNextTaskParams(t);return e.name?""+e.name:"NONE"}},{label:"ART Duration",value:"...",init:async()=>{n=await Q["a"].getProgramInformation(t)},asyncValue:async()=>n.art_duration},{label:"Fast Track",value:"...",asyncValue:async()=>{const e=await Q["a"].getFastTrackStatus(t);return!0===e["Continue FT"]?"Yes":"No"}},{label:"Next Appointment",value:"...",asyncValue:async()=>Object(se["h"])(await e.nextAppointment())},{label:"TPT start",value:"...",init:async()=>{const e=new le["a"](t,-1);a=await e.getTptTreatmentStatus()||{}},asyncValue:async()=>{var e;return Object(se["h"])(null===(e=a)||void 0===e?void 0:e.tpt_init_date)||"N/A"}},{label:"TPT expected end date",value:"...",asyncValue:async()=>{var e,t;return Object(se["h"])((null===(e=a)||void 0===e?void 0:e.tpt_end_date)||(null===(t=a)||void 0===t?void 0:t.tpt_complete_date))||"N/A"}}],"PATIENT IDENTIFIERS":()=>[{label:"ARV Number",value:"...",staticValue:()=>e.getArvNumber()},{label:"NPID",value:"...",staticValue:()=>e.getNationalID()},{label:"Filing Number",value:"...",staticValue:()=>e.getFilingNumber()}],ALERTS:()=>[{label:"Side effects",value:"...",asyncValue:async()=>(await Y.alertSideEffects(t)).length},{label:"Patient BMI is",value:"...",asyncValue:async()=>{const t=await e.getBMI();return t.result}}],"LAB ORDERS":async()=>{const e=[];return await S["a"].get("PATIENT_LAB_ORDERS",{patientID:t}).then(t=>{const n=X["a"].getOrdersWithResults(t);for(let a=0;a<2&&a<n.length;a++)e.push({value:be(n[a]),label:""})}),e},OUTCOME:()=>[{label:"Current Outcome",value:"...",staticValue:()=>n.current_outcome||"N/A"}],GUARDIAN:async()=>{const e=[],n=await W["a"].getGuardianDetails(t)||[];return n.length?(n.forEach(t=>{e.push({label:t.name,value:t.relationshipType}),e.push({label:"Phone",value:t.phoneNumber})}),e):[]}}}const Ie={init:ge,isPocApp:!0,programID:1,applicationName:"ART",applicationIcon:"aids.png",applicationDescription:"HIV Client management app",appRoutes:c,primaryPatientActivites:H,secondaryPatientActivites:U,globalPropertySettings:x,programReports:A,appStore:me,homeOverviewComponent:w,confirmationSummary:ye,patientProgramInfoData:ke,getPatientDashboardAlerts:fe,onRegisterPatient:_e,getPatientDashboardLabOrderCardItems:Oe,downloadAppNotifications:ve,programPatientIdentifiers:{"ARV Number":{id:4,name:"ARV Number",isPrimary:!0,useForSearch:!0,prefix:async()=>await S["a"].get("SITE_PREFIX")+"-ARV-"},"Filing number":{id:17,name:"Active Filing number",isPrimary:!1,useForSearch:!0,prefix:async()=>{try{const[e]=(await S["a"].get("ART_FILING_NUMBER_PREFIX")).split(",");return e}catch(e){return console.warn(e),""}},visible:()=>S["a"].get("IS_ART_FILING_NUMBER_ENABLED")},"Archived filing number":{id:18,name:"Archived filing number",isPrimary:!1,useForSearch:!0,prefix:async()=>{try{return(await S["a"].get("ART_FILING_NUMBER_PREFIX")).split(",")[1]||""}catch(e){return console.warn(e),""}},visible:()=>S["a"].get("IS_ART_FILING_NUMBER_ENABLED")}}};var Ee=Ie;const Te={class:"los-overview"};function je(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("report-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Te,[Object(o["createVNode"])(r,{rows:e.rows,columns:e.columns},null,8,["rows","columns"])])}var Ne=n("80e3"),Ce=n("9ceb");class De extends ie["e"]{constructor(){super()}static async overviewStats(){const e={},t=await this.ordersMade("ordered"),n=await this.ordersMade("drawn");return t.forEach(t=>{t.name in e||(e[t.name]={ordered:0}),e[t.name].ordered+=1}),n.forEach(t=>{t.name in e||(e[t.name]={drawn:0}),e[t.name].drawn||(e[t.name].drawn=0),e[t.name].drawn+=1}),e}static ordersMade(e){return super.getJson("orders_made",{date:super.getSessionDate(),status:e,start_date:super.getSessionDate(),end_date:super.getSessionDate(),program_id:super.getProgramID()})}}var we=Object(o["defineComponent"])({components:{ReportTable:Ne["a"]},data:()=>({rows:[],columns:[[Ce["a"].thTxt("Test"),Ce["a"].thTxt("Ordered"),Ce["a"].thTxt("Drawn")]]}),created(){this.setRows()},methods:{async setRows(){const e=await De.overviewStats();if(!Object(ce["isEmpty"])(e))for(const t in e){const n=e[t];this.rows.push([Ce["a"].td(t),Ce["a"].td(n.ordered),Ce["a"].td(n.drawn)])}}}});n("133d");const Se=C()(we,[["render",je],["__scopeId","data-v-a517e22e"]]);var Ae=Se;const Pe=Object(o["createElementVNode"])("p",null,null,-1),Re=Object(o["createElementVNode"])("p",null,null,-1),Ve={style:{overflowX:"auto",height:"84%"}},xe=Object(o["createElementVNode"])("b",null,"Select specimen",-1);function Fe(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("ion-label"),s=Object(o["resolveComponent"])("ion-segment-button"),l=Object(o["resolveComponent"])("ion-segment"),d=Object(o["resolveComponent"])("report-table"),u=Object(o["resolveComponent"])("ion-title"),m=Object(o["resolveComponent"])("ion-toolbar"),p=Object(o["resolveComponent"])("ion-header"),h=Object(o["resolveComponent"])("ion-item"),b=Object(o["resolveComponent"])("ion-list"),g=Object(o["resolveComponent"])("ion-col"),_=Object(o["resolveComponent"])("ion-chip"),f=Object(o["resolveComponent"])("ion-row"),k=Object(o["resolveComponent"])("ion-content"),O=Object(o["resolveComponent"])("ion-button"),v=Object(o["resolveComponent"])("ion-footer"),y=Object(o["resolveComponent"])("ion-page"),I=Object(o["resolveComponent"])("ion-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Pe,Object(o["createVNode"])(l,{scrollable:"",value:e.activeTab,class:"ion-justify-content-center"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{value:"openOrders",onClick:t[0]||(t[0]=t=>e.activeTab="openOrders")},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,{class:"his-lg-text"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Open")]),_:1})]),_:1}),Object(o["createVNode"])(s,{class:"his-lg-text",value:"drawnOrders",onClick:t[1]||(t[1]=t=>e.activeTab="drawnOrders")},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Drawn")]),_:1})]),_:1})]),_:1},8,["value"]),Re,Object(o["createElementVNode"])("div",Ve,["openOrders"===e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,config:{showIndex:!1},rows:e.labOrderRows,columns:e.openColumns},null,8,["rows","columns"])):Object(o["createCommentVNode"])("",!0),"drawnOrders"===e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,config:{showIndex:!1},rows:e.drawnOrders,columns:e.drawnColumns},null,8,["rows","columns"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(I,{"is-open":e.showSpecimenModal,class:"custom-modal"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])(()=>[xe]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(k,{class:"ion-padding"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.specimens,(t,n)=>(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:n,color:e.selectedSpecimen.name===t.name?"primary":"",onClick:n=>e.selectedSpecimen=t},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.name),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.order.tests,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(h,{lines:"none",key:t},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_,{color:"success"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Test: "),Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(e.name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(O,{color:"danger",slot:"start",onClick:t[2]||(t[2]=t=>{e.showSpecimenModal=!1,e.selectedSpecimen={}})},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Close ")]),_:1}),Object(o["createVNode"])(O,{disabled:!e.selectedSpecimen.name,color:"success",slot:"end",onClick:t[3]||(t[3]=()=>{e.showSpecimenModal=!0,e.drawOrder()})},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Submit ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["is-open"])],64)}var Le=n("9c73");async function Be(e,t=[]){const n=await Object(B["a"])("Are you sure you want to void?");if(!n)return;let a=[{text:"Mistake/ Wrong Entry",role:"Mistake/ Wrong Entry"},{text:"Duplicate",role:"Duplicate"},{text:"System Error",role:"System Error"},{text:"Cancel",role:"cancel"}];Object(ce["isEmpty"])(t)||(a=t.map(e=>({text:e,role:e})),a.push({text:"Cancel",role:"Cancel"}));const c=await _["actionSheetController"].create({header:"Are you sure you want to void this Encounter?",subHeader:"Please specify reason for voiding this encounter",mode:"ios",buttons:a});c.present();const{role:o}=await c.onDidDismiss();"cancel"!=o&&e(o)}const Me={style:{background:"#f1f1f1",color:"#333",fontSize:"1.1rem !important"}};var He=Object(o["defineComponent"])({components:{IonTitle:_["IonTitle"],IonCol:_["IonCol"],IonRow:_["IonRow"],IonButton:_["IonButton"],IonList:_["IonList"],IonFooter:_["IonFooter"],IonToolbar:_["IonToolbar"],IonHeader:_["IonHeader"],IonItem:_["IonItem"],IonChip:_["IonChip"],IonModal:_["IonModal"],IonContent:_["IonContent"],IonPage:_["IonPage"],ReportTable:Ne["a"],IonSegment:_["IonSegment"],IonLabel:_["IonLabel"],IonSegmentButton:_["IonSegmentButton"]},data:()=>({initiated:!1,showSpecimenModal:!1,specimens:[],order:{},selectedSpecimen:{},service:{},activeTab:"openOrders",drawnColumns:[[Ce["a"].thTxt("Accession #",Me),Ce["a"].thTxt("Test",Me),Ce["a"].thTxt("Actions",Me)]],openColumns:[[Ce["a"].thTxt("Accession #",Me),Ce["a"].thTxt("Test",Me),Ce["a"].thTxt("Reason for test",Me),Ce["a"].thTxt("Drawn",Me),Ce["a"].thTxt("Void",Me)]],drawnOrdersData:[],openOrdersData:[],drawnOrders:[],labOrderRows:[]}),watch:{visitDate:{async handler(e){this.initiated||(await this.init(),this.initiated=!0),e&&this.activeTab&&(this.drawnOrders=this.getdrawnOrders(this.drawnOrdersData.filter(t=>this.toDate(t.order_date)===e)),this.labOrderRows=this.getLabOrderRows(this.openOrdersData.filter(t=>this.toDate(t.order_date)===e)))},immediate:!0}},methods:{async init(){this.service=new Le["a"](this.patient.getID()),this.openOrdersData=await this.service.getOrders("ordered"),this.drawnOrdersData=await this.service.getOrders("drawn")},toDate(e){return I["c"].toStandardHisFormat(e)},removeLabOrderRow(e){this.labOrderRows=this.labOrderRows.filter(t=>{var n;return(null===(n=t[0])||void 0===n||null===(n=n.value)||void 0===n?void 0:n.orderID)!=e})},async drawOrder(){try{const e=await this.service.updateOrderSpecimen(this.order.order_id,this.selectedSpecimen.concept_id);if(!e)throw"Unable to draw sample";this.drawnOrders=this.drawnOrders.concat(this.getdrawnOrders([e])),this.removeLabOrderRow(this.order.order_id),this.showSpecimenModal=!1,this.service.printSpecimenLabel(this.order.order_id)}catch(e){console.error(e),Object(B["c"])(""+e)}},getLabOrderRows(e){return e.map(e=>[Ce["a"].td(e.accession_number,{value:{orderID:e.order_id}}),Ce["a"].td(e.tests.map(e=>e.name).join(",")),Ce["a"].td(e.reason_for_test.name||"N/A"),Ce["a"].tdBtn("Draw",async()=>{this.order=e,this.showSpecimenModal=!0,this.specimens=await Le["a"].getSpecimensForTests(e.tests)},{},"success"),Ce["a"].tdBtn("Void",async()=>{Be(async t=>{try{await this.service.voidOrder(e.order_id,t),this.removeLabOrderRow(e.order_id)}catch(n){Object(B["c"])(""+n)}},["Duplicate order","Wrong client"])},{},"danger")])},getdrawnOrders(e){return e.map(e=>[Ce["a"].td(e.accession_number),Ce["a"].td(e.tests.map(e=>e.name).join(",")),Ce["a"].tdBtn("Print",()=>this.service.printSpecimenLabel(e.order_id))])}},props:{patient:{type:Object,required:!0},visitDate:{type:String}}});const Ue=C()(He,[["render",Fe]]);var Ge=Ue;const $e=[{id:"draw samples",name:"Draw Samples",icon:"social_history.png",action:({patient:e},t)=>{t.push(`/los/forms/order/${e.patient_id}?type=DRAW_SAMPLES`)}}];var ze=[{name:"order tests",path:"/los/forms/order/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2012b2dd"),n.e("chunk-4a90bd4c")]).then(n.bind(null,"fabb"))},{name:"Tests requested report",path:"/los/report/tests/requests",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-e37a4a24")]).then(n.bind(null,"de46"))},{name:"Test results report",path:"/los/report/tests/results",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-ae9cb7fe")]).then(n.bind(null,"e9ce"))}];const Je={programID:23,isPocApp:!0,applicationName:"LOS",applicationIcon:"order.png",applicationDescription:"Lab Order System",appRoutes:ze,primaryPatientActivites:$e,secondaryPatientActivites:[],globalPropertySettings:[],homeOverviewComponent:Ae,customPatientDashboardContentComponent:Ge,confirmationSummary:e=>({"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}],"LAB ORDERS":async()=>{const t=await X["a"].getOrders(e.getID());return t.map(e=>({label:e.specimen.name,value:`${e.accession_number} - ${I["c"].toStandardHisDisplayFormat(e.order_date)}`}))}}),programReports:[{name:"Clinical",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Test requested",pathUrl:"/los/report/tests/requests"},{name:"Test results",pathUrl:"/los/report/tests/results"}]}]};var Ye=Je,We=[{path:"/emc/home",redirect:"/emc/dashboard"},{name:"EMC Dashboard",path:"/emc/dashboard",component:()=>n.e("chunk-6bfd0d86").then(n.bind(null,"1d252"))},{name:"Search/ Create client",path:"/emc/search",component:()=>Promise.all([n.e("chunk-19d69ed7"),n.e("chunk-dc83f310"),n.e("chunk-31705150")]).then(n.bind(null,"de0e"))},{name:"Users",path:"/emc/users",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-2ac9666a")]).then(n.bind(null,"7498"))},{name:"User Profile",path:"/emc/profile",component:()=>n.e("chunk-ebacfeba").then(n.bind(null,"b384"))},{name:"Patient Regstration",path:"/emc/patient/registration",component:()=>Promise.all([n.e("chunk-d64a144c"),n.e("chunk-214b8c9a")]).then(n.bind(null,"e3d3"))},{name:"EMC Mastercard",path:"/emc/patient/:patientId",component:()=>Promise.all([n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-4599ff2a"),n.e("chunk-1420b27c")]).then(n.bind(null,"99e7"))},{path:"/emc/registration/:id/:new",name:"new registration",component:()=>n.e("chunk-290c5597").then(n.bind(null,"81f9"))},{name:"emc_data_cleaning",path:"/emc_data_cleaning",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-2c503d9c")]).then(n.bind(null,"4be8"))},{name:"emc_cleaning_verification",path:"/emc_cleaning_verification",component:()=>Promise.all([n.e("chunk-d64a144c"),n.e("chunk-34d41f9c")]).then(n.bind(null,"8d90"))},{name:"emc_patient_visit_stats",path:"/emc_patient_visit_stats",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-216f6210")]).then(n.bind(null,"1648"))},{name:"emc_patient_merging",path:"/emc_patient_merging",component:()=>n.e("chunk-49e291dc").then(n.bind(null,"d725"))},{name:"emc_system_usage",path:"/emc_system_usage",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-7b21e093")]).then(n.bind(null,"03f6"))},{path:"/emc/settings/site_settings",component:()=>n.e("chunk-672b5431").then(n.bind(null,"94fe"))},{name:"DT API host settings",path:"/emc/settings/network_settings",component:()=>n.e("chunk-4a503b68").then(n.bind(null,"09ba"))},{name:"emc_clinic_appointments",path:"/emc_clinic_appointments",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-b26bad70")]).then(n.bind(null,"2b4d"))},{name:"emc_clinic_defaulters",path:"/emc_clinic_defaulters",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-7febe7c8")]).then(n.bind(null,"190b"))},{name:"emc_clinic_missed_appointments",path:"/emc_clinic_missed_appointments",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-0730f198")]).then(n.bind(null,"d323"))},{name:"emc_clinic_regimen_dispensation",path:"/emc_clinic_regimen_dispensation",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-f3bf2c6c")]).then(n.bind(null,"e7d4"))},{name:"emc_clinic_regimen_switch",path:"/emc_clinic_regimen_switch",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-eb2463fc")]).then(n.bind(null,"7aa1"))},{name:"emc_clinic_emc_pregnant_patients",path:"/emc_clinic_pregnant_patients",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-4f373348")]).then(n.bind(null,"6bee"))},{name:"emc_clinic_incomplete_visits",path:"/emc_clinic_incomplete_visits",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-9cf0ed5a")]).then(n.bind(null,"a158"))},{name:"emc_clinic_clients_due_for_vl",path:"/emc_clinic_clients_due_for_vl",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-97982206")]).then(n.bind(null,"649f"))},{name:"emc_clinic_regimen_formulation",path:"/emc_clinic_regimen_formulation",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-65fd757f")]).then(n.bind(null,"3192"))},{name:"emc_clinic_tpt_outcomes",path:"/emc_clinic_tpt_outcomes",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-8c33a9b4")]).then(n.bind(null,"5ef4"))},{name:"emc_clinic_tx_rtt",path:"/emc_clinic_tx_rtt",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-0e047aac")]).then(n.bind(null,"2265"))},{name:"emc_pepfar_tx_new",path:"/emc_pepfar_tx_new",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-574fa9e6")]).then(n.bind(null,"9ee5"))},{name:"emc_pepfar_tx_tb",path:"/emc_pepfar_tx_tb",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-deddd00c")]).then(n.bind(null,"d0cf"))},{name:"emc_pepfar_sc_arvdisp",path:"/emc_pepfar_sc_arvdisp",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-9aade578")]).then(n.bind(null,"2a4c"))},{name:"emc_pepfar_vl_coverage",path:"/emc_pepfar_vl_coverage",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-6bc85dfc")]).then(n.bind(null,"2e5f"))},{name:"emc_pepfar_tb_prev",path:"/emc_pepfar_tb_prev",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-4480d5f3")]).then(n.bind(null,"d290"))},{name:"emc_pepfar_defaulters",path:"/emc_pepfar_defaulters",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-5c05453b")]).then(n.bind(null,"897c"))},{name:"emc_pepfar_tx_rtt",path:"/emc_pepfar_tx_rtt",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-abb8448a")]).then(n.bind(null,"469e"))},{name:"emc_pepfar_tx_ml",path:"/emc_pepfar_tx_ml",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-74a176a9")]).then(n.bind(null,"f55f"))},{name:"emc_pepfar_tx_curr_mmd",path:"/emc_pepfar_tx_curr_mmd",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-f0e27e42")]).then(n.bind(null,"c5a9"))},{name:"emc_pepfar_disaggregated",path:"/emc_pepfar_disaggregated",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-0efb1fa2")]).then(n.bind(null,"f315"))},{name:"emc_moh_regimen",path:"/emc_moh_regimen",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-ec6fafd2")]).then(n.bind(null,"3634"))},{name:"emc_moh_tx_curr_mmd",path:"/emc_moh_tx_curr_mmd",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-63c31ef6")]).then(n.bind(null,"c4d7"))},{name:"emc_moh_tpt_initiation",path:"/emc_moh_tpt_initiation",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-4e77a1f0")]).then(n.bind(null,"a638"))},{name:"emc_moh_tpt_cohort",path:"/emc_moh_tpt_cohort",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-a57546bc")]).then(n.bind(null,"5a53"))},{name:"emc_moh_regimen_distribution_weight",path:"/emc_moh_regimen_distribution_weight",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-7de4a4ed")]).then(n.bind(null,"b9fb"))},{name:"emc_moh_survival_analysis",path:"/emc_moh_survival_analysis",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-63dea285")]).then(n.bind(null,"37e6"))},{name:"emc_moh_viral_load",path:"/emc_moh_viral_load",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-59073f37")]).then(n.bind(null,"cd6a"))},{name:"emc_moh_cohort_disaggregated",path:"/emc_moh_cohort_disaggregated",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-067835e4")]).then(n.bind(null,"fcba"))},{name:"emc_moh_cohort",path:"/emc_moh_cohort",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-596b8ad8")]).then(n.bind(null,"5efc"))},{name:"emc_clinic_retention",path:"/emc_clinic_retention",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-bb7f18fc")]).then(n.bind(null,"0921"))},{name:"emc_viral_load_report",path:"/emc_viral_load_report",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-5500ed89")]).then(n.bind(null,"98aa"))},{name:"emc_other_outcomes",path:"/emc_other_outcomes",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-7c8e72a0")]).then(n.bind(null,"84fb"))},{name:"emc_lab_results",path:"/emc_lab_results",component:()=>Promise.all([n.e("chunk-6b0e71d3"),n.e("chunk-19d69ed7"),n.e("chunk-d64a144c"),n.e("chunk-dc83f310"),n.e("chunk-3f9043da")]).then(n.bind(null,"b164"))}];const qe=[{name:"MoH Reports",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",condition:()=>!0,files:[{name:"Cohort",pathName:"emc_cohort",icon:"reports/cohort.png"},{name:"Cohort Disagreggated",pathName:"emc_moh_disaggregated",icon:"reports/split.png"},{name:"Survival analysis",pathName:"emc_survival_analysis",icon:"reports/refill.png"},{name:"Viral load",pathName:"emc_viral_load",icon:"reports/vl.png"},{name:"Regimen distribution, Weight",pathName:"emc_regimen_distribution_weight",icon:"reports/electronics.png"},{name:"TX CURR MMD",pathName:"emc_moh_tx_curr_mmd",icon:"reports/px.png"},{name:"TPT new initiation",pathName:"emc_moh_tpt",icon:"reports/new_initiation.png"}]},{name:"Clinic Reports",icon:"reports/clinic.png",defaultFilesIcon:"reports.png",files:[{name:"Diagnosis by address",pathName:"clinic_diagnosis_by_address"},{name:"Diagnosis",pathName:"clinic_diagnosis"},{name:"Registration report",pathName:"clinic_registration"},{name:"LA report",pathName:"clinic_la"},{name:"Cases seen report",pathName:"clinic_cases_seen"},{name:"Mental health report",pathName:"clinic_mental_health"},{name:"Drugs (dispensed without prescription)",pathName:"clinic_drugs_given"},{name:"Drugs (prescribed and dispensed)",pathName:"clinic_drugs"},{name:"With NIDs",pathName:"clinic_with_nids"}]},{name:"PEPFAR Reports",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",files:[{name:"Diagnosis by address",pathName:"clinic_diagnosis_by_address"},{name:"Diagnosis",pathName:"clinic_diagnosis"},{name:"Registration report",pathName:"clinic_registration"},{name:"LA report",pathName:"clinic_la"},{name:"Cases seen report",pathName:"clinic_cases_seen"},{name:"Mental health report",pathName:"clinic_mental_health"},{name:"Drugs (dispensed without prescription)",pathName:"clinic_drugs_given"},{name:"Drugs (prescribed and dispensed)",pathName:"clinic_drugs"},{name:"With NIDs",pathName:"clinic_with_nids"}]}];var Qe=n("2845");const Xe={programID:1,isPocApp:!1,appLandingPage:"/emc/home",applicationName:"EMC",applicationIcon:"aids.png",applicationDescription:"HIV Electronic Master card App",appRoutes:We,appStore:Qe["b"],homeOverviewComponent:{},primaryPatientActivites:[],secondaryPatientActivites:[],globalPropertySettings:[],programReports:qe,programPatientIdentifiers:{"ARV Number":{id:4,name:"ARV Number",isPrimary:!0,useForSearch:!0,prefix:async()=>await R["c"].sitePrefix()+"-ARV-"}}};var Ke=Xe,Ze=[{name:"ANC Vitals",path:"/anc/encounters/vitals/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-5070e560")]).then(n.bind(null,"8866"))},{name:"anc_pepfar_disaggregated",path:"/anc/pepfar_disaggregated",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-6a7a9a01"),n.e("chunk-2d0db1ed")]).then(n.bind(null,"6f07"))},{name:"anc_clinic_appointment",path:"/anc/clinic_appointments",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-1feb9e83")]).then(n.bind(null,"9db1"))},{name:"anc_moh_report",path:"/anc/moh_report/:template_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-9906a834")]).then(n.bind(null,"0128"))},{name:"art_followup",path:"/anc/pmtct/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-764187cf")]).then(n.bind(null,"60fb"))},{name:"anc data-cleaning tools",path:"/anc/datacleaning",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-e870e67c")]).then(n.bind(null,"8a2d"))},{name:"drugset management",path:"/anc/drugset",component:()=>n.e("chunk-f15d923e").then(n.bind(null,"3286"))},{name:"add anc drugset",path:"/anc/drugset/add",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-77ab62c7")]).then(n.bind(null,"668a"))},{name:"anc dispensing",path:"/anc/vaccination/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-21d15150")]).then(n.bind(null,"1b82"))},{name:"anc visit type",path:"/anc/visit/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-53ab6794")]).then(n.bind(null,"dc75"))},{name:"surgical history",path:"/anc/surgical_history/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-02fa7284")]).then(n.bind(null,"1226"))},{name:"medical history",path:"/anc/medical_history/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-a7a294f2")]).then(n.bind(null,"ba823"))},{name:"anc examination",path:"/anc/examination/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6c9fa5bd")]).then(n.bind(null,"2819"))},{name:"social history",path:"/anc/social_history/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-29149989")]).then(n.bind(null,"83a6"))},{name:"lab results",path:"/anc/lab_results/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6737f72e")]).then(n.bind(null,"d8ba"))},{name:"obstetric history",path:"/anc/obsteric/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-be5ed588")]).then(n.bind(null,"0773"))},{name:"current pregnancy",path:"/anc/current_pregnancy/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-d8955780")]).then(n.bind(null,"9841"))},{name:"anc treatment",path:"/anc/treatment/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-4f22edb2")]).then(n.bind(null,"46d3"))},{name:"anc pepfar pmtct report",path:"/anc/report/pmtct_pepfar",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-6a7a9a01"),n.e("chunk-2d229c15")]).then(n.bind(null,"df96"))}];function et(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("report-data-table");return Object(o["openBlock"])(),Object(o["createBlock"])(r,{asyncRows:e.getRows,columns:e.columns,config:{tableCssTheme:"art-report-theme",skeletonTextRows:5,showIndex:!1}},null,8,["asyncRows","columns"])}class tt extends ie["e"]{constructor(){super()}static getStats(){return this.getJson(`programs/${this.getProgramID()}/reports/visits`,{name:"visits_report",start_date:this.getSessionDate()})}}var nt=Object(o["defineComponent"])({components:{ReportDataTable:Ne["a"]},setup(){const e=[[Ce["a"].thTxt("Total with:"),Ce["a"].thTxt("Me"),Ce["a"].thTxt("Today"),Ce["a"].thTxt("This Year")]];async function t(){const e=await tt.getStats(),t=[1,2,3,4,">5"];return t.map(t=>[Ce["a"].td(`${t} ${1===t?"visit":"visits"}`),Ce["a"].td(e.user[t]),Ce["a"].td(e.today[t]),Ce["a"].td(e.year[t])])}return{getRows:t,columns:e}}});const at=C()(nt,[["render",et]]);var ct=at,ot=n("3e53"),it=n("9e49"),rt=n("2989");async function st(e){await Object(B["a"])("Do you want switch to ART Application to proceed with PMTCT tasks?")?ot["a"].switchAppWorkflow("ART",e.patientID,e.router,async()=>{const t=new K["a"](e.patientID,-1);await t.createEncounter(),await t.savePatientType("New patient");const n=new q["a"](e.patientID);await n.enrollProgram()}):e.router.push("/patient/dashboard/"+e.patientID)}function lt(e,t){return!!Array.isArray(e)&&e.includes(t)}const dt=[{id:"print_session_lab_results",name:"Lab results (Print)",icon:"barcode.svg",action:async({patientID:e,visitDate:t})=>{const n=new it["a"](e,-1);n.date=t,await n.printLabResults()}},{id:"print_session_social_history",name:"Patient history (Print)",icon:"barcode.svg",action:({patientID:e})=>{const t=new rt["a"](e,-1);t.printSocialHistory()}}],ut=[{id:"anc dispensing",name:"TD VACCINATION",encounterTypeName:"DISPENSING",icon:"prescription/medication.png"},{id:"anc visit type",name:"ANC VISIT TYPE",icon:"registration.png"},{id:"surgical history",name:"SURGICAL HISTORY",icon:"surgical_history.png",disabled:e=>lt(e.savedEncounters,"SURGICAL HISTORY")},{id:"medical history",name:"Medical History",icon:"medical_history.png",disabled:e=>lt(e.savedEncounters,"MEDICAL HISTORY")},{id:"anc examination",name:"Examination",workflowID:"ANC examination",encounterTypeName:"ANC EXAMINATION",icon:"diagnosis.png"},{id:"social history",name:"Social History",icon:"social_history.png",disabled:e=>lt(e.savedEncounters,"SOCIAL HISTORY")},{id:"lab results",name:"Lab Results",icon:"lab.png"},{id:"obstetric history",name:"Obstetric history",icon:"obstetric_history.png",disabled:e=>lt(e.savedEncounters,"OBSTETRIC HISTORY")},{id:"current pregnancy",name:"Current Pregnancy",icon:"current_preg.png",disabled:e=>lt(e.savedEncounters,"CURRENT PREGNANCY")},{id:"anc treatment",workflowID:"Give drugs",name:"anc treatment",encounterTypeName:"TREATMENT",icon:"dispensing.png"},{id:"art_followup",name:"art_followup",workflowID:"ARV Follow Up",icon:"pmtct.png"},{id:"vitals",name:"Vitals",icon:"vitals.png",action:e=>{ue["a"].push("/anc/encounters/vitals/"+e.patientID)},taskCompletionChecklist:["Weight"]},{id:"appointment",name:"Manage Appointments",encounterTypeName:"APPOINTMENT",workflowID:"Manage appointment",icon:"appointment.png"},{id:"hiv clinic registration",name:"Hiv clinic registration",workflowID:"HIV first visits",icon:"registration.png",action:e=>st(e),condition:()=>!1},{id:"hiv reception",name:"HIV reception",workflowID:"HIV reception visits",icon:"reception.png",action:e=>st(e),condition:()=>!1}];var mt=n("cc6f"),pt=n("f01e");const ht=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",files:[{name:"Cohort",pathUrl:"/anc/moh_report/CohortTemplate"},{name:"Monthly",pathUrl:"/anc/moh_report/MonthlyTemplate"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Appointments",pathName:"anc_clinic_appointment"},{name:"Incomplete visits",pathUrl:"/anc/datacleaning?cleaning_tool="+pt["a"].INCOMPLETE_VISITS}]},{name:"PEPFAR",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",files:[{name:"Disaggregated",pathName:"anc_pepfar_disaggregated"},{name:"PMTCT_START_AND_ART",pathName:"anc pepfar pmtct report"}]}],bt={programID:12,applicationName:"ANC",applicationIcon:"anc.png",applicationDescription:"Antenatal Program",isPocApp:!0,appRoutes:Ze,primaryPatientActivites:ut,secondaryPatientActivites:dt,programReports:ht,homeOverviewComponent:ct,init:async()=>await Object(oe["c"])(ut),patientProgramInfoData:e=>{let t={};return[{label:"Date of last ANC visit",value:"...",init:async()=>{t=await Q["a"].getProgramInformation(e)},staticValue:()=>t.date_of_lnmp||"N/A"},{label:"Gestation:",value:"...",staticValue:()=>t.gestation?t.gestation+" week(s)":"N/A"},{label:"ANC Visits",value:"...",staticValue:()=>t.anc_visits||"N/A"},{label:"Current outcome",value:"...",staticValue:()=>t.current_outcome||"N/A"}]},confirmationSummary(e,t){const n=e.getID(),a=e=>I["c"].toStandardHisDisplayFormat(e);return{"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()},{label:"National ID",value:e.getMWNationalID()}],"PROGRAM INFO":()=>{let t=null;return[{label:"ANC visit",value:"...",init:async()=>{t=await Q["a"].getProgramInformation(n)},staticValue:()=>t.anc_visits||"N/A"},{label:"Next Appointment Date",value:"...",asyncValue:async()=>Object(se["h"])(await e.nextAppointment())},{label:"Gestation Age",value:"...",staticValue:()=>t.gestation?t.gestation+" week(s)":"N/A"},{label:"Date of LMP",value:"...",staticValue:()=>t.date_of_lnmp?a(t.date_of_lnmp):"N/A"},{label:"EDOD",staticValue:()=>t.edod?a(t.edod):"N/A"},{label:"Next task",value:"...",asyncValue:async()=>(await G["a"].getNextTaskParams(n)).name.toUpperCase()||"N/A"}]},OUTCOME:()=>[{label:"Current Outcome",value:"...",staticValue:()=>t.outcome||"N/A"}],LABS:async()=>(await X["a"].getOrders(n)).map(e=>({label:e.tests.map(e=>e.name).join(" & "),value:I["c"].toStandardHisDisplayFormat(e.order_date)})),GUARDIANS:async()=>{const e=await W["a"].getGuardianDetails(n);return e?e.map(e=>({label:e.name,value:e.relationshipType})):[]}}},async onRegisterPatient(e){const t=new mt["a"](e,5,-1);await t.createEncounter(),await t.saveValueCodedObs("Type of patient","New patient")},programPatientIdentifiers:{"National ID":{id:28,name:"National ID",isPrimary:!0,useForSearch:!0,prefix:()=>"",keyboardName:"Qwerty"}}};var gt=bt;const _t=e=>(Object(o["pushScopeId"])("data-v-87abacbc"),e=e(),Object(o["popScopeId"])(),e),ft={class:"los-overview"},kt=_t(()=>Object(o["createElementVNode"])("h4",null,"Today's clients booked from HIV/ART program",-1));function Ot(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("his-basic-table"),s=Object(o["resolveComponent"])("ion-col"),l=Object(o["resolveComponent"])("ion-row"),d=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ft,[Object(o["createVNode"])(d,{style:{height:"100%"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{size:"6"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])]),_:1}),Object(o["createVNode"])(s,{size:"6",style:{"border-left":"5px solid black"}},{default:Object(o["withCtx"])(()=>[kt,Object(o["createVNode"])(r,{columns:e.screenedColumns,rows:e.screenedRows},null,8,["columns","rows"])]),_:1})]),_:1})]),_:1})])}var vt=n("a3a5");class yt extends ie["e"]{constructor(){super()}static async overviewStats(){const e=await this.dashboardStats(),t=[];for(const n in e)t.push([n,e[n]]);return t}static async screenedOverviewStats(){const e=await this.screenedStats(),t=[];for(const n in e){const a=e[n];let c=0;for(const e of a)1==e["screening_method_present"]&&c++;t.push([n,a.length,c])}return t}static dashboardStats(){return super.getJson("dashboard_stats",{date:super.getSessionDate(),program_id:super.getProgramID()})}static screenedStats(){return super.getJson("screened_for_cxca",{date:super.getSessionDate(),program_id:super.getProgramID(),report_name:"BOOKED CLIENTS FROM ART",start_date:super.getSessionDate(),end_date:super.getSessionDate()})}}var It=Object(o["defineComponent"])({components:{HisBasicTable:vt["a"]},data:()=>({rows:[],columns:["Today's screening method","Count"],screenedColumns:["Age group","Booked","Screened"],screenedRows:[]}),async created(){await this.setRows()},methods:{async setRows(){const e=await yt.overviewStats();this.rows=[...e];const t=await yt.screenedOverviewStats();this.screenedRows=[...t]}}});n("8081");const Et=C()(It,[["render",Ot],["__scopeId","data-v-87abacbc"]]);var Tt=Et;const jt=[{id:"cxca test",name:"cxca test",workflowID:"cxca test",icon:"via-test.png"},{id:"cxca screening result",name:"cxca screening result",workflowID:"cxca screening result",icon:"first-aid-kit.png"},{id:"cxca treatment",name:"cxca treatment",workflowID:"cxca treatment",icon:"cancer.png"},{id:"cxca referral feedback",name:"cxca referral feedback",workflowID:"cxca referral feedback",icon:"referral.png"},{id:"appointment",name:"Manage Appointments",workflowID:"Manage Appointments",encounterTypeName:"appointment",icon:"appointment.png"}];var Nt=[{name:"cxca test",path:"/cxca/encounters/clinical_assessment/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-a2a01466")]).then(n.bind(null,"e7aa"))},{name:"cxca treatment",path:"/cxca/encounters/cancer_treatment/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-d90eaab8")]).then(n.bind(null,"0605"))},{name:"cxca reception",path:"/cxca/encounters/cancer_reception/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-326fc762")]).then(n.bind(null,"ba9c"))},{name:"cxca referral feedback",path:"/cxca/encounters/cancer_feedback/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-e32987c8")]).then(n.bind(null,"01bd"))},{name:"cxca screening result",path:"/cxca/encounters/cancer_screening_result/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-05fa7bba")]).then(n.bind(null,"d66c"))},{name:"cxca result",path:"/cxca/encounters/cancer_result/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-188c22df")]).then(n.bind(null,"1411"))},{name:"cc_basic_results",path:"/cxca/report/pepfar/cc_basic_results",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-67d99958")]).then(n.bind(null,"601a"))},{name:"cc_all_questions",path:"/cxca/report/pepfar/cc_all_questions",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-19020b52")]).then(n.bind(null,"f240"))},{name:"cc_type_of_screen",path:"/cxca/report/pepfar/cc_type_of_screen",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-6e368e14")]).then(n.bind(null,"ac7a"))},{name:"cc_screen_result",path:"/cxca/report/pepfar/cc_screen_result",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-0caae3bc")]).then(n.bind(null,"3c35"))},{name:"cc_type_of_treatment",path:"/cxca/report/pepfar/cc_type_of_treatment",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-30c7e29c")]).then(n.bind(null,"0437"))},{name:"cc_visit_reasons",path:"/cxca/report/clinic/cc_visit_reasons",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-6356b278")]).then(n.bind(null,"9e35"))},{name:"cc_booked_clients",path:"/cxca/report/clinic/cc_booked_clients",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-9967de28")]).then(n.bind(null,"c930"))},{name:"cc_monthly_report",path:"/CxCa/views/reports/moh/cc_monthly_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-0af82515")]).then(n.bind(null,"5b16"))},{name:"cc_monthly_cecap_tx",path:"/CxCa/views/reports/clinic/cc_monthly_cecap_tx",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-cf2ead6e")]).then(n.bind(null,"7067"))},{name:"cc_monthly_screen",path:"/CxCa/views/reports/clinic/cc_monthly_screen",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-2516b9b8")]).then(n.bind(null,"7864"))},{name:"cc_cxca_tx",path:"/CxCa/views/reports/pepfar/cc_cxca_tx",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-5b42aff9")]).then(n.bind(null,"a1b8"))},{name:"cc_cxca_scrn",path:"/CxCa/views/reports/pepfar/cc_cxca_scrn",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-35916397")]).then(n.bind(null,"937e"))},{name:"cc_clinic_scrn",path:"/CxCa/views/reports/clinic/clinic_cxca_scrn_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-56c4f82a")]).then(n.bind(null,"fbc8"))},{name:"cc_clinic_rsn_dnl",path:"/CxCa/views/reports/clinic/clinic_cxca_rsn_dnl_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-371dec58")]).then(n.bind(null,"df09"))}];const Ct=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",files:[{name:"MoH report",condition:()=>!1,pathName:"screened_for_cxca"},{name:"MoH monthly report",pathName:"cc_monthly_report"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Visit reason",pathName:"cc_visit_reasons"},{name:"Booked clients",pathName:"cc_booked_clients"},{name:"Monthly CECAP TX",pathName:"cc_monthly_cecap_tx"},{name:"Monthly Screen",pathName:"cc_monthly_screen"},{name:"CxCa SCRN",pathName:"cc_clinic_scrn"},{name:"CxCa Denial Reasons",pathName:"cc_clinic_rsn_dnl"}]},{name:"PEPFAR",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",files:[{name:"CxCa All Questions",condition:()=>!1,pathName:"cc_all_questions"},{name:"CxCa Basic Results",condition:()=>!1,pathName:"cc_basic_results"},{name:"CxCa Type of Screen",condition:()=>!1,pathName:"cc_type_of_screen"},{name:"CxCa Screen Result",condition:()=>!1,pathName:"cc_screen_result"},{name:"CxCa Type of Treatment",condition:()=>!1,pathName:"cc_type_of_treatment"},{name:"CxCa Tx",pathName:"cc_cxca_tx"},{name:"CxCa SCRN",pathName:"cc_cxca_scrn"}]}];async function Dt(e){const t=new q["a"](e);await t.enrollProgram();const n=new mt["a"](e,5);await n.createEncounter(),await n.saveValueCodedObs("Type of patient","New Patient")}var wt=n("59cb");function St(e,t){return{name:e,pathUrl:`/preferences?label=${e}&property=${t}`}}const At=[{name:"System Preferences",icon:"diagnosis.png",condition:()=>P["a"].isAdmin(),files:[St("Activate Referral site",wt["a"].REFERRAL_SITE_ENABLED)]}];function Pt(e){return[{label:"Malawi National ID",value:"...",asyncValue:async()=>{const t=await S["a"].get("ACTIVE_PATIENT",{patientID:e});return t?t.getMWNationalID():"unknown"}},{label:"HIV Status",value:"...",asyncValue:async()=>await $["a"].getFirstValueCoded(e,"HIV Status")||"N/A"}]}const Rt={programID:24,applicationName:"CxCa",applicationIcon:"ccm.png",applicationDescription:"Cervical cancer screening module",appRoutes:Nt,isPocApp:!0,primaryPatientActivites:jt,secondaryPatientActivites:[],globalPropertySettings:At,onRegisterPatient:Dt,patientProgramInfoData:Pt,homeOverviewComponent:Tt,confirmationSummary:(e,t)=>({"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}],OUTCOME:()=>[{label:"Current Outcome",value:t.outcome||"N/A"}],"PROGRAM INFORMATION":async()=>{const t=e.getID(),n=[],a=await G["a"].getNextTaskParams(t);n.push({label:"Next Task",value:a.name?""+a.name:"NONE"});const c=await $["a"].getAll(t,"appointment date"),o=c?I["c"].toStandardHisDisplayFormat(c[0].value_datetime):"Not Available";return n.push({label:"Next Appointment",value:o}),n}}),programReports:Ct};var Vt=Rt;function xt(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("opd-stat-card"),s=Object(o["resolveComponent"])("ion-col"),l=Object(o["resolveComponent"])("ion-row"),d=Object(o["resolveComponent"])("ion-grid"),u=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.patientSummaryStats,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.label},{default:Object(o["withCtx"])(()=>{var t;return[Object(o["createVNode"])(r,{label:e.label,value:e.value,color:null!==(t=e.color)&&void 0!==t?t:""},null,8,["label","value","color"])]}),_:2},1024))),128))]),_:1})]),_:1}),Object(o["createVNode"])(u,{class:"custom-card"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,{class:"no-padding"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(l,{class:"table-header"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{size:"3",class:"table-cell"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Task Type")]),_:1}),Object(o["createVNode"])(s,{size:"3",class:"table-cell"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Me")]),_:1}),Object(o["createVNode"])(s,{size:"3",class:"table-cell"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Facility")]),_:1}),Object(o["createVNode"])(s,{size:"3",class:"table-cell"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("Today")]),_:1})]),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.tableData,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:t,class:Object(o["normalizeClass"])(t%2===0?"even-row":"odd-row")},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{size:"3",class:"table-cell"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e[0]),1)]),_:2},1024),Object(o["createVNode"])(s,{size:"3",class:"table-cell"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e[1]),1)]),_:2},1024),Object(o["createVNode"])(s,{size:"3",class:"table-cell"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e[2]),1)]),_:2},1024),Object(o["createVNode"])(s,{size:"3",class:"table-cell"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e[3]),1)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})],64)}var Ft=n("156d");function Lt(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("ion-card-subtitle"),s=Object(o["resolveComponent"])("ion-spinner"),l=Object(o["resolveComponent"])("ion-card-content"),d=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{style:Object(o["normalizeStyle"])(e.bgColor)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]),_:1}),-1===e.value?(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:0},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{name:"crescent"})]),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:1},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.value),1)]),_:1}))]),_:1})]),_:1},8,["style"])}var Bt=Object(o["defineComponent"])({props:{label:String,value:Number,color:String},components:{IonCard:_["IonCard"],IonCardContent:_["IonCardContent"],IonCardSubtitle:_["IonCardSubtitle"],IonSpinner:_["IonSpinner"]},setup(e){var t;return{bgColor:"background-color: "+(null!==(t=e.color)&&void 0!==t?t:"")}}});n("3b46");const Mt=C()(Bt,[["render",Lt],["__scopeId","data-v-16d43afa"]]);var Ht=Mt,Ut=Object(o["defineComponent"])({data:function(){return{dayjs:k.a,sessionDate:"",patientSummaryStats:[{label:"Registered today",value:-1,color:"lightyellow"},{label:"Returning today",value:-1,color:"lightyellow"},{label:"Referred today",value:-1,color:"lightyellow"},{label:"Total",value:-1,color:"yellowgreen"}],seriesVisits:[],optionsVisits:{},optionsSyndromic:{},seriesSyndromic:[],options:{chart:{id:"vuechart-example"},xaxis:{categories:["","","","",""]},yaxis:{min:0,forceNiceScale:!0,title:{text:"Number of clients"}},noData:{text:"Loading data. Please wait...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"30px",fontFamily:"Helvetica"}}},series:[],tableData:[]}},components:{IonGrid:_["IonGrid"],IonRow:_["IonRow"],IonCol:_["IonCol"],IonCard:_["IonCard"],OpdStatCard:Ht},mounted(){this.sessionDate=Q["a"].getSessionDate(),this.getHomeDashboardStats()},methods:{getHomeDashboardStats:async function(){const e=await Ft["b"].get(`dashboard_stats?date=${this.sessionDate}&program_id=30`);if(e&&200==e.status){const t=await e.json(),n=this.transformData(t.bottom);this.tableData=n,this.patientSummaryStats=this.getTodaysPatientVisits(t.top)}},getTodaysPatientVisits(e){const t=Object.keys(e);let n=0;const a=[];return t.forEach(t=>{a.push({label:this.capitalizeFirstLetter(t.replace("_"," ")),value:e[t],color:"lightyellow"}),n+=e[t]}),a.push({label:"Total",value:n,color:"yellowgreen"}),a},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},transformData(e){return e.map(e=>[e.name,e.me.toString(),e.facility.toString(),e.total.toString()])}}});n("5085");const Gt=C()(Ut,[["render",xt],["__scopeId","data-v-7c93b426"]]);var $t=Gt;const zt=[{id:"AETC patient registration",name:"Patient registration",icon:"attributes.png"},{id:"AETC vitals",name:"vitals",icon:"vitals.png"},{id:"AETC presenting complaints",name:"presenting complaints",icon:"complaints.png"},{id:"AETC hiv status",name:"hiv status",icon:"aids.png",encounterTypeName:"update hiv status",availableOnActivitySelection:!1},{id:"AETC outpatient diagnosis",name:"outpatient diagnosis",icon:"diagnosis.png"},{id:"AETC outcome status",name:"outcome status",icon:"outcomes.png",encounterTypeName:"referral",availableOnActivitySelection:!1},{id:"lab orders",name:"Lab orders",icon:"clinical-notes.png",availableOnActivitySelection:!1,action:({patient:e},t)=>{t.push(`/los/forms/order/${e.patient_id}?type=DRAW_SAMPLES`)}},{id:"lab results",name:"Lab results",encounterTypeName:"lab orders",icon:"enter.png",availableOnActivitySelection:!1,action:({patient:e},t)=>{t.push({path:"/lab/results/"+e.patient_id})}},{id:"AETC social history",name:"social history",icon:"medical-report.png"},{id:"AETC prescription",name:"prescription",encounterTypeName:"Treatment",icon:"drugs-given.png"},{id:"AETC dispensation",name:"dispensation",workflowID:"Dispensing",encounterTypeName:"Dispensing",icon:"dispensing.png",availableOnActivitySelection:!1}],Jt=[{id:"AETC radiology examination",name:"radiology examination",icon:"radiology_types.png"}];const Yt=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",condition:()=>!0,files:[{name:"Malaria Report",pathName:"aetc_malaria_report"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"AETC Diagnosis Report",pathName:"aetc_diagnosis"},{name:"Diagnosis Specific Report",pathName:"aetc_diagnosis_specific"},{name:"Disaggregated Diagnosis",pathName:"aetc_disaggregated_diagnosis"},{name:"OPD General",pathName:"aetc_opd_general_report"},{name:"Referrals",pathName:"aetc_referral_report"},{name:"Total Registered",pathName:"aetc_total_registered_report"},{name:"Update DHIS2",pathName:"aetc_dhis2_report",pathUrl:"/aetc/reports/clinic/dhis2"}]}];var Wt=n("cd5b"),qt=[{name:"AETC patient registration",path:"/aetc/encounters/registration/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-5de0132c")]).then(n.bind(null,"658e"))},{name:"AETC hiv status",path:"/aetc/encounters/hiv-status/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2675659c")]).then(n.bind(null,"43a9"))},{name:"AETC vitals",path:"/aetc/encounters/vitals/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-c0e63af2")]).then(n.bind(null,"ab49"))},{name:"AETC outpatient diagnosis",path:"/aetc/encounters/diagnosis/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-1bd0efec")]).then(n.bind(null,"a145"))},{name:"AETC outcome status",path:"/aetc/encounters/outcome-status/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-a7a2845a")]).then(n.bind(null,"3c43"))},{name:"AETC social history",path:"/aetc/encounters/social/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-cc975d02")]).then(n.bind(null,"1243"))},{name:"AETC presenting complaints",path:"/aetc/encounters/complaints/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-03993608"),n.e("chunk-114c15f9")]).then(n.bind(null,"d093"))},{name:"AETC presenting complaints",path:"/aetc/encounters/complaints/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-03993608"),n.e("chunk-114c15f9")]).then(n.bind(null,"d093"))},{name:"AETC prescription",path:"/aetc/encounters/prescription/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-5844deae")]).then(n.bind(null,"7e95"))},{name:"AETC dispensation",path:"/aetc/encounters/dispensing/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-48720368")]).then(n.bind(null,"7c0f"))},{name:"AETC radiology examination",path:"/aetc/encounters/radiology/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-c8d451b2")]).then(n.bind(null,"e8c8"))},{name:Wt["a"].SET_TOP_10_DIAGNOSIS,path:"/aetc/preferences/top_ten_diagnosis",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-25cb22d9")]).then(n.bind(null,"820f"))},{name:Wt["a"].SET_TOP_10_DRUGS,path:"/aetc/preferences/top_ten_drugs",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-25cb22d9")]).then(n.bind(null,"820f"))},{name:"aetc_diagnosis",path:"/aetc/reports/clinic/diagnosis",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-68e72ecf")]).then(n.bind(null,"e3a5"))},{name:"aetc_diagnosis_specific",path:"/aetc/reports/clinic/diagnosisSpecific",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-7b3d4bae")]).then(n.bind(null,"615a"))},{name:"aetc_disaggregated_diagnosis",path:"/aetc/reports/clinic/disaggregatedDiagnosis",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-429f977b")]).then(n.bind(null,"01d7"))},{name:"aetc_opd_general_report",path:"/aetc/reports/clinic/opdGeneral",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-7bc06f4e")]).then(n.bind(null,"ca60"))},{name:"aetc_referral_report",path:"/aetc/reports/clinic/referral",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-65141d80")]).then(n.bind(null,"605d4"))},{name:"aetc_total_registered_report",path:"/aetc/reports/clinic/totalRegistered",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-8723e4e6")]).then(n.bind(null,"5c54"))},{name:"aetc_dhis2_report",path:"/aetc/reports/clinic/dhis2",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-2899cf11")]).then(n.bind(null,"a53e"))},{name:"aetc_malaria_report",path:"/aetc/reports/moh/malaria_report",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-4666ff1b")]).then(n.bind(null,"3695"))}];function Qt(e,t){return{name:e,pathUrl:`/preferences?label=${e}&property=${t}`}}const Xt=[{name:"System Preferences",icon:"diagnosis.png",condition:()=>P["a"].isAdmin(),files:[Qt("Activate Malaria Feature",Wt["a"].MALARIA_FEATURE),Qt("Ask Life threatening questions",Wt["a"].LIFE_THREATENING_QUESTIONS),Qt("Ask complaints before diagnosis",Wt["a"].COMPLAINTS_BEFORE_DIAGNOSIS),Qt("Ask complaints under vitals",Wt["a"].COMPLAINTS_UNDER_VITALS),Qt("Ask social determinats questions",Wt["a"].SOCIAL_DETERMINATES_QUESTIONS),Qt("Ask social history questions",Wt["a"].SOCIAL_HISTORY_QUESTIONS),Qt("Ask triage category questions",Wt["a"].TRIAGE_CATEGORY_QUESTIONS),Qt("Ask vitals before diagnosis (children)",Wt["a"].VITALS_BEFORE_DIAGNOSIS),Qt("Confirm patient creation",Wt["a"].CONFIRM_PATIENT_CREATION),Qt("Point of care system ?",Wt["a"].POINT_OF_CARE_SYSTEM),Qt("Share Database with BART2 ?",Wt["a"].SHARE_DATABASE_WITH_BART2),Qt("Show LAB Results",Wt["a"].SHOW_LAB_RESULTS),Qt("Show Tasks button on patient dashboard",Wt["a"].SHOW_TASKS_BUTTON_ON_PATIENT_DASHBOARD),Qt("Show column prescription interface",Wt["a"].SHOW_COLUMN_PRESCRIPTION_INTERFACE),{name:"Set Top Ten Diagnosis",pathUrl:"/aetc/preferences/top_ten_diagnosis"},{name:"Set Top Ten Drugs",pathUrl:"/aetc/preferences/top_ten_drugs"}]}];var Kt=n("2706");async function Zt(e){const t=new q["a"](e);await t.enrollProgram();const n=new mt["a"](e,5);await n.createEncounter(),await n.saveValueCodedObs("Type of patient","New Patient")}function en(e){return[{label:"Malawi National ID",value:"...",asyncValue:async()=>{const t=await S["a"].get("ACTIVE_PATIENT",{patientID:e});return t?t.getMWNationalID():"unknown"}},{label:"HIV Status",value:"...",asyncValue:async()=>await $["a"].getFirstValueText(e,"HIV Status")||"N/A"}]}async function tn(e){const t=await Y.alertSideEffects(e.getID()),n=await e.getBMI();return[{label:"Side effects",value:""+t.length},{label:"Patient BMI is",value:""+n.result}]}function nn(e){const t=e.tests[0],n=t.result[0],a=X["a"].isHighViralLoadResult(n)?'(<b style="color: #eb445a;">High</b>)':"";return`${t.name} ${n.value_modifier}${n.value} ${a}`}function an(e,t){return{"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}],ALERTS:()=>tn(e),"LAB ORDERS":async()=>{const t=[];return await X["a"].getOrders(e.getID()).then(e=>{const n=X["a"].getOrdersWithResults(e);n.forEach(e=>{t.push({value:nn(e),label:""})})}),t},OUTCOME:()=>[{label:"Current Outcome",value:t.outcome||"N/A"}],GUARDIAN:async()=>{const t=await W["a"].getGuardianDetails(e.getID());return t?t.map(e=>({label:e.name,value:e.relationshipType})):[]}}}const cn={programID:30,applicationName:"AETC",applicationIcon:"registration.png",applicationDescription:"AETC module",appRoutes:qt,programReports:Yt,primaryPatientActivites:zt,secondaryPatientActivites:Jt,homeOverviewComponent:$t,globalPropertySettings:Xt,onRegisterPatient:Zt,patientProgramInfoData:en,confirmationSummary:an,init:async()=>await Object(oe["c"])(zt,"OPD_activities"),programPatientIdentifiers:{"National ID":{id:28,name:"National ID",isPrimary:!0,useForSearch:!0,prefix:()=>"",validation:e=>Kt["a"].isMWNationalID(e),keyboardName:"Qwerty"}}};var on=cn;const rn={class:"overview"};function sn(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("report-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",rn,[Object(o["createVNode"])(r,{rows:e.rows,columns:e.columns,config:{tableCssTheme:"art-report-theme",skeletonTextRows:5,showIndex:!1}},null,8,["rows","columns"])])}var ln=n("866d"),dn=Object(o["defineComponent"])({components:{ReportTable:Ne["a"]},setup(){const e=[[Ce["a"].thTxt("Task"),Ce["a"].thTxt("Me"),Ce["a"].thTxt("Today")]],t=Object(o["ref"])([]);return Object(o["onMounted"])(()=>{const e=ln["a"].getSessionDate(),n=new ln["a"]("DASHBOARD STATISTICS",e,e),a=n.requestReport();"object"===typeof a&&a.then&&a.then(e=>{e.forEach(e=>{t.value.push([Ce["a"].td(e.name),Ce["a"].td(e.me),Ce["a"].td(e.clinic)])})}).catch(e=>Object(B["c"])(""+e))}),{columns:e,rows:t}}});n("9cfd");const un=C()(dn,[["render",sn],["__scopeId","data-v-30d95ce3"]]);var mn=un;const pn={programID:28,applicationName:"RADIOLOGY",applicationIcon:"radiology_types.png",applicationDescription:"Radiology service",homeOverviewComponent:mn,configDefaultPatientDashboardCards:{alertsEnabled:!1,medicationsEnabled:!1,labEnabled:!1},confirmationSummary(e){return{"Patient Identifiers":()=>[{label:"NPID",value:"...",staticValue:()=>e.getNationalID()}]}},globalPropertySettings:[{name:"System Preferences",condition:()=>P["a"].isAdmin(),files:[{name:"Default External Referral",pathUrl:"/radiology/preferences/default_referral_location"}]}],appRoutes:[{name:"Radiology preferences",path:"/radiology/preferences/:name",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-12fe4112")]).then(n.bind(null,"9178"))},{name:"Examination",path:"/radiology/examination/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-2012b2dd"),n.e("chunk-432f3a34")]).then(n.bind(null,"b14f"))},{name:"Radiology Appointment",path:"/radiology/appointment",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-497f592f")]).then(n.bind(null,"a93b"))},{name:"daily radiology report",path:"/radiology/report/daily",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-7374b6f9")]).then(n.bind(null,"a61b"))},{name:"revenue radiology report",path:"/radiology/report/revenue",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-1da99aa6")]).then(n.bind(null,"752f"))},{name:"radiology referral report",path:"/radiology/report/referral",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-64586bf2")]).then(n.bind(null,"5195"))},{name:"radiology activities",path:"/radiology/activities/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-987b0946")]).then(n.bind(null,"7681"))}],programReports:[{name:"Daily Report",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Daily Report",pathUrl:"/radiology/report/daily"}]},{name:"Revenue Collection Report",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Revenue Collection",pathUrl:"/radiology/report/revenue"}]},{name:"Referral Report",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Referral Report",pathUrl:"/radiology/report/referral"}]}],primaryPatientActivites:[{id:"Examination",name:"Examination",icon:"radiology_types.png"},{id:"Radiology Appointment",name:"Radiology Appointment",icon:"appointment.png"}],secondaryPatientActivites:[{id:"radiology activities",name:"Radiology Activities",icon:"radiology_types.png"}]};var hn=pn;const bn={class:"overview"};function gn(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("report-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bn,[Object(o["createVNode"])(r,{rows:e.rows,columns:e.columns,config:{tableCssTheme:"art-report-theme",skeletonTextRows:5,showIndex:!1}},null,8,["rows","columns"])])}class _n extends ie["e"]{constructor(){super()}requestReport(){return ie["e"].getJson("dashboard_stats",{program_id:ie["e"].getProgramID(),date:ie["e"].getSessionDate()})}}var fn=Object(o["defineComponent"])({components:{ReportTable:Ne["a"]},setup(){const e=[[Ce["a"].thTxt("Task"),Ce["a"].thTxt("Me"),Ce["a"].thTxt("Today")]],t=Object(o["ref"])([]);return Object(o["onMounted"])(()=>{const e=new _n,n=e.requestReport();"object"===typeof n&&n.then&&n.then(e=>{["Newly Registered Patients","Returning Patients"].forEach(n=>{const a=e[n];t.value.push([Ce["a"].td(n),Ce["a"].td(a.me),Ce["a"].td(a.total)]),delete e[n]}),Object.keys(e).forEach(n=>{t.value.push([Ce["a"].td(n),Ce["a"].td(e[n].me),Ce["a"].td(e[n].total)])})}).catch(e=>Object(B["c"])(""+e))}),{columns:e,rows:t}}});n("e3ed");const kn=C()(fn,[["render",gn],["__scopeId","data-v-717ebff1"]]);var On=kn;const vn=[{id:"Outpatient Reception",name:"Outpatient Reception",icon:"reception.png"},{id:"Patient Services",name:"Patient Services",icon:"attributes.png"}],yn=[];var In=[{name:"Outpatient Reception",path:"/registration/encounters/outpatient_reception/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-574a1272")]).then(n.bind(null,"b805"))},{name:"Patient Services",path:"/registration/encounters/patient_services/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-5ca3d91b")]).then(n.bind(null,"3be8"))}];async function En(e){const t=new q["a"](e);await t.enrollProgram();const n=new mt["a"](e,5);return await n.createEncounter(),await n.saveValueCodedObs("Type of patient","New Patient"),ue["a"].push("/registration/encounters/outpatient_reception/"+e),!0}function Tn(e){let t={};return[{label:"Malawi National ID",value:"...",init:async()=>{t=await S["a"].get("ACTIVE_PATIENT",{patientID:e})},staticValue:()=>t.getMWNationalID()}]}function jn(e){return{"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}]}}const Nn={programID:29,applicationName:"Registration",applicationIcon:"active-files.png",applicationDescription:"Patient Registration Program",appRoutes:In,programReports:yn,primaryPatientActivites:vn,secondaryPatientActivites:vn,homeOverviewComponent:On,onRegisterPatient:En,patientProgramInfoData:Tn,confirmationSummary:jn,programPatientIdentifiers:{"National ID":{id:28,name:"National ID",isPrimary:!0,useForSearch:!0,prefix:()=>"",validation:e=>Kt["a"].isMWNationalID(e),keyboardName:"Qwerty"}}};var Cn=Nn;function Dn(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("opd-stat-card"),s=Object(o["resolveComponent"])("ion-col"),l=Object(o["resolveComponent"])("ion-row"),d=Object(o["resolveComponent"])("ApexChart"),u=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createBlock"])(u,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.patientSummaryStats,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.label},{default:Object(o["withCtx"])(()=>{var t;return[Object(o["createVNode"])(r,{label:e.label,value:e.value,color:null!==(t=e.color)&&void 0!==t?t:""},null,8,["label","value","color"])]}),_:2},1024))),128))]),_:1}),Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,{width:"100%",height:"350px",type:"bar",options:e.optionsVisits,series:e.seriesVisits},null,8,["options","series"])]),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,{width:"100%",height:"350px",type:"area",options:e.optionsSyndromic,series:e.seriesSyndromic},null,8,["options","series"])]),_:1})]),_:1})]),_:1})}function wn(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Sn={capitalizeFirstLetter:wn};class An extends ie["e"]{constructor(){super()}static getStatistics(){return super.getJsonSWR("dashboard_stats",{date:super.getSessionDate(),program_id:super.getProgramID()})}static getTodaysPatientVisits(e){const t=Object.keys(e);let n=0;const a=[];return t.forEach(t=>{a.push({label:Sn.capitalizeFirstLetter(t.replace("_"," ")),value:e[t],color:"lightyellow"}),n+=e[t]}),a.push({label:"Total",value:n,color:"yellowgreen"}),a}static getRespiratory(){return super.getJsonSWR("/dashboard_stats_for_syndromic_statistics",{date:super.getSessionDate(),program_id:super.getProgramID()})}}function Pn(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("ion-card-subtitle"),s=Object(o["resolveComponent"])("ion-spinner"),l=Object(o["resolveComponent"])("ion-card-content"),d=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{style:Object(o["normalizeStyle"])(e.bgColor)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]),_:1}),-1===e.value?(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:0},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{name:"crescent"})]),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:1},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.value),1)]),_:1}))]),_:1})]),_:1},8,["style"])}var Rn=Object(o["defineComponent"])({props:{label:String,value:Number,color:String},components:{IonCard:_["IonCard"],IonCardContent:_["IonCardContent"],IonCardSubtitle:_["IonCardSubtitle"],IonSpinner:_["IonSpinner"]},setup(e){var t;return{bgColor:"background-color: "+(null!==(t=e.color)&&void 0!==t?t:"")}}});n("985a");const Vn=C()(Rn,[["render",Pn],["__scopeId","data-v-5ce582b2"]]);var xn=Vn,Fn=Object(o["defineComponent"])({data:function(){return{dayjs:k.a,sessionDate:"",patientSummaryStats:[{label:"Registered today",value:-1,color:"lightyellow"},{label:"Returning today",value:-1,color:"lightyellow"},{label:"Referred today",value:-1,color:"lightyellow"},{label:"Total",value:-1,color:"yellowgreen"}],seriesVisits:[],optionsVisits:{},optionsSyndromic:{},seriesSyndromic:[],options:{chart:{id:"vuechart-example"},xaxis:{categories:["","","","",""]},yaxis:{min:0,forceNiceScale:!0,title:{text:"Number of clients"}},noData:{text:"Loading data. Please wait...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"30px",fontFamily:"Helvetica"}}},series:[]}},components:{IonGrid:_["IonGrid"],IonRow:_["IonRow"],IonCol:_["IonCol"],ApexChart:v.a,OpdStatCard:xn},mounted(){this.sessionDate=Q["a"].getSessionDate(),this.getPatientSummary(),this.getSyndromic()},methods:{getSyndromic:async function(){const e=await Ft["b"].get(`dashboard_stats_for_syndromic_statistics?date=${this.sessionDate}&program_id=14`);if(e&&200==e.status){const t=await e.json();this.buildGraphData(t.down,"syndromicGraph")}},getPatientSummary:async function(){const e=await Ft["b"].get(`dashboard_stats?date=${this.sessionDate}&program_id=14`);if(e&&200==e.status){const t=await e.json();this.patientSummaryStats=An.getTodaysPatientVisits(t.top),this.buildGraphData(t.down,"visitGraph")}},buildGraphData:async function(e,t){for(const n in e){const a=e[n],c=Object.keys(a).map(e=>k()(a[e].start_date).format("MMM/YYYY")),o=Object.keys(a).map(e=>a[e].count),i={name:n,data:o};"visitGraph"==t?(this.seriesVisits.push(i),this.optionsVisits={...this.options,xaxis:{categories:[...c]}}):"syndromicGraph"==t&&(this.seriesSyndromic.push(i),this.optionsSyndromic={...this.options,xaxis:{categories:[...c]}})}}}});n("b152");const Ln=C()(Fn,[["render",Dn],["__scopeId","data-v-e143742e"]]);var Bn=Ln;const Mn=[{id:"patient registration",name:"Patient registration",icon:"attributes.png"},{id:"vitals",name:"Vitals",icon:"vitals.png"},{id:"presenting complaints",name:"Presenting complaints",icon:"complaints.png"},{id:"hiv status",name:"HIV STatus",icon:"aids.png",encounterTypeName:"update hiv status",availableOnActivitySelection:!1},{id:"outpatient diagnosis",name:"Outpatient diagnosis",icon:"diagnosis.png"},{id:"outcome status",name:"Outcome status",icon:"outcomes.png",availableOnActivitySelection:!1},{id:"lab orders",name:"Lab orders",icon:"clinical-notes.png",availableOnActivitySelection:!1,action:({patient:e},t)=>{t.push(`/los/forms/order/${e.patient_id}?type=DRAW_SAMPLES`)}},{id:"lab results",name:"Lab results",icon:"enter.png",availableOnActivitySelection:!1,action:({patient:e},t)=>{t.push({path:"/lab/results/"+e.patient_id})}},{id:"OPD social history",name:"OPD social history",icon:"medical-report.png",availableOnActivitySelection:!1},{id:"prescription",name:"Prescription",encounterTypeName:"Treatment",icon:"drugs-given.png"},{id:"dispensation",name:"Dispensation",workflowID:"Dispensing",icon:"dispensing.png",availableOnActivitySelection:!1}],Hn=[{id:"radiology examination",name:"radiology examination",icon:"radiology_types.png"}],Un=["Queen Elizabeth Central Hospital","Kamuzu Central Hospital","Mzuzu Central Hospital","Zomba Central Hospital"];function Gn(){for(const e of Un)if(e==ie["e"].getLocationName())return!0;return!1}const $n=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",condition:()=>!0,files:[{name:"LA report",pathName:"moh_la",condition:()=>!1},{name:"Drug report",pathName:"moh_drug",condition:()=>!1},{name:"Malaria report",pathName:"moh_malaria",condition:()=>!0},{name:"IPT",pathName:"moh_ipt",condition:()=>!1},{name:"IDSR Weekley Report",pathName:"idsr_weekly"},{name:"IDSR Monthly Report",pathName:"idsr_monthly"},{name:"HMIS 15 Report",pathName:"hmis_15",condition:()=>!Gn()},{name:"HMIS 17 Report",pathName:"hmis_17",condition:()=>Gn()}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Diagnosis by address",pathName:"clinic_diagnosis_by_address"},{name:"Diagnosis",pathName:"clinic_diagnosis"},{name:"Registration report",pathName:"clinic_registration"},{name:"LA report",pathName:"clinic_la"},{name:"Cases seen report",pathName:"clinic_cases_seen"},{name:"Mental health report",pathName:"clinic_mental_health"},{name:"Drugs Report",pathName:"clinic_drugs_given"},{name:"With NIDs",pathName:"clinic_with_nids"}]}];var zn=[{name:"patient registration",path:"/opd/encounters/registration/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-758dca60")]).then(n.bind(null,"c751"))},{name:"hiv status",path:"/opd/encounters/hiv-status/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-42db0396")]).then(n.bind(null,"8652"))},{name:"vitals",path:"/opd/encounters/vitals/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-c0e63af2")]).then(n.bind(null,"ab49"))},{name:"outpatient diagnosis",path:"/opd/encounters/diagnosis/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-95b18c84")]).then(n.bind(null,"a16a"))},{name:"outcome status",path:"/opd/encounters/outcome-status/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-351de88a")]).then(n.bind(null,"80ff"))},{name:"OPD social history",path:"/opd/encounters/social/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-a6bf6f7c")]).then(n.bind(null,"a949"))},{name:"presenting complaints",path:"/opd/encounters/complaints/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-03993608"),n.e("chunk-87ff211a")]).then(n.bind(null,"fea9"))},{name:"prescription",path:"/opd/encounters/prescription/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-e3ce66c6")]).then(n.bind(null,"13c2"))},{name:"dispensation",path:"/opd/encounters/dispensing/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-7680322b")]).then(n.bind(null,"4fc0"))},{name:"radiology examination",path:"/opd/encounters/radiology/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-31a837c0")]).then(n.bind(null,"640e"))},{name:"clinic_with_nids",path:"/opd/reports/clinic/clinic_with_nids",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-b15a4cbe")]).then(n.bind(null,"efa6"))},{name:"clinic_drugs_given",path:"/opd/reports/clinic/clinic_drugs_given",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-f034d5ce")]).then(n.bind(null,"5d65"))},{name:"clinic_registration",path:"/opd/reports/clinic/cclinic_registration",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-337918c0"),n.e("chunk-4409b90c")]).then(n.bind(null,"fd0a"))},{name:"clinic_la",path:"/opd/reports/clinic/clinic_la",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-5634edea")]).then(n.bind(null,"7666"))},{name:"clinic_cases_seen",path:"/opd/reports/clinic/clinic_cases_seen",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-1fa672d3")]).then(n.bind(null,"f482"))},{name:"clinic_mental_health",path:"/opd/reports/clinic/clinic_mental_health",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-9cfeeccc")]).then(n.bind(null,"3c87"))},{name:"clinic_diagnosis",path:"/opd/reports/clinic/clinic_diagnosis",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-75e421d0")]).then(n.bind(null,"15ab"))},{name:"clinic_diagnosis_by_address",path:"/opd/reports/clinic/clinic_diagnosis_by_address",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-58c4f368")]).then(n.bind(null,"e4c1"))},{name:"idsr_weekly",path:"/opd/reports/moh/idsr_weekly",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-8f04b8cc"),n.e("chunk-2d0c8493")]).then(n.bind(null,"53dc"))},{name:"idsr_monthly",path:"/opd/reports/moh/idsr_monthly",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-8f04b8cc"),n.e("chunk-2d0f028e")]).then(n.bind(null,"9ad4"))},{name:"hmis_15",path:"/opd/reports/moh/hmis_15",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-48a533fb"),n.e("chunk-2d0bb1cf")]).then(n.bind(null,"39a4"))},{name:"hmis_17",path:"/opd/reports/moh/hmis_17",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-48a533fb"),n.e("chunk-2d0ddf11")]).then(n.bind(null,"8410"))},{name:"moh_malaria",path:"/moh_malaria",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-1f557c87")]).then(n.bind(null,"0f23"))}],Jn=n("66fd");function Yn(e,t){return{name:e,pathUrl:`/preferences?label=${e}&property=${t}`}}const Wn=[{name:"System Preferences",icon:"diagnosis.png",condition:()=>P["a"].isAdmin(),files:[Yn("Activate PACs",Jn["a"].PACS_ENABLED)]}];async function qn(e){const t=new q["a"](e);await t.enrollProgram();const n=new mt["a"](e,5);await n.createEncounter(),await n.saveValueCodedObs("Type of patient","New Patient")}function Qn(e){return[{label:"Malawi National ID",value:"...",asyncValue:async()=>{const t=await S["a"].get("ACTIVE_PATIENT",{patientID:e});return t?t.getMWNationalID():"unknown"}},{label:"HIV Status",value:"...",asyncValue:async()=>await $["a"].getFirstValueText(e,"HIV Status")||"N/A"}]}async function Xn(e){const t=await Y.alertSideEffects(e.getID()),n=await e.getBMI();return[{label:"Side effects",value:""+t.length},{label:"Patient BMI is",value:""+n.result}]}function Kn(e){const t=e.tests[0],n=t.result[0],a=X["a"].isHighViralLoadResult(n)?'(<b style="color: #eb445a;">High</b>)':"";return`${t.name} ${n.value_modifier}${n.value} ${a}`}function Zn(e,t){return{"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}],ALERTS:()=>Xn(e),"LAB ORDERS":async()=>{const t=[];return await X["a"].getOrders(e.getID()).then(e=>{const n=X["a"].getOrdersWithResults(e);n.forEach(e=>{t.push({value:Kn(e),label:""})})}),t},OUTCOME:()=>[{label:"Current Outcome",value:t.outcome||"N/A"}],GUARDIAN:async()=>{const t=await W["a"].getGuardianDetails(e.getID());return t?t.map(e=>({label:e.name,value:e.relationshipType})):[]}}}const ea={programID:14,applicationName:"OPD",applicationIcon:"opd.png",applicationDescription:"Outpatient Program",appRoutes:zn,isPocApp:!0,programReports:$n,primaryPatientActivites:Mn,secondaryPatientActivites:Hn,homeOverviewComponent:Bn,globalPropertySettings:Wn,onRegisterPatient:qn,patientProgramInfoData:Qn,confirmationSummary:Zn,init:async()=>await Object(oe["c"])(Mn,"OPD_activities"),programPatientIdentifiers:{"National ID":{id:28,name:"National ID",isPrimary:!0,useForSearch:!0,prefix:()=>"",validation:e=>Kt["a"].isMWNationalID(e),keyboardName:"Qwerty"}}};var ta=ea;const na={programID:-1,applicationName:"CRVS",applicationIcon:"login-logos/Malawi-Coat_of_arms_of_arms.png",applicationDescription:"CRVS module",appRoutes:[],init:async()=>{const e=window.open("http://10.46.0.47:5000","_blank");e&&e.focus()},primaryPatientActivites:[],secondaryPatientActivites:[],globalPropertySettings:[],homeOverviewComponent:null,programReports:[]};var aa=na;function ca(e,t,n,a,c,i){const r=Object(o["resolveComponent"])("ion-card-subtitle"),s=Object(o["resolveComponent"])("ion-spinner"),l=Object(o["resolveComponent"])("ion-card-content"),d=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{style:Object(o["normalizeStyle"])(e.bgColor)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]),_:1}),-1===e.value?(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:0},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{name:"crescent"})]),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:1},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.value),1)]),_:1}))]),_:1})]),_:1},8,["style"])}var oa=Object(o["defineComponent"])({props:{label:String,value:Number,color:String},components:{IonCard:_["IonCard"],IonCardContent:_["IonCardContent"],IonCardSubtitle:_["IonCardSubtitle"],IonSpinner:_["IonSpinner"]},setup(e){var t;return{bgColor:"background-color: "+(null!==(t=e.color)&&void 0!==t?t:"")}}});n("27e7");const ia=C()(oa,[["render",ca],["__scopeId","data-v-70b237d3"]]);var ra=ia,sa=n("48da");const la=e=>(Object(o["pushScopeId"])("data-v-9a58baaa"),e=e(),Object(o["popScopeId"])(),e),da={class:"his-sm-text"},ua=la(()=>Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th"),Object(o["createElementVNode"])("th",null,"Female"),Object(o["createElementVNode"])("th",null,"Male"),Object(o["createElementVNode"])("th",null,"Me"),Object(o["createElementVNode"])("th",null,"Facility")],-1)),ma={class:"encounter-td"},pa={class:"other-td"},ha={class:"other-td"},ba={class:"other-td"},ga={class:"other-td"};var _a=Object(o["defineComponent"])({__name:"HomeOverview",setup(e){const t=Object(o["ref"])(),n=Object(o["computed"])(()=>Object(ce["isEmpty"])(t.value)?[{encounter:"Patient Registration",female:0,male:0,me:0,facility:0},{encounter:"HIV tests",female:0,male:0,me:0,facility:0},{encounter:"Influeza data",female:0,male:0,me:0,facility:0},{encounter:"Chronic conditions",female:0,male:0,me:0,facility:0},{encounter:"Patient Diagnosis",female:0,male:0,me:0,facility:0},{encounter:"Prescriptions",female:0,male:0,me:0,facility:0},{encounter:"Dispensations",female:0,male:0,me:0,facility:0},{encounter:"Discharges",female:0,male:0,me:0,facility:0}]:t.value.rows),a=Object(o["computed"])(()=>{var e,n,a,o,i,r,s,l,d;return[{label:"Registered today",value:null!==(e=null===(n=t.value)||void 0===n||null===(n=n.patient_summary_stats)||void 0===n||null===(n=n.top)||void 0===n?void 0:n.registered_today)&&void 0!==e?e:-1,color:"lightyellow"},{label:"Returning today",value:null!==(a=null===(o=t.value)||void 0===o||null===(o=o.patient_summary_stats)||void 0===o||null===(o=o.top)||void 0===o?void 0:o.returning_today)&&void 0!==a?a:-1,color:"lightyellow"},{label:"Referred today",value:null!==(i=null===(r=t.value)||void 0===r||null===(r=r.patient_summary_stats)||void 0===r||null===(r=r.top)||void 0===r?void 0:r.referred_today)&&void 0!==i?i:-1,color:"lightyellow"},{label:"Total",value:null!==(s=c(null!==(l=null===(d=t.value)||void 0===d||null===(d=d.patient_summary_stats)||void 0===d?void 0:d.top)&&void 0!==l?l:{}))&&void 0!==s?s:-1,color:"yellowgreen"}]});function c(e){return Object.values(e).reduce((e,t)=>e+t,0)}const i=Object(o["ref"])([]),r=Object(o["ref"])({chart:{id:"vuechart-example"},xaxis:{categories:["","","","",""]},yaxis:{min:0,forceNiceScale:!0,title:{text:"Number of clients"}},noData:{text:"Loading data. Please wait...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"30px",fontFamily:"Helvetica"}}});function s(e){Object.entries(e).forEach(([e,t])=>{const n=[],a=[];Object.values(t).forEach(({start_date:e,count:t})=>{n.push(k()(e).format("MMM/YYYY")),a.push(t)}),i.value.push({data:a,name:e}),r.value.xaxis.categories=n})}return Object(o["onMounted"])(async()=>{const e=new sa["a"];e.startDate=e.date,e.endDate=e.date,t.value=await e.getReport("dashboard"),s(t.value.patient_summary_stats.down)}),(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["unref"])(_["IonGrid"]),null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Object(o["unref"])(_["IonRow"]),null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.value,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["unref"])(_["IonCol"]),{key:e.label},{default:Object(o["withCtx"])(()=>{var t;return[Object(o["createVNode"])(ra,{label:e.label,value:e.value,color:null!==(t=e.color)&&void 0!==t?t:""},null,8,["label","value","color"])]}),_:2},1024))),128))]),_:1}),Object(o["createVNode"])(Object(o["unref"])(_["IonRow"]),null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Object(o["unref"])(_["IonCol"]),null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Object(o["unref"])(v.a),{width:"100%",height:"350px",type:"bar",options:r.value,series:i.value},null,8,["options","series"])]),_:1}),Object(o["createVNode"])(Object(o["unref"])(_["IonCol"]),null,{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("table",da,[ua,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.value,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:t},[Object(o["createElementVNode"])("td",ma,Object(o["toDisplayString"])(e.encounter),1),Object(o["createElementVNode"])("td",pa,Object(o["toDisplayString"])(e.female),1),Object(o["createElementVNode"])("td",ha,Object(o["toDisplayString"])(e.male),1),Object(o["createElementVNode"])("td",ba,Object(o["toDisplayString"])(e.me),1),Object(o["createElementVNode"])("td",ga,Object(o["toDisplayString"])(e.facility),1)]))),128))])]),_:1})]),_:1})]),_:1}))}});n("0669");const fa=C()(_a,[["__scopeId","data-v-9a58baaa"]]);var ka=fa;const Oa=[{id:"patient registration",name:"Patient registration",icon:"attributes.png"},{id:"admit patient",name:"Admin Patient",encounterTypeName:"admit patient",icon:"consultation.png"},{id:"hiv status",name:"HIV Status",icon:"aids.png",encounterTypeName:"update hiv status",workflowID:"update hiv status",action:({patientID:e})=>{ue["a"].push({path:"/SPINE/encounters/hiv-status/"+e})}},{id:"influenza data",name:"Influenza Data",icon:"influenza.jpg"},{id:"lab orders",name:"Lab orders",icon:"clinical-notes.png",action:({patient:e},t)=>{t.push(`/los/forms/order/${e.patient_id}?type=DRAW_SAMPLES`)}},{id:"lab results",name:"Lab results",icon:"enter.png",action:({patient:e},t)=>{t.push({path:"/lab/results/"+e.patient_id})}},{id:"social history",name:"social history",icon:"medical-report.png"},{id:"chronic conditions",name:"Chronic Conditions",icon:"attributes.png"},{id:"patient diagnosis",name:"Diagnosis",encounterTypeName:"diagnosis",workflowID:"diagnosis",icon:"diagnosis.png",action:({patientID:e})=>{ue["a"].push({path:"/SPINE/encounters/diagnosis/"+e})}},{id:"prescription",name:"Prescription",encounterTypeName:"Treatment",workflowID:"treatment",icon:"drugs-given.png",action:({patientID:e})=>{ue["a"].push({path:"/SPINE/encounters/prescription/"+e})}},{id:"dispensation",name:"Dispensation",workflowID:"Dispensing",icon:"dispensing.png",action:({patientID:e})=>{ue["a"].push({path:"/SPINE/encounters/dispensing/"+e})}},{id:"discharge patient",name:"Discharge Patient",icon:"outcomes.png"}],va=[],ya=[{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Diagnosis Report",pathName:"Spine Clinic Diagnosis Report"},{name:"Patient Outcomes",pathName:"Spine Clinic Outcomes Report",condition:()=>!1}]}];var Ia=[{name:"patient registration",path:"/spine/encounters/registration/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-7d176896")]).then(n.bind(null,"38ec"))},{name:"admit patient",path:"/spine/encounters/admit-patient/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-2d0b9969")]).then(n.bind(null,"341c"))},{name:"hiv status",path:"/spine/encounters/hiv-status/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-4c645a45")]).then(n.bind(null,"552e"))},{name:"patient diagnosis",path:"/spine/encounters/diagnosis/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-7975ad03")]).then(n.bind(null,"1d33"))},{name:"discharge patient",path:"/spine/encounters/outcome-status/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-0f68ebc1")]).then(n.bind(null,"4f4b"))},{name:"social history",path:"/spine/encounters/social/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-01d89442")]).then(n.bind(null,"04f9"))},{name:"prescription",path:"/spine/encounters/prescription/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-5ddd476a")]).then(n.bind(null,"007a"))},{name:"dispensation",path:"/spine/encounters/dispensing/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-3a4e23c4")]).then(n.bind(null,"26a2"))},{name:"influenza data",path:"/spine/encounters/influenza/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-3642fa06")]).then(n.bind(null,"4d33"))},{name:"chronic conditions",path:"/spine/encounters/chronic-conditions/:patient_id",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-19d69ed7"),n.e("chunk-7dd929c2"),n.e("chunk-1a8388cc")]).then(n.bind(null,"2ad1"))},{name:"Spine Clinic Diagnosis Report",path:"/spine/reports/clinic/diagnosis",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-2bf70182"),n.e("chunk-217d7052")]).then(n.bind(null,"11e2"))},{name:"Spine Clinic Outcomes Report",path:"/spine/reports/clinic/outcomes",component:()=>Promise.all([n.e("chunk-182277b5"),n.e("chunk-6b0e71d3"),n.e("chunk-337918c0"),n.e("chunk-03993608"),n.e("chunk-79f4429c")]).then(n.bind(null,"74f9"))}];const Ea=[];async function Ta(e){const t=new q["a"](e);await t.enrollProgram();const n=new mt["a"](e,5);await n.createEncounter(),await n.saveValueCodedObs("Type of patient","New Patient")}function ja(e){return[{label:"Malawi National ID",value:"...",asyncValue:async()=>{const t=await S["a"].get("ACTIVE_PATIENT",{patientID:e});return t?t.getMWNationalID():"unknown"}},{label:"HIV Status",value:"...",asyncValue:async()=>await $["a"].getFirstValueText(e,"HIV Status")||"N/A"}]}async function Na(e){const t=await Y.alertSideEffects(e.getID()),n=await e.getBMI();return[{label:"Side effects",value:""+t.length},{label:"Patient BMI is",value:""+n.result}]}function Ca(e){const t=e.tests[0],n=t.result[0],a=X["a"].isHighViralLoadResult(n)?'(<b style="color: #eb445a;">High</b>)':"";return`${t.name} ${n.value_modifier}${n.value} ${a}`}function Da(e,t){return{"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}],ALERTS:()=>Na(e),"LAB ORDERS":async()=>{const t=[];return await X["a"].getOrders(e.getID()).then(e=>{const n=X["a"].getOrdersWithResults(e);n.forEach(e=>{t.push({value:Ca(e),label:""})})}),t},OUTCOME:()=>[{label:"Current Outcome",value:t.outcome||"N/A"}],GUARDIAN:async()=>{const t=await W["a"].getGuardianDetails(e.getID());return t?t.map(e=>({label:e.name,value:e.relationshipType})):[]}}}const wa={programID:31,applicationName:"SPINE",applicationIcon:"spine_logo.png",applicationDescription:"In-patient Program",appRoutes:Ia,programReports:ya,primaryPatientActivites:Oa,secondaryPatientActivites:va,homeOverviewComponent:ka,globalPropertySettings:Ea,onRegisterPatient:Ta,patientProgramInfoData:ja,confirmationSummary:Da,programPatientIdentifiers:{"National ID":{id:28,name:"National ID",isPrimary:!0,useForSearch:!0,prefix:()=>"",validation:e=>Kt["a"].isMWNationalID(e),keyboardName:"Qwerty"}}};var Sa=wa;const Aa=[Ee,Ye,ta,gt,Vt,on,Sa,hn,Cn,Ke,aa,Cn];function Pa(){return Aa.reduce((e,t)=>e.concat(t.appRoutes),[])}t["b"]=Aa},fa73:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("ade3"),c=(n("14d9"),n("1c74")),o=n("2ef0"),i=n("4db7"),r=n("9283"),s=n("23e6"),l=n("cc74");class d extends c["e"]{constructor(){super(),Object(a["a"])(this,"patientID",void 0),Object(a["a"])(this,"enabled",void 0),this.patientID=-1,this.enabled=!1}static getRemainingNpids(){return c["e"].getJson("dde/patients/remaining_npids",{program_id:c["e"].getProgramID()})}setPatientID(e){this.patientID=e}async loadDDEStatus(){this.enabled=await l["c"].ddeEnabled()}isEnabled(){return this.enabled}importPatient(e){return c["e"].getJson("dde/patients/import_by_doc_id",{doc_id:e,program_id:c["e"].getProgramID()})}postMerge(e){const[t,...n]=e.map(e=>({patient_id:e.patientID,doc_id:e.docID||""}));return this.patientID=t.patient_id,this.mergePatients({primary:t,secondary:n,program_id:c["e"].getProgramID()})}checkPotentialDuplicates(e){return c["e"].getJson("dde/patients/match_by_demographics",{...e,program_id:c["e"].getProgramID()})}hasPatientDoubles(e){return e.map(t=>e.map(e=>e.patient_id).includes(t.patient_id)).some(Boolean)}async searchDemographics(e){const t=await c["e"].getJson("dde/patients/find_by_name_and_gender",{program_id:c["e"].getProgramID(),...e}),n=(e,t)=>{const n=new s["a"](e);return{patient_type:t,doc_id:n.getPatientIdentifier(27),...e}};if(t){const e=t.locals.map(e=>n(e,"Local")),a=t.remotes.map(e=>n(e,"Remote"));return e.concat(a)}return[]}async searchNpid(e){const t=await this.findNpid(e);if(t){const e=t.locals.concat(t.remotes);if(Object(o["isEmpty"])(e))return[];const n=this.hasPatientDoubles(t.locals),a=this.hasPatientDoubles(t.remotes);return this.patientID=e[0].patient_id,n||a?e:e[0]}return[]}findNpid(e){return c["e"].getJson("dde/patients/find_by_npid",{npid:e,program_id:c["e"].getProgramID()})}findVoidedIdentifier(e){return c["e"].getJson("search/patients/by_identifier",{type_id:3,voided:!0,identifier:e})}shouldCreateNpid(e){return!Object(o["isEmpty"])(e)&&e.npid}formatDiffValuesByType(e,t){const n={};for(const a in e)n[a]=e[t];return n}diffsToTurple(e){const t=[],n=(e,t)=>"string"===typeof t&&e.match(/date/i)?r["c"].toStandardHisDisplayFormat(t):t;for(const a in e){const c=e[a],o=a.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");t.push([o,n(a,c.local),n(a,c.remote)])}return t}shouldUpdateDiffs(e){return!Object(o["isEmpty"])(e)}mergePatients(e){return c["e"].postJson("dde/patients/merge",e)}reassignNpid(e,t=this.patientID){return c["e"].postJson("dde/patients/reassign_npid",{program_id:c["e"].getProgramID(),patient_id:t,doc_id:e})}createNPID(e){return c["e"].postJson("patient_identifiers",{identifier:e,patient_id:this.patientID,identifier_type:3})}printNpid(e=this.patientID){return new i["a"](e).printNidLbl()}getLocalAndRemoteDiffs(){return c["e"].getJson("dde/patients/diff",{patient_id:this.patientID,program_id:c["e"].getProgramID()})}updateLocalDifferences(e){return c["e"].putJson("people/"+this.patientID,{program_id:c["e"].getProgramID(),...e})}refreshDemographics(){return c["e"].getJson("dde/patients/refresh",{patient_id:this.patientID,program_id:c["e"].getProgramID()})}}},fa94:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("ade3"),c=n("1c74");class o extends c["e"]{constructor(){super(),Object(a["a"])(this,"programID",void 0),Object(a["a"])(this,"startDate",void 0),Object(a["a"])(this,"endDate",void 0),Object(a["a"])(this,"date",void 0),this.startDate="",this.endDate="",this.date=c["e"].getSessionDate(),this.programID=c["e"].getProgramID()}setStartDate(e){this.startDate=e}setEndDate(e){this.endDate=e}buildRequestParams(e){const t={};return this.startDate&&(t["start_date"]=this.startDate),this.endDate&&(t["end_date"]=this.endDate),this.date&&(t["date"]=this.date),this.programID&&(t["program_id"]=this.programID),{...t,...e}}}}});
//# sourceMappingURL=app.a2545c51.js.map