(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-484b76bb"],{"226e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[a("side-bar"),a("div",{attrs:{id:"page-content-wrapper"}},[a("top-nav"),a("div",{staticClass:"col-12 table-col",attrs:{id:"main-container"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("label",{attrs:{for:""}},[t._v("Select data cleaning tool")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.report,expression:"report"}],staticClass:"form-control",attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.report=e.target.multiple?a:a[0]}}},t._l(t.tools,(function(e,n){return a("option",{key:n,domProps:{value:{name:e.name,path:e.path}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),a("div",{staticClass:"col-md-8"},[a("sdPicker",{attrs:{onSubmit:t.fetchDates}})],1),a("div",{staticClass:"form-group"})]),a("vue-bootstrap4-table",{attrs:{rows:t.rows,columns:t.columns,config:t.config,"show-loader":t.showLoader,actions:t.actions},scopedSlots:t._u([{key:"birthdate",fn:function(e){return[a("b",[t._v(t._s(t.moment(e.cell_value).format("DD/MMM/YYYY"))+" ("+t._s(t.moment().diff(e.cell_value,"years",!1))+")")])]}},{key:"patient_id",fn:function(e){return[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.redirect(e.cell_value)}}},[t._v("show")])]}}])})],1)],1)],1)},s=[],r=(a("45fc"),a("b0c0"),a("b64b"),a("96cf"),a("1da1")),o=a("12f9"),i=a("8051"),c=a("ebd8"),l=a("7c08"),u=a("c1df"),m=a.n(u),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[t._m(0),a("div",{staticClass:"form-inline"},[a("div",{staticClass:"form-group mb-2"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"Start Date",readonly:!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),a("div",{staticClass:"form-group mx-sm-3 mb-2"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"End Date",readonly:!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),a("button",{staticClass:"btn btn-success mb-2",on:{click:t.submitDates}},[t._v("Submit")])])])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"justify-content-center"},[a("label",[t._v("Dates")])])}],f=a("f0ca"),h=a.n(f),b=(a("6f3c"),a("1789")),D={components:{DatePick:h.a},props:["onSubmit"],data:function(){return{startDate:null,endDate:null,format:"DD/MMM/YYYY",date:b["a"].format(new Date,"DD/MMM/YYYY")}},methods:{initDates:function(){},submitDates:function(){this.startDate=m()(this.startDate).format("YYYY-MM-DD"),this.endDate=m()(this.endDate).format("YYYY-MM-DD"),this.onSubmit([this.startDate,this.endDate])},parseDate:function(t,e){return b["a"].parse(t,e)},formatDate:function(t,e){return b["a"].format(t,e)}},mounted:function(){var t=this;setTimeout((function(){return t.initDates()}),300)}},v=D,_=(a("e478"),a("2877")),w=Object(_["a"])(v,d,p,!1,null,"4cf24ac8",null),E=w.exports,T={name:"App",data:function(){return{reportData:null,dTable:null,formatedData:[],showLoader:!1,report:{},tools:[{path:"DATE ENROLLED LESS THAN EARLIEST START DATE",name:"Patients with earliest start date less than date enrolled"},{path:"CLIENTS WITH ENCOUNTERS AFTER DECLARED DEAD",name:"Encounters after death"},{path:"DOB MORE THAN DATE ENROLLED",name:"Patients enrolled on art before birth"},{path:"MALE CLIENTS WITH FEMALE OBS",name:"Male patients with female observations"},{path:"MISSING START REASONS",name:"Patient without ART start reason"},{path:"MULTIPLE START REASONS",name:"Patients with multiple start reasons"},{path:"PRE ART OR UNKNOWN OUTCOMES",name:"Patients with PRE-ART / unknown as outcome status"},{path:"PRESCRIPTION WITHOUT DISPENSATION",name:"Patient with prescriptions without dispensation"}],rows:[],columns:[{label:"ARV Number",name:"arv_number",sort:!0},{label:"First Name",name:"given_name",sort:!0},{label:"Last Name",name:"family_name",sort:!0},{label:"Gender",name:"gender",sort:!0},{label:"date of Birth",name:"birthdate",slot_name:"birthdate",sort:!0},{label:"Action",name:"patient_id",slot_name:"patient_id"}],config:{card_title:"data cleaning tools",show_refresh_button:!1,show_reset_button:!1},actions:[{btn_text:"PDF",event_name:"on-download",class:"btn btn-primary my-custom-class",event_payload:{msg:"my custom msg"}},{btn_text:"CSV",event_name:"on-download",class:"btn btn-primary my-custom-class",event_payload:{msg:"my custom msg"}},{btn_text:"Print",event_name:"on-download",class:"btn btn-primary my-custom-class",event_payload:{msg:"my custom msg"}}]}},methods:{fetchDates:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,n,s,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.rows=[],this.report_title=this.report.name,a=function(t){return"Invalid date"===t},!e.some(a)){t.next=7;break}console.log("Check your dates"),t.next=15;break;case 7:return this.showLoader=!0,n="/art_data_cleaning_tools?start_date="+e[0]+"&end_date="+e[1],n+="&program_id=1",n+="&report_name=".concat(this.report.path),t.next=13,i["a"].get(n,{},{});case 13:s=t.sent,200===s.status?(s.json().then((function(t){Object.keys(t).length>0&&(r.rows=t)})),this.showLoader=!1):this.showLoader=!1;case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),redirect:function(t){this.$router.push("/patient/mastercard/".concat(t))}},components:{VueBootstrap4Table:o["a"],"top-nav":c["a"],"side-bar":l["a"],sdPicker:E},computed:{}},g=T,y=(a("6f5d"),Object(_["a"])(g,n,s,!1,null,null,null));e["default"]=y.exports},"45fc":function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").some,r=a("a640"),o=a("ae40"),i=r("some"),c=o("some");n({target:"Array",proto:!0,forced:!i||!c},{some:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"6f5d":function(t,e,a){"use strict";var n=a("88e9"),s=a.n(n);s.a},"88e9":function(t,e,a){},a10b:function(t,e,a){},e478:function(t,e,a){"use strict";var n=a("a10b"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-484b76bb.4641463d.js.map