(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4678c20"],{1276:function(e,t,r){"use strict";var n=r("d784"),a=r("44e7"),i=r("825a"),u=r("1d80"),c=r("4840"),s=r("8aa5"),o=r("50c4"),l=r("14c3"),f=r("9263"),p=r("d039"),d=[].push,h=Math.min,v=4294967295,g=!p((function(){return!RegExp(v,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(u(this)),i=void 0===r?v:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!a(e))return t.call(n,e,i);var c,s,o,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,g=new RegExp(e.source,p+"g");while(c=f.call(g,n)){if(s=g.lastIndex,s>h&&(l.push(n.slice(h,c.index)),c.length>1&&c.index<n.length&&d.apply(l,c.slice(1)),o=c[0].length,h=s,l.length>=i))break;g.lastIndex===c.index&&g.lastIndex++}return h===n.length?!o&&g.test("")||l.push(""):l.push(n.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var a=u(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,a,r):n.call(String(a),t,r)},function(e,a){var u=r(n,e,this,a,n!==t);if(u.done)return u.value;var f=i(e),p=String(this),d=c(f,RegExp),b=f.unicode,m=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),x=new d(g?f:"^(?:"+f.source+")",m),w=void 0===a?v:a>>>0;if(0===w)return[];if(0===p.length)return null===l(x,p)?[p]:[];var y=0,R=0,S=[];while(R<p.length){x.lastIndex=g?R:0;var _,k=l(x,g?p:p.slice(R));if(null===k||(_=h(o(x.lastIndex+(g?0:R)),p.length))===y)R=s(p,R,b);else{if(S.push(p.slice(y,R)),S.length===w)return S;for(var E=1;E<=k.length-1;E++)if(S.push(k[E]),S.length===w)return S;R=y=_}}return S.push(p.slice(y)),S}]}),!g)},"13d5":function(e,t,r){"use strict";var n=r("23e7"),a=r("d58f").left,i=r("a640"),u=r("ae40"),c=i("reduce"),s=u("reduce",{1:0});n({target:"Array",proto:!0,forced:!c||!s},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},3835:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return u}));r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("25f0"),r("3ca3"),r("ddb0");function a(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done);n=!0)if(r.push(u.value),t&&r.length===t)break}catch(s){a=!0,i=s}finally{try{n||null==c["return"]||c["return"]()}finally{if(a)throw i}}return r}}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,t){return n(e)||a(e,t)||i()}},"466d":function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),i=r("50c4"),u=r("1d80"),c=r("8aa5"),s=r("14c3");n("match",1,(function(e,t,r){return[function(t){var r=u(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var u=a(e),o=String(this);if(!u.global)return s(u,o);var l=u.unicode;u.lastIndex=0;var f,p=[],d=0;while(null!==(f=s(u,o))){var h=String(f[0]);p[d]=h,""===h&&(u.lastIndex=c(o,i(u.lastIndex),l)),d++}return 0===d?null:p}]}))},"498a":function(e,t,r){"use strict";var n=r("23e7"),a=r("58a8").trim,i=r("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},"4fad":function(e,t,r){var n=r("23e7"),a=r("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return a(e)}})},"50e8":function(e,t,r){"use strict";r("99af"),r("4de4"),r("7db0"),r("13d5"),r("4fad"),r("d3b7"),r("ac1f"),r("466d"),r("1276");var n=r("3835"),a=(r("96cf"),r("1da1")),i=r("c1df"),u=r.n(i),c=r("9521"),s=r("8051"),o=r("7833");t["a"]=function(){function e(e){return t.apply(this,arguments)}function t(){return t=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.searchText,a=t.gender,e.next=3,p(n);case 3:i=e.sent,u=i.type,c=i.value,e.t0=u,e.next="name"===e.t0?9:"arv_number"===e.t0?12:15;break;case 9:return e.next=11,l(c,a);case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,r(c);case 14:return e.abrupt("return",e.sent);case 15:throw new Error("Failed to parse searchText: ".concat(n));case 16:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}function r(e){return i.apply(this,arguments)}function i(){return i=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="search/patients/by_identifier?type_id=4&identifier=".concat(t),e.next=3,s["a"].get(r);case 3:if(n=e.sent,200===n.status){e.next=6;break}throw new Error("Patient search request to API failed");case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function l(e,t){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=b(m(t,r)),e.next=3,s["a"].get("search/patients?".concat(n));case 3:if(a=e.sent,200===a.status){e.next=6;break}throw new Error("Patient search request to API failed");case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.match(/^(\w+-ARV-\w+)$/)){e.next=2;break}return e.abrupt("return",{type:"arv_number",value:t});case 2:if(!t.match(/^(\d+)$/)){e.next=7;break}return e.next=5,o["a"].getSitePrefix();case 5:return r=e.sent,e.abrupt("return",{type:"arv_number",value:"".concat(r,"-ARV-").concat(t)});case 7:return e.abrupt("return",{type:"name",value:t});case 8:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var h=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.abrupt("return",new Promise((function(e,r){s["a"].remove("patients/".concat(t.patient_id,"?reason=").concat(t.reason)),e({status:200})})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function v(e){return g.apply(this,arguments)}function g(){return g=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("/patients/".concat(t));case 2:if(r=e.sent,200!==r.status){e.next=8;break}return e.next=6,r.json();case 6:return f=e.sent,e.abrupt("return",{arvNumber:(null===(n=f.patient_identifiers.find((function(e){return 4===e.identifier_type})))||void 0===n?void 0:n.identifier)||"",gender:Object(c["a"])(null===(a=f.person)||void 0===a?void 0:a.gender),birthdate:u()(null===(i=f.person)||void 0===i?void 0:i.birthdate).format("DD/MMM/YYYY"),address:(null===(o=f.person)||void 0===o||null===(l=o.addresses[0])||void 0===l?void 0:l.city_village)||""});case 8:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function b(e){return Object.entries(e).reduce((function(e,t){var r=Object(n["a"])(t,2),a=r[0],i=r[1];return i&&0!==i.length?"".concat(e,"&").concat(a,"=").concat(encodeURIComponent(i)):e}),"")}function m(e,t){var r={},n=e.split(" ").filter((function(e){return/\S/.test(e)}));return n.length>0&&(r.given_name=n[0],n[1]&&(r.family_name=n[1]),n[2]&&(r.middle_name=n[1],r.family_name=n[2])),t&&(r.gender=t),r}return{searchPatients:e,searchPatientsByARVNumber:r,searchPatientsByNameAndGender:l,voidPatient:h,parsePatient:v}}()},5319:function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),i=r("7b0b"),u=r("50c4"),c=r("a691"),s=r("1d80"),o=r("8aa5"),l=r("14c3"),f=Math.max,p=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var b=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,x=b?"$":"$0";return[function(r,n){var a=s(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,a,n):t.call(String(a),r,n)},function(e,n){if(!b&&m||"string"===typeof n&&-1===n.indexOf(x)){var i=r(t,e,this,n);if(i.done)return i.value}var s=a(e),d=String(this),h="function"===typeof n;h||(n=String(n));var v=s.global;if(v){var y=s.unicode;s.lastIndex=0}var R=[];while(1){var S=l(s,d);if(null===S)break;if(R.push(S),!v)break;var _=String(S[0]);""===_&&(s.lastIndex=o(d,u(s.lastIndex),y))}for(var k="",E=0,j=0;j<R.length;j++){S=R[j];for(var A=String(S[0]),I=f(p(c(S.index),d.length),0),O=[],P=1;P<S.length;P++)O.push(g(S[P]));var $=S.groups;if(h){var U=[A].concat(O,I,d);void 0!==$&&U.push($);var C=String(n.apply(void 0,U))}else C=w(A,d,I,O,$,n);I>=E&&(k+=d.slice(E,I)+C,E=I+A.length)}return k+d.slice(E)}];function w(e,r,n,a,u,c){var s=n+e.length,o=a.length,l=v;return void 0!==u&&(u=i(u),l=h),t.call(c,l,(function(t,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":c=u[i.slice(1,-1)];break;default:var l=+i;if(0===l)return t;if(l>o){var f=d(l/10);return 0===f?t:f<=o?void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1):t}c=a[l-1]}return void 0===c?"":c}))}}))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),i="["+a+"]",u=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(u,"")),2&e&&(r=r.replace(c,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},"6f53":function(e,t,r){var n=r("83ab"),a=r("df75"),i=r("fc6a"),u=r("d1e7").f,c=function(e){return function(t){var r,c=i(t),s=a(c),o=s.length,l=0,f=[];while(o>l)r=s[l++],n&&!u.call(c,r)||f.push(e?[r,c[r]]:c[r]);return f}};e.exports={entries:c(!0),values:c(!1)}},7833:function(e,t,r){"use strict";r("96cf");var n=r("1da1"),a=r("8051");t["a"]=function(){function e(){return t.apply(this,arguments)}function t(){return t=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("global_properties?property=site_prefix");case 2:return t=e.sent,404===t.status&&alert("Site prefix not set, set it in settings/ site_prefix"),e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r.site_prefix);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}function r(){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("global_properties?property=site_uuid");case 2:return t=e.sent,404===t.status&&alert("Site UUID not set, set it in settings/ site_uuid"),e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r.site_uuid);case 8:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}return{getSitePrefix:e,getSiteUUID:r}}()},"7db0":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").find,i=r("44d2"),u=r("ae40"),c="find",s=!0,o=u(c);c in[]&&Array(1)[c]((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!o},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(c)},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9521:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return u}));r("99af"),r("4fad"),r("ac1f"),r("466d"),r("5319"),r("498a");var n=r("3835");function a(e){try{return e.replace(/<(?:.|\n)*?>/gm," ").replace(/\n/g," ").replace(/\t/g," ").replace(/\s{2,}/g," ").replace(/=/g," ").replace(/,/g," ").trim()}catch(t){return e}}function i(e){return e.match(/fb|fbf|fnp/i)?e.toUpperCase():(e=e.toLowerCase(),"m"===e||"male"===e?"Male":"Female")}function u(e){for(var t="",r=0,a=Object.entries(e);r<a.length;r++){var i=Object(n["a"])(a[r],2),u=i[0],c=i[1];t+="".concat(u,"=").concat(c,"&")}return t}},c8d2:function(e,t,r){var n=r("d039"),a=r("5899"),i="​᠎";e.exports=function(e){return n((function(){return!!a[e]()||i[e]()!=i||a[e].name!==e}))}},d58f:function(e,t,r){var n=r("1c0b"),a=r("7b0b"),i=r("44ad"),u=r("50c4"),c=function(e){return function(t,r,c,s){n(r);var o=a(t),l=i(o),f=u(o.length),p=e?f-1:0,d=e?-1:1;if(c<2)while(1){if(p in l){s=l[p],p+=d;break}if(p+=d,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=d)p in l&&(s=r(s,l[p],p,o));return s}};e.exports={left:c(!1),right:c(!0)}}}]);
//# sourceMappingURL=chunk-e4678c20.342fdcfb.js.map