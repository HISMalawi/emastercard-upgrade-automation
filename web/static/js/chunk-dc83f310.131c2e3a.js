(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc83f310"],{"1cba":function(e,t,a){var n=a("4796"),o=a("9aff"),l=a("6428");function i(e){return function(t,a,i){return i&&"number"!=typeof i&&o(t,a,i)&&(a=i=void 0),t=l(t),void 0===a?(a=t,t=0):a=l(a),i=void 0===i?t<a?1:-1:l(i),n(t,a,i,e)}}e.exports=i},4796:function(e,t){var a=Math.ceil,n=Math.max;function o(e,t,o,l){var i=-1,s=n(a((t-e)/(o||1)),0),u=Array(s);while(s--)u[l?s:++i]=e,e+=o;return u}e.exports=o},4971:function(e,t,a){"use strict";a("13d5"),a("14d9"),Object.defineProperty(t,"__esModule",{value:!0});var n=a("9b02"),o=a("13ea"),l=a("93c6"),i=a("7a23"),s=a("5a3a"),u=a("d867"),r=a("ff79"),c=a("2ef0");function p(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var d=p(n),h=p(o),v=p(l),g=p(s);async function f(e,t=!1,a){let n=e;return"function"===typeof a&&(n=await a()),t?n.map((e,t)=>({...e,index:t+1})):n}function m(e,t){if(h["default"](t))return e;const a=t.map(({order:e})=>e);return v["default"](e.slice(),t.map(({column:e})=>t=>{let a=d["default"](t,e.path);return!a||h["default"](a)?"":("function"===typeof e.preSort&&(a=e.preSort(a)),"number"===typeof a||e.sortCaseSensitive?a:a.toString().toLowerCase())}),a)}function y(e,t){const{page:a,pageSize:n,totalPages:o}=e,l=a*n-(n-1),i=a===o?t:a*n;return t?`Showing ${l} to ${i} of ${t} entries`:"No data available"}function b(e,t,a){return e.totalPages=Math.ceil(t/e.pageSize),e.totalPages<=e.visibleBtns?(e.start=1,e.end=e.totalPages,e):!a.includes(e.page-1)&&1!==e.page||!a.includes(e.page+1)&&e.page!==e.totalPages?(e.start=1===e.page?1:e.page-1,e.end=e.start+e.visibleBtns-5,e.start<=3&&(e.end+=3-e.start,e.start=1),e.end>=e.totalPages-2&&(e.start-=e.end-(e.totalPages-2),e.end=e.totalPages),e.start=Math.max(e.start,1),e):e}function I(e,t){if(h["default"](e))return e;const{page:a,pageSize:n}=t,o=(a-1)*n;return e.slice(o,o+n)}function w(e){return e.reduce((e,t)=>(t.initialSort&&e.push({column:t,order:t.initialSortOrder||"asc"}),e),[])}function C(e,t){const a=e.findIndex(e=>e.column.path===t.path);return a>=0?e[a].order="asc"===e[a].order?"desc":"asc":e=[{column:t,order:"asc"}],e}function k(e,t){return!t||h["default"](e)?e:e.slice().filter(e=>Object.values(e).some(e=>e&&JSON.stringify(e).toLowerCase().includes(t.toLowerCase())))}const S=i.defineComponent({name:"SelectInput",props:{value:{type:Object,default:()=>({})},label:{type:String,default:""},placeholder:{type:String,default:"Select Option"},options:{type:Array,default:()=>[]},asyncOptions:{type:Function,required:!1},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},required:{type:Boolean,default:!1},validate:{type:Function,required:!1}},emits:["select"],setup(e,{emit:t}){const a=i.ref(),n=i.ref(!1),o=i.ref(""),l=i.ref([]),s=i.ref(""),p=i.computed(()=>s.value?"box-input-error":""),d=i.computed(()=>e.label?"ion-margin-top":""),h=i.computed(()=>e.multiple?l.value.filter(({isChecked:e})=>e):a.value?[a.value]:[]),v=i.computed(()=>!o.value&&c.isEmpty(h.value)&&!n.value),g=i.computed({get:()=>e.value,set:e=>t("select",e)}),f=()=>{a.value=void 0,c.isEmpty(g.value)||(Array.isArray(g.value)&&e.multiple&&g.value.forEach(e=>{const t=l.value.findIndex(({value:t})=>t===e.value);-1===t?l.value.push({...e,isChecked:!0}):l.value[t].isChecked=!0}),a.value=l.value.find(e=>Array.isArray(g.value)?e.value===g.value[0].value:e.value===g.value.value),c.isEmpty(a.value)&&(a.value=Array.isArray(g.value)?g.value[0]:g.value))},m=async()=>{const t="function"===typeof e.asyncOptions?await e.asyncOptions(o.value):e.options.filter(({label:e})=>e.toLowerCase().includes(o.value.toLowerCase()));h.value.forEach(e=>{const a=t.findIndex(t=>t.value===e.value);-1===a?t.push(e):t[a].isChecked=!0}),l.value=t},y=async()=>{if(e.required&&c.isEmpty(g.value))return s.value="This field is required";if("function"===typeof e.validate){const t=await e.validate(g.value);t&&t.length&&(s.value=t.join(", "))}return s.value=""},b=()=>{n.value=!1,g.value=e.multiple?h.value:c.isEmpty(h.value)?{}:h.value[0],o.value="",y()},I=()=>{e.disabled||(n.value=!0,s.value="")},w=t=>{if(!e.multiple)return a.value=t,b();g.value=e.multiple?h.value:c.isEmpty(h.value)?{}:h.value[0],o.value=""},C=t=>e.multiple?t.isChecked=!1:a.value=void 0,k=()=>{o.value="",a.value=void 0,l.value.forEach(e=>e.isChecked=!1)};return i.watch(()=>e.value,()=>f()),i.watch([o,()=>e.options,()=>e.asyncOptions],async()=>{await m(),f()}),i.onMounted(async()=>{await m(),f(),addEventListener("click",e=>{const t=e.target.closest(".inner-input-box");!t&&n.value&&b()})}),i.onBeforeUnmount(()=>removeEventListener("click",e=>console.log(e))),()=>[e.label&&i.h(u.IonLabel,{class:"ion-padding-bottom bold"},e.label),i.h("div",{class:`outer-input-box box-input ${p.value} ${d.value}`},i.h("div",{class:"inner-input-box"},[i.h("div",{style:{display:"flex",flexWrap:"wrap",width:"100%"},onClick:I},[...h.value.map(e=>i.h(u.IonChip,[i.h(u.IonLabel,e.label),i.h(u.IonIcon,{icon:r.closeCircle,color:"danger",onClick:()=>C(e),style:{zIndex:90}})])),i.h(u.IonInput,{disabled:e.disabled,placeholder:v.value?e.placeholder:"",class:"search-input",value:o.value,onIonInput:e=>o.value=e.target.value})]),n.value&&i.h("div",{class:"input-options"},i.h(u.IonList,l.value.map((t,a)=>i.h(u.IonItem,{lines:a+1===l.value.length?"none":void 0,onClick:()=>w(t)},[e.multiple&&i.h(u.IonCheckbox,{class:"input-option-checkbox",slot:"start",value:t.isChecked,onIonInput:e=>t.isChecked=e.target.checked}),i.h(u.IonLabel,t.label)])))),i.h("div",{class:"input-icon"},[(o.value||h.value.length)&&i.h(u.IonIcon,{icon:r.close,onClick:k}),i.h(u.IonIcon,{icon:n.value?r.chevronUp:r.chevronDown,onClick:n.value?b:I})].filter(Boolean))])),s.value&&i.h(u.IonNote,{color:"danger"},s.value)]}}),x=i.defineComponent({props:{range:{type:Object,default:()=>({startDate:"",endDate:""})}},emits:["rangeChange"],setup(e,{emit:t}){const a=i.ref(e.range.startDate),n=i.ref(e.range.endDate),o=i.computed(()=>({startDate:a.value,endDate:n.value}));return i.watch(o,e=>t("rangeChange",e)),()=>i.h(u.IonGrid,{class:"ion-no-padding ion-no-margin"},i.h(u.IonRow,[i.h(u.IonCol,{size:"6"},i.h(u.IonInput,{type:"date",class:"box-input",value:a.value,onIonInput:e=>a.value=e.target.value,style:{width:"100%"}})),i.h(u.IonCol,{size:"1",style:{display:"flex",justifyContent:"center "}},i.h(u.IonIcon,{icon:r.arrowForward,style:{fontSize:"24px",padding:".5rem"}})),i.h(u.IonCol,{size:"5"},i.h(u.IonInput,{type:"date",class:"box-input",value:n.value,onIonInput:e=>n.value=e.target.value,style:{width:"100%"}}))]))}}),z=i.defineComponent({name:"DataTable",props:{rows:{type:Array,default:()=>[]},asyncRows:{type:Function,required:!1},columns:{type:Array,default:()=>[]},actionsButtons:{type:Array,default:()=>[]},rowActionsButtons:{type:Array,default:()=>[]},customFilters:{type:Array,default:()=>[]},color:{type:String},config:{type:Object,default:()=>({})}},emits:["customFilter","queryChange","drilldown"],setup(e,{emit:t,slots:a}){const n=i.ref(!1),o=i.ref([]),l=i.ref([]),s=i.computed(()=>l.value.length),c=i.computed(()=>h["default"](e.rowActionsButtons)?v.value.length:v.value.length+1),p=i.computed(()=>z.pagination.enabled?g["default"](z.pagination.start,z.pagination.end+1):[]),v=i.computed(()=>e.config.showIndices?[{path:"index",label:"#",initialSort:!0,initialSortOrder:"asc"},...e.columns]:e.columns),z=i.reactive({search:"",sort:[],pagination:{enabled:!0,page:1,pageSize:10,start:1,end:1,totalPages:1,visibleBtns:7,pageSizeOptions:[5,10,20,50,100]}}),B=i.ref([]),A=i.computed(()=>!1!==e.config.showSearchField||e.customFilters.length>0||e.actionsButtons.length>0),O=i.reactive(e.customFilters.reduce((e,t)=>(e[t.id]=t.value,e),{})),P=async()=>{n.value=!0,o.value=await f(e.rows,e.config.showIndices||!1,e.asyncRows),z.sort=w(v.value),R(z.pagination),n.value=!1},R=(e,t,a)=>{t&&(z.search=t),a&&(z.sort=C(z.sort,a));const n=k(o.value,z.search);l.value=m(n,z.sort),z.pagination=b(e,s.value,p.value),B.value=I(l.value,z.pagination)};i.watch(O,()=>{!1===e.config.showSubmitButton&&t("customFilter",O)},{immediate:!0,deep:!0}),i.watch(()=>e.rows,()=>P(),{deep:!0,immediate:!0}),i.onMounted(()=>P());const F=()=>!1===e.config.showSearchField||h["default"](o.value)?null:i.h(u.IonCol,{size:"3",class:"ion-margin-bottom"},[i.h(u.IonSearchbar,{placeholder:"Search here...",class:"box ion-no-padding",value:z.search,onIonChange:e=>R({...z.pagination,page:1},e.target.value)})]),L=e=>i.h(u.IonCol,{size:""+e.gridSize||"3"},i.h(S,{options:e.options,placeholder:e.label||e.placeholder||"Select Item",value:e.value,multiple:e.multiple,onSelect:t=>{"function"===typeof e.onUpdate&&e.onUpdate(t),O[e.id]=t}})),D=e=>i.h(u.IonCol,{size:""+e.gridSize||"6"},i.h(x,{range:i.computed(()=>e.value||{startDate:"",endDate:""}).value,onRangeChange:async t=>{"function"===typeof e.onUpdate&&e.onUpdate(t),O[e.id]=t}})),E=e=>i.h(u.IonCol,{size:"4"},i.h(u.IonInput,{class:"box",type:e.type,placeholder:e.placeholder,value:i.computed(()=>e.value||"").value,onIonInput:async t=>{const a=t.target.value;"function"===typeof e.onUpdate&&e.onUpdate(a),O[e.id]=a}})),T=()=>e.customFilters.map(e=>e.slotName&&"function"===typeof a[e.slotName]?i.h(u.IonCol,{size:""+(e.gridSize||"3")},a[e.slotName]({filter:e})):"dateRange"===e.type?D(e):"select"===e.type?L(e):E(e)),U=()=>e.customFilters.length>0&&!1!==e.config.showSubmitButton?i.h(u.IonCol,{size:"2",class:"ion-margin-bottom"},[i.h(u.IonButton,{color:"primary",onClick:()=>t("customFilter",O)},"Submit")]):null,j=()=>e.actionsButtons.map(e=>i.h(u.IonButton,{class:"ion-float-right",color:e.color||"primary",onClick:()=>e.action(B.value,o.value,z,v.value)},[e.label,e.icon&&i.h("span",{style:{color:"white",paddingLeft:"5px",paddingRight:"5px"}}," | "),e.icon&&i.h(u.IonIcon,{icon:e.icon})])),q=()=>A.value&&i.h(u.IonGrid,{class:"ion-padding-vertical",style:{width:"100%",fontWeight:500}},i.h(u.IonRow,[i.h(u.IonCol,{size:"7"},i.h(u.IonRow,[F(),...T(),U()])),i.h(u.IonCol,{size:"5",class:"ion-padding-end"},j())])),M=()=>i.h(u.IonGrid,{style:{width:"100%",textAlign:"left",color:"black"},class:"ion-padding"},i.h(u.IonRow,[i.h(u.IonCol,{size:"4"},N()),i.h(u.IonCol,{size:"4",class:"text-center"},[G(),J()]),i.h(u.IonCol,{size:"4"},W())])),N=()=>{const{page:e,start:t,end:a,totalPages:n}=z.pagination,o=e=>R({...z.pagination,page:e}),i=[$({icon:r.caretBack,disabled:e===t,onClick:()=>o(e-1)})];return t>3&&(i.push($({label:"1",onClick:()=>o(1)})),i.push($({label:"...",disabled:!0}))),p.value.forEach(e=>{i.push($({label:e,onClick:()=>o(e)}))}),a<n-2&&(i.push($({label:"...",disabled:!0})),i.push($({label:n,onClick:()=>o(n)}))),i.push($({icon:r.caretForward,disabled:e===a||h["default"](l.value),onClick:()=>o(e+1)})),i},$=({disabled:e,label:t,icon:a,onClick:n})=>i.h(u.IonButton,{onClick:n,disabled:e,size:"small",color:z.pagination.page===t?"primary":"light"},a?i.h(u.IonIcon,{icon:a}):t||"Button"),G=()=>i.h(u.IonItem,{class:"box go-to-input",lines:"none"},[i.h(u.IonLabel,{class:"ion-margin-end"},"Go to page"),i.h(u.IonInput,{type:"number",min:1,max:z.pagination.totalPages,value:z.pagination.page,style:{paddingRight:"15px"},debounce:500,onIonChange:e=>{const t=e.target.value;t>0&&t<=z.pagination.totalPages&&R({...z.pagination,page:t})}})]),J=()=>i.h(u.IonItem,{class:"box per-page-input",lines:"none"},[i.h(u.IonLabel,"Items per page"),i.h(u.IonSelect,{value:z.pagination.pageSize,onIonChange:e=>R({...z.pagination,pageSize:e.target.value,page:1})},[...z.pagination.pageSizeOptions.map(e=>i.h(u.IonSelectOption,{value:e,key:e},e)),i.h(u.IonSelectOption,{value:s.value},"All")])]),W=()=>i.h(u.IonCol,{size:"4",class:"pagination-info"},i.computed(()=>y(z.pagination,s.value)).value),Q=()=>i.h("thead",{class:e.color||""},i.h("tr",[...v.value.map(e=>_(e)),!h["default"](e.rowActionsButtons)&&i.h("th","Actions")])),V=e=>{const t={marginRight:"5px",float:"right",cursor:"pointer"},a=i.computed(()=>{const t=z.sort.find(t=>t.column.path===e.path);return t?"asc"==t.order?r.arrowUp:r.arrowDown:r.swapVertical});return i.h(u.IonIcon,{icon:a.value,style:t})},_=e=>{const t={minWidth:/index/i.test(e.path)?"80px":"190px"},a=()=>R(z.pagination,z.search,e);return i.h("th",{key:e.label,style:t,onClick:a},[i.h("span",e.label),!1!==e.sortable&&V(e)])},H=()=>i.h("tbody",{class:"table-body"},n.value?K():h["default"](l.value)?X():Z()),K=()=>g["default"](0,9).map(e=>i.h("tr",{key:e},i.h("td",{colspan:c.value},i.h(u.IonSkeletonText,{animated:!0,style:{width:"100%"}})))),X=()=>i.h("tr",i.h("td",{colspan:c.value},i.h("div",{class:"no-data-table"},"No data available"))),Y=async(t,a)=>{const n=e.rowActionsButtons.find(e=>e.default);n&&await n.action(t,a)},Z=()=>B.value.map((e,t)=>i.h("tr",{key:e,onClick:()=>Y(e,t)},[...ee(e),ne(e,t)])),ee=e=>v.value.map((t,a)=>i.h("td",{key:a,class:"data-cell"},te(e,t))),te=(e,a)=>{let n=d["default"](e,a.path);return"function"===typeof a.formatter&&n&&(n=a.formatter(n,e)),a.drillable&&!h["default"](n)?i.h("a",{onClick:()=>t("drilldown",{column:a,row:e})},ae(n)):ae(n)},ae=e=>Array.isArray(e)?e.length:e,ne=(t,a)=>h["default"](e.rowActionsButtons)?null:i.h("td",e.rowActionsButtons.map(e=>{const n="function"!==typeof e.condition||e.condition(t);return n?oe(t,a,e):null})),oe=(e,t,a)=>i.h(u.IonButton,{key:a.icon,size:"small",color:a.color||"primary",onClick:()=>a.action(e,t)},a.icon?i.h(u.IonIcon,{icon:a.icon}):a.label||"Button"),le=()=>i.h("div",{class:"responsive-table ion-padding-horizontal"},i.h("table",{class:"table bordered-table striped-table"},[Q(),H()]));return()=>[q(),le(),M()]}}),B={install(e,t){e.config.globalProperties.$globalTableOptions=t,e.provide("globalTableOptions",t),e.component("DataTable",z)}};t.DataTable=z,t.VTable=B,t.buildPaginationInfo=y,t.calculatePageRange=b,t.filterRows=k,t.getActiveRows=I,t.getRows=f,t.initializeSortQueries=w,t.sortRows=m,t.updateSortQueries=C},"5a3a":function(e,t,a){var n=a("1cba"),o=n();e.exports=o},"93c6":function(e,t,a){var n=a("6a5c"),o=a("6747");function l(e,t,a,l){return null==e?[]:(o(t)||(t=null==t?[]:[t]),a=l?void 0:a,o(a)||(a=null==a?[]:[a]),n(e,t,a))}e.exports=l},b211:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("d867");const o={async show(e){return(await n["loadingController"].create({message:e||"Loading...",spinner:"crescent",translucent:!0})).present()},async hide(){n["loadingController"].getTop().then(e=>e?n["loadingController"].dismiss():null)}}}}]);
//# sourceMappingURL=chunk-dc83f310.131c2e3a.js.map