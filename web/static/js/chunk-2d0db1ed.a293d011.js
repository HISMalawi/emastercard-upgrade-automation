(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db1ed"],{"6f07":function(e,t,o){"use strict";o.r(t);var n=o("7a23");function a(e,t,o,a,r,i){const s=Object(n["resolveComponent"])("report-template"),c=Object(n["resolveComponent"])("ion-page");return Object(n["openBlock"])(),Object(n["createBlock"])(c,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(s,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,config:{showIndex:!0},onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]),_:1})}o("14d9");var r=o("4ba2"),i=o("d867"),s=o("60bf"),c=o("501f"),d=o("9ceb"),l=o("5a0c"),p=o.n(l),u=Object(n["defineComponent"])({components:{ReportTemplate:r["a"],IonPage:i["IonPage"]},setup(){const e=s["a"].getLocationName(),t=Object(c["a"])("Facility Pepfar Report"),{reportData:o,drill:n}=t;o.columns=[[d["a"].thTxt("District"),d["a"].thTxt("Site"),d["a"].thTxt("Month"),d["a"].thTxt("Year"),d["a"].thTxt("ANC Indicator"),d["a"].thTxt("Age Category"),d["a"].thTxt("Value")]],o.other.months={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},o.other.ageGroups=["<10","10-14","15-19","20-24","25-29","30-34","35-39","40-49","50+","Unknown","All"],o.other.indicators=["Already on ART","Known at entry positive","Known status","New ANC client","Newly identified negative","Newly identified positive","Newly on ART"];const a=e=>p()(e).format("MMM YYYY"),r=(e,t)=>{const o=[e];let n=e;while(n<p()(t).add(-1,"months").format("YYYY-MM-DD"))o.push(n=p()(n).add(1,"months").format("YYYY-MM-DD"));return o},i=async t=>{for(const i of t)try{const t=await o.service.generateDisaggregated(i);o.other.indicators.forEach(r=>{o.other.ageGroups.forEach(s=>{const c=t[a(i)][r][s];o.rows.push([d["a"].td(""),d["a"].td(e||"N/A"),d["a"].td(o.other.months[p()(i).month()]),d["a"].td(p()(i).year()),d["a"].td(r),d["a"].td(s),n(`${i}-${r}-${s}`,c)])})})}catch(r){console.warn(""+r)}},l=async(e,t)=>{o.rows=[],o.service=new s["a"],o.period=`${a(t.start_date)} - ${a(t.end_date)}`,await i(r(t.start_date,t.end_date))};return{...t,onPeriod:l}}}),h=o("6b0d"),w=o.n(h);const f=w()(u,[["render",a]]);t["default"]=f}}]);
//# sourceMappingURL=chunk-2d0db1ed.a293d011.js.map