(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7aa09b8"],{"336a":function(t,e,n){"use strict";var a=n("df61"),r=n.n(a);r.a},3835:function(t,e,n){"use strict";function a(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function r(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done);a=!0)if(n.push(i.value),e&&n.length===e)break}catch(s){r=!0,o=s}finally{try{a||null==c["return"]||c["return"]()}finally{if(r)throw o}}return n}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(t,e){return a(t)||r(t,e)||o()}},"45fc":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").some,o=n("a640"),i=n("ae40"),c=o("some"),s=i("some");a({target:"Array",proto:!0,forced:!c||!s},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"466d":function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),o=n("50c4"),i=n("1d80"),c=n("8aa5"),s=n("14c3");a("match",1,(function(t,e,n){return[function(e){var n=i(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var i=r(t),u=String(this);if(!i.global)return s(i,u);var l=i.unicode;i.lastIndex=0;var d,f=[],m=0;while(null!==(d=s(i,u))){var p=String(d[0]);f[m]=p,""===p&&(i.lastIndex=c(u,o(i.lastIndex),l)),m++}return 0===m?null:f}]}))},"498a":function(t,e,n){"use strict";var a=n("23e7"),r=n("58a8").trim,o=n("c8d2");a({target:"String",proto:!0,forced:o("trim")},{trim:function(){return r(this)}})},"4dfe":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ctrs"},[n("div",{staticClass:"ctr-table"},[n("div",{staticClass:"ctr-row"},[n("div",{staticClass:"ctr-cell"},[n("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"Start Date",readonly:!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),n("div",{staticClass:"ctr-cell"},[n("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"End Date",readonly:!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),n("div",{staticClass:"ctr-cell"},[n("button",{staticClass:"btn btn-success",on:{click:t.submitDates}},[t._v("Submit")])])])])])},r=[],o=n("f0ca"),i=n.n(o),c=n("c1df"),s=n.n(c),u=(n("6f3c"),n("1789")),l={components:{DatePick:i.a},props:["onSubmit"],data:function(){return{startDate:null,endDate:null,format:"DD/MMM/YYYY",date:u["a"].format(new Date,"DD/MMM/YYYY")}},methods:{initDates:function(){},submitDates:function(){this.startDate=s()(this.startDate).format("YYYY-MM-DD"),this.endDate=s()(this.endDate).format("YYYY-MM-DD"),this.onSubmit([this.startDate,this.endDate])},parseDate:function(t,e){return u["a"].parse(t,e)},formatDate:function(t,e){return u["a"].format(t,e)}},mounted:function(){var t=this;setTimeout((function(){return t.initDates()}),300)}},d=l,f=(n("336a"),n("2877")),m=Object(f["a"])(d,a,r,!1,null,"15deca72",null);e["a"]=m.exports},"4fad":function(t,e,n){var a=n("23e7"),r=n("6f53").entries;a({target:"Object",stat:!0},{entries:function(t){return r(t)}})},5319:function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),o=n("7b0b"),i=n("50c4"),c=n("a691"),s=n("1d80"),u=n("8aa5"),l=n("14c3"),d=Math.max,f=Math.min,m=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,b=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var h=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=a.REPLACE_KEEPS_$0,D=h?"$":"$0";return[function(n,a){var r=s(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r,a):e.call(String(r),n,a)},function(t,a){if(!h&&g||"string"===typeof a&&-1===a.indexOf(D)){var o=n(e,t,this,a);if(o.done)return o.value}var s=r(t),m=String(this),p="function"===typeof a;p||(a=String(a));var v=s.global;if(v){var w=s.unicode;s.lastIndex=0}var y=[];while(1){var x=l(s,m);if(null===x)break;if(y.push(x),!v)break;var S=String(x[0]);""===S&&(s.lastIndex=u(m,i(s.lastIndex),w))}for(var Y="",M=0,k=0;k<y.length;k++){x=y[k];for(var A=String(x[0]),C=d(f(c(x.index),m.length),0),j=[],E=1;E<x.length;E++)j.push(b(x[E]));var O=x.groups;if(p){var I=[A].concat(j,C,m);void 0!==O&&I.push(O);var R=String(a.apply(void 0,I))}else R=_(A,m,C,j,O,a);C>=M&&(Y+=m.slice(M,C)+R,M=C+A.length)}return Y+m.slice(M)}];function _(t,n,a,r,i,c){var s=a+t.length,u=r.length,l=v;return void 0!==i&&(i=o(i),l=p),e.call(c,l,(function(e,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,a);case"'":return n.slice(s);case"<":c=i[o.slice(1,-1)];break;default:var l=+o;if(0===l)return e;if(l>u){var d=m(l/10);return 0===d?e:d<=u?void 0===r[d-1]?o.charAt(1):r[d-1]+o.charAt(1):e}c=r[l-1]}return void 0===c?"":c}))}}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),r=n("5899"),o="["+r+"]",i=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},"5f8a":function(t,e,n){},"6f53":function(t,e,n){var a=n("83ab"),r=n("df75"),o=n("fc6a"),i=n("d1e7").f,c=function(t){return function(e){var n,c=o(e),s=r(c),u=s.length,l=0,d=[];while(u>l)n=s[l++],a&&!i.call(c,n)||d.push(t?[n,c[n]]:c[n]);return d}};t.exports={entries:c(!0),values:c(!1)}},8620:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[n("side-bar"),n("div",{attrs:{id:"page-content-wrapper"}},[n("top-nav"),n("div",{staticClass:"col-12 table-col",attrs:{id:"main-container"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("sdPicker",{attrs:{onSubmit:t.fetchDates}})],1)]),n("vue-bootstrap4-table",{attrs:{rows:t.rows,columns:t.columns,config:t.config,"show-loader":t.showLoader,actions:t.actions},on:{"on-download":t.onDownload},scopedSlots:t._u([{key:"birthdate",fn:function(e){return[n("b",[t._v(t._s(t.moment(e.cell_value).format("DD/MMM/YYYY"))+" ("+t._s(t.moment().diff(e.cell_value,"years",!1))+")")])]}},{key:"gender",fn:function(e){var n=e.cell_value;return[t._v(" "+t._s(t.formatGender(n))+" ")]}},{key:"patient_id",fn:function(e){return[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(n){return t.redirect(e.cell_value)}}},[t._v(" show ")])]}}])},[n("template",{slot:"sort-asc-icon"},[t._v("↑")]),n("template",{slot:"sort-desc-icon"},[t._v("↓")]),n("template",{slot:"no-sort-icon"},[t._v("↑↓")])],2)],1)],1)],1)},r=[],o=(n("45fc"),n("b64b"),n("96cf"),n("1da1")),i=n("12f9"),c=n("8051"),s=n("ebd8"),u=n("7c08"),l=n("c1df"),d=n.n(l),f=n("4dfe"),m=n("87a0"),p=n("9521"),v={name:"App",data:function(){return{startDate:"",endDate:"",showLoader:!1,rows:[],columns:[{label:"ARV Number",name:"arv_number"},{label:"First Name",name:"given_name",exportable:!1,sort:!0},{label:"Last Name",name:"family_name",exportable:!1,sort:!0},{label:"Gender",name:"gender",slot_name:"gender"},{label:"date of Birth",name:"birthdate",slot_name:"birthdate"},{label:"Age (at reporting)",name:"current_age",slot_name:"current_age"},{label:"Appointment Date",name:"appointment_date",slot_name:"appointment_date"},{label:"Defaulter date",name:"defaulter_date",slot_name:"defaulter_date"},{label:"Action",name:"person_id",slot_name:"patient_id",exportable:!1}],config:{card_title:"MoH Defaulter List Report",show_refresh_button:!1,show_reset_button:!1},actions:[{btn_text:"CSV",event_name:"on-download",class:"btn btn-primary my-custom-class",event_payload:{msg:"my custom msg"}}]}},methods:{formatGender:function(t){return Object(p["a"])(t)},fetchDates:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.rows=[],this.startDate=e[0],this.endDate=e[1],n=function(t){return"Invalid date"===t},!e.some(n)){t.next=8;break}console.log("Check your dates"),t.next=17;break;case 8:return this.showLoader=!0,this.config.card_title+=" "+d()(e[0]).format("DD/MMM/YYYY")+" - "+d()(e[1]).format("DD/MMM/YYYY"),a="/defaulter_list?start_date="+e[0]+"&date="+e[1],a+="&end_date="+e[1]+"&program_id=1&pepfar=false",t.next=14,c["a"].get(a,{},{});case 14:r=t.sent,200===r.status&&r.json().then((function(t){Object.keys(t).length>0&&(o.rows=t)})),this.showLoader=!1;case 17:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),redirect:function(t){this.$router.push("/patient/mastercard/".concat(t))},onDownload:function(){Object(m["a"])(this.columns,this.rows,this.config.card_title,{startDate:this.startDate,endDate:this.endDate})}},components:{VueBootstrap4Table:i["a"],"top-nav":s["a"],"side-bar":u["a"],sdPicker:f["a"]},computed:{}},b=v,h=(n("9be5"),n("2877")),g=Object(h["a"])(b,a,r,!1,null,null,null);e["default"]=g.exports},"87a0":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("99af"),n("4de4"),n("a15b"),n("d81d"),n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d");var a=n("1157"),r=n("c1df"),o=n.n(r),i=n("9521");function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.filter((function(t){return!1!==t.exportable})).map((function(t){return t.label})).join(",");return r+="\n",r+=e.map((function(e){return t.filter((function(t){return!1!==t.exportable})).map((function(t){return Array.isArray(e[t.name])?e[t.name].length:Object(i["c"])(e[t.name])})).join(",")})).join("\n"),r+="\n"+"Date Created:  ".concat(o()().format("YYYY-MM-DD:h:m:s")),Object(a["isEmptyObject"])(n)||(r+="\n"+"Quarter: ".concat(n.startDate," to ").concat(n.endDate)),r+="\n"+"e-Mastercard Version : ".concat(sessionStorage.EMCVersion),r+="\n"+"API Version ".concat(sessionStorage.APIVersion),r+="\n"+"Site UUID: ".concat(sessionStorage.siteUUID),r}function s(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=c(t,e,a),o=new Blob([r],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(o,n);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.setAttribute("download","".concat(sessionStorage.location_name," ").concat(n,".csv")),document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},"8aa5":function(t,e,n){"use strict";var a=n("6547").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},9521:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));n("99af"),n("4fad"),n("ac1f"),n("466d"),n("5319"),n("498a");var a=n("3835");function r(t){try{return t.replace(/<(?:.|\n)*?>/gm," ").replace(/\n/g," ").replace(/\t/g," ").replace(/\s{2,}/g," ").replace(/=/g," ").replace(/,/g," ").trim()}catch(e){return t}}function o(t){return t.match(/fb|fbf|fnp/i)?t.toUpperCase():(t=t.toLowerCase(),"m"===t||"male"===t?"Male":"Female")}function i(t){for(var e="",n=0,r=Object.entries(t);n<r.length;n++){var o=Object(a["a"])(r[n],2),i=o[0],c=o[1];e+="".concat(i,"=").concat(c,"&")}return e}},"9be5":function(t,e,n){"use strict";var a=n("5f8a"),r=n.n(a);r.a},a15b:function(t,e,n){"use strict";var a=n("23e7"),r=n("44ad"),o=n("fc6a"),i=n("a640"),c=[].join,s=r!=Object,u=i("join",",");a({target:"Array",proto:!0,forced:s||!u},{join:function(t){return c.call(o(this),void 0===t?",":t)}})},c8d2:function(t,e,n){var a=n("d039"),r=n("5899"),o="​᠎";t.exports=function(t){return a((function(){return!!r[t]()||o[t]()!=o||r[t].name!==t}))}},d81d:function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").map,o=n("1dde"),i=n("ae40"),c=o("map"),s=i("map");a({target:"Array",proto:!0,forced:!c||!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},df61:function(t,e,n){}}]);
//# sourceMappingURL=chunk-a7aa09b8.033489a2.js.map