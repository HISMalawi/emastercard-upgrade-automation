(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49f46863"],{"2cbc":function(t,e,r){},3835:function(t,e,r){"use strict";function a(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return i}));r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("25f0"),r("3ca3"),r("ddb0");function n(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],a=!0,n=!1,c=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0)if(r.push(i.value),e&&r.length===e)break}catch(s){n=!0,c=s}finally{try{a||null==o["return"]||o["return"]()}finally{if(n)throw c}}return r}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(t,e){return a(t)||n(t,e)||c()}},"3b9f":function(t,e,r){"use strict";var a=r("72bb"),n=r.n(a);n.a},"4fad":function(t,e,r){var a=r("23e7"),n=r("6f53").entries;a({target:"Object",stat:!0},{entries:function(t){return n(t)}})},"6f53":function(t,e,r){var a=r("83ab"),n=r("df75"),c=r("fc6a"),i=r("d1e7").f,o=function(t){return function(e){var r,o=c(e),s=n(o),u=s.length,l=0,d=[];while(u>l)r=s[l++],a&&!i.call(o,r)||d.push(t?[r,o[r]]:o[r]);return d}};t.exports={entries:o(!0),values:o(!1)}},"72bb":function(t,e,r){},9521:function(t,e,r){"use strict";r.d(e,"c",(function(){return n})),r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return i}));r("99af"),r("4fad"),r("ac1f"),r("466d"),r("5319"),r("498a");var a=r("3835");function n(t){try{return t.replace(/<(?:.|\n)*?>/gm," ").replace(/\n/g," ").replace(/\t/g," ").replace(/\s{2,}/g," ").replace(/=/g," ").replace(/,/g," ").trim()}catch(e){return t}}function c(t){return t.match(/fb|fbf|fnp/i)?t.toUpperCase():(t=t.toLowerCase(),"m"===t||"male"===t?"Male":"Female")}function i(t){for(var e="",r=0,n=Object.entries(t);r<n.length;r++){var c=Object(a["a"])(n[r],2),i=c[0],o=c[1];e+="".concat(i,"=").concat(o,"&")}return e}},aa70:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[r("side-bar"),r("div",{attrs:{id:"page-content-wrapper"}},[r("top-nav"),r("div",{staticClass:"col-12 table-col",attrs:{id:"main-container"}},[r("span",[t._v(t._s(t.report_title)),r("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])]),t._m(0)])],1)],1)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"table table-striped report",attrs:{id:"cohort-clients"}},[r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("ARV number")]),r("th",{attrs:{scope:"col"}},[t._v("First name")]),r("th",{attrs:{scope:"col"}},[t._v("Last name")]),r("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("Gender")]),r("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("DOB")]),r("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("Outcome")]),r("th",{staticClass:"center-text",attrs:{scope:"col"}})])])])}],c=(r("a15b"),r("d3b7"),r("ac1f"),r("3ca3"),r("1276"),r("ddb0"),r("2b3d"),r("96cf"),r("1da1")),i=r("8051"),o=r("ebd8"),s=r("7c08"),u=r("c1df"),l=r.n(u),d=r("1157"),f=r.n(d),p=(r("6810"),r("9521"));r("2cdf"),r("fd5e"),r("5caa"),r("c3dc"),r("4e95"),r("a8a1"),r("919c"),r("4b69"),r("7dae"),r("a821");var b={name:"reports",components:{"top-nav":o["a"],"side-bar":s["a"]},methods:{fetchData:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="cohort_report_drill_down?id="+this.$route.params.id,e+="&date=2020-01-01",e+="&program_id=1",t.next=5,i["a"].get(e,{},{});case 5:r=t.sent,200===r.status?r.json().then((function(t){return a.checkResult(t)})):setTimeout((function(){return a.fetchData()}),5e3);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initDataTable:function(){var t=this.$route.params.indicator.split("_");this.report_title=t.join(" ").toUpperCase(),this.dTable=f()("#cohort-clients").dataTable({order:[[0,"asc"]],fixedHeader:!0,data:this.formatedData,dom:"Bfrtip",buttons:[{extend:"copy",title:this.report_title},{extend:"csv",title:this.report_title},{extend:"pdf",title:this.report_title},{extend:"print",title:this.report_title}],columnDefs:[{className:"center-text",targets:3},{className:"center-text",targets:4}]})},checkResult:function(t){var e=this,r=window.location,a=new URL(r);a.searchParams.get("resource_id");this.reportData=t,setTimeout((function(){return e.datatableEnable(t)}),10)},datatableEnable:function(t){for(var e=0;e<t.length;e++){var r=void 0;try{r=l()(t[e].birthdate).format("DD/MMM/YYYY")}catch(a){r="N/A"}this.formatedData.push([t[e].arv_number,t[e].given_name,t[e].family_name,Object(p["a"])(t[e].gender),r,t[e].outcome||"N/A",this.createdShowBTN(t[e].person_id)])}this.dTable.api().destroy(),this.initDataTable()},createdShowBTN:function(t){var e=document.createElement("span"),r=document.createElement("button");return r.setAttribute("onclick",'javascript:location="/patient/mastercard/'+t+'"'),r.innerHTML="Show",r.setAttribute("class","btn-warning show-btn"),e.appendChild(r),e.innerHTML}},mounted:function(){var t=this;setTimeout((function(){return t.initDataTable()}),300),setTimeout((function(){return t.fetchData()}),300)},data:function(){return{report_title:"MoH cohort report drill down (version 25)",reportData:null,dTable:null,formatedData:[]}}},h=b,m=(r("3b9f"),r("bbfd"),r("2877")),v=Object(m["a"])(h,a,n,!1,null,"da8eb2b8",null);e["default"]=v.exports},bbfd:function(t,e,r){"use strict";var a=r("2cbc"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-49f46863.a05e458f.js.map