(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f15d923e"],{"0a79":function(e,t,o){"use strict";var n=o("7a23");function c(e,t,o,c,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{id:"view-port",class:Object(n["normalizeClass"])(e.showFull?"":"half")},[Object(n["renderSlot"])(e.$slots,"default",{},void 0,!0)],2)}var a=Object(n["defineComponent"])({name:"ViewPort",props:{showFull:{type:Boolean,default:()=>!0}}}),r=(o("a4d3"),o("6b0d")),l=o.n(r);const s=l()(a,[["render",c],["__scopeId","data-v-7c293cad"]]);t["a"]=s},"0dfe":function(e,t,o){},3286:function(e,t,o){"use strict";o.r(t);var n=o("7a23");function c(e,t,o,c,a,r){const l=Object(n["resolveComponent"])("ion-title"),s=Object(n["resolveComponent"])("ion-toolbar"),d=Object(n["resolveComponent"])("ion-header"),u=Object(n["resolveComponent"])("ion-label"),i=Object(n["resolveComponent"])("ion-item"),b=Object(n["resolveComponent"])("ion-list"),j=Object(n["resolveComponent"])("ion-col"),O=Object(n["resolveComponent"])("report-data-table"),p=Object(n["resolveComponent"])("ion-row"),g=Object(n["resolveComponent"])("ion-grid"),C=Object(n["resolveComponent"])("view-port"),f=Object(n["resolveComponent"])("ion-content"),v=Object(n["resolveComponent"])("ion-button"),m=Object(n["resolveComponent"])("ion-footer"),w=Object(n["resolveComponent"])("ion-page");return Object(n["openBlock"])(),Object(n["createBlock"])(w,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(d,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(l,{class:"his-lg-text"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Drug Set ")]),_:1})]),_:1})]),_:1}),Object(n["createVNode"])(f,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(C,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(g,{style:{"background-color":"white"},class:"view-port-content"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(p,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(j,{size:"4"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(b,null,{default:Object(n["withCtx"])(()=>[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.drugSets,(t,o)=>(Object(n["openBlock"])(),Object(n["createBlock"])(i,{class:"his-sm-text",button:"",detail:"",color:e.selectedDrugSet.id===t.id?"lightblue":"",onClick:o=>e.selectedDrugSet=t,key:o},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(u,null,{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.name),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),Object(n["createVNode"])(j,{size:"8"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(O,{columns:e.drugSetColumns,rows:e.drugSetRows,config:{tableCssTheme:"art-report-theme"}},null,8,["columns","rows"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),Object(n["createVNode"])(m,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(s,{color:"dark"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(v,{onClick:e.cancel,slot:"start",color:"danger",size:"large"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Cancel ")]),_:1},8,["onClick"]),e.hasSelectedDrugSet?(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:0,onClick:e.voidDrugset,slot:"end",color:"danger",size:"large"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Void Drug Set ")]),_:1},8,["onClick"])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(v,{onClick:e.addDrugset,slot:"end",color:"success",size:"large"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Add Drug Set ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}o("14d9");var a=o("0a79"),r=o("80e3"),l=o("9ceb"),s=o("d867"),d=o("c84b"),u=o("2ef0"),i=o("6605"),b=o("b5e4"),j=Object(n["defineComponent"])({components:{IonPage:s["IonPage"],ReportDataTable:r["a"],IonList:s["IonList"],IonItem:s["IonItem"],IonLabel:s["IonLabel"],ViewPort:a["a"],IonButton:s["IonButton"],IonContent:s["IonContent"],IonHeader:s["IonHeader"],IonGrid:s["IonGrid"],IonRow:s["IonRow"],IonCol:s["IonCol"],IonTitle:s["IonTitle"],IonFooter:s["IonFooter"],IonToolbar:s["IonToolbar"]},setup(){const e=Object(i["i"])(),t=Object(n["ref"])({}),o=Object(n["ref"])([]),c=[[l["a"].thTxt("Drug"),l["a"].thTxt("Duration in days"),l["a"].thTxt("Frequency")]],a=Object(n["computed"])(()=>!Object(u["isEmpty"])(o.value)),r=Object(n["computed"])(()=>{var e;return(null===(e=t.value)||void 0===e||null===(e=e.drugs)||void 0===e?void 0:e.map(e=>[l["a"].td(e["drug_name"]||"N/A"),l["a"].td(e.duration||"N/A"),l["a"].td(e.frequency)]))||[]});function s(){e.back()}function j(){e.push({name:"add anc drugset"})}async function O(){if(await Object(b["a"])("Are you sure you want to void this drug set?"))try{await d["a"].voidDrugSet(t.value.id||-1),o.value=o.value.filter(e=>e.id!=t.value.id),Object(u["isEmpty"])(o.value)?t.value={}:t.value=o.value[0]}catch(e){Object(b["e"])("e")}}return Object(n["onMounted"])(async()=>{o.value=await d["a"].getDrugSets(),Object(u["isEmpty"])(o.value)||(t.value=o.value[0])}),{cancel:s,addDrugset:j,voidDrugset:O,drugSets:o,hasSelectedDrugSet:a,selectedDrugSet:t,drugSetColumns:c,drugSetRows:r}}}),O=(o("5271"),o("6b0d")),p=o.n(O);const g=p()(j,[["render",c],["__scopeId","data-v-31e11cd2"]]);t["default"]=g},5271:function(e,t,o){"use strict";o("0dfe")},a4d3:function(e,t,o){"use strict";o("a6f7")},a6f7:function(e,t,o){},c84b:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));o("13d5"),o("14d9");var n=o("1c74");class c extends n["e"]{static saveDrugSet(e){const t={...e};return t["datetime"]=n["e"].getSessionDate(),this.postJson("/drug_sets",e)}static voidDrugSet(e){return this.void("/drug_sets/"+e,{date:this.getSessionDate()})}static async getDrugSets(){const e=await this.getJson("drug_sets");return e?Object.keys(e["set_names"]).reduce((t,o)=>{const n=e["set_names"][o],c=e["set_descriptions"][o],a=e["drug_sets"][o];return t.push({id:parseInt(o),name:n,description:c,drugs:Object.keys(a).reduce((e,t)=>[...e,{id:parseInt(t),...a[t],drug_name:a[t].drug_name,duration:parseInt(a[t].duration),frequency:a[t].frequency,units:a[t].units}],[])}),t},[]):[]}}}}]);
//# sourceMappingURL=chunk-f15d923e.33545d81.js.map