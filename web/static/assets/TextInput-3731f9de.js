import{d as B,M as C,C as N,aA as O,aB as S,I as T,z as P,r as y,i as $,a9 as g,j as q,F as j,E as D,_ as F,O as r,bq as z,c as i,k as m,w as u,B as t,a as k,e as v,a_ as A,ao as E,N as M,o as n,t as d,b as c}from"./index-cde8a5ed.js";const L=B({name:"TextInput",props:{modelValue:{type:Object,default:()=>({})},allowUnknown:{type:Boolean,default:!1},form:{type:Object,default:()=>({})},prefix:{type:String,default:""},suffix:{type:String,default:""},password:{type:Boolean,default:!1}},components:{IonLabel:C,IonInput:N,IonNote:O,IonCheckbox:S,IonButton:T,IonIcon:P},emits:["update:modelValue"],setup(e,{emit:l}){const s=y(!1),p=y(!1),o=$({get:()=>e.modelValue,set:a=>l("update:modelValue",a)}),b=()=>{p.value=!p.value},w=async()=>{if(o.value.required&&!o.value.value)return o.value.error="This field is required";if(!e.allowUnknown&&o.value.value==="Unknown"||o.value.value==="N/A")return o.value.error="Unknown is not allowed";if(o.value.validation){const a=await o.value.validation({label:o.value.value,value:o.value.value},e.form);if(a&&a.length)return o.value.error+=a.toString()}return o.value.error=""};return g(s,a=>{a?(o.value.value="Unknown",o.value.error="",o.value.disabled=!0):(o.value.value="",o.value.disabled=!1)}),g(e.modelValue,a=>{a.value==="Unknown"?s.value||(s.value=!0):s.value=!1}),q(()=>{o.value.value==="Unknown"&&!s.value&&(s.value=!0)}),{validate:w,toggleShowPassword:b,showPassword:p,model:o,isUnknown:s,eye:j,eyeOff:D}}});const G={key:0,class:"text-danger"},H={key:1,class:"ion-float-right ion-margin-end checkbox-label"},J={key:0,class:"pre-suffix-wrapper"},K={class:"inner-input-wrapper"},Q={key:1,class:"pre-suffix-wrapper"};function R(e,l,s,p,o,b){const w=r("ion-checkbox"),a=r("ion-label"),h=r("ion-icon"),_=r("ion-button"),I=r("ion-input"),U=r("ion-note"),V=z("maskito");return n(),i(M,null,[e.model.label?(n(),m(a,{key:0,class:"ion-padding-bottom bold"},{default:u(()=>[k("span",null,d(e.model.label),1),e.model.required?(n(),i("span",G," *")):t("",!0),e.allowUnknown?(n(),i("span",H,[c(d(e.model.label)+" Unknown? ",1),v(w,{modelValue:e.isUnknown,"onUpdate:modelValue":l[0]||(l[0]=f=>e.isUnknown=f)},null,8,["modelValue"])])):t("",!0)]),_:1})):t("",!0),k("div",{class:E(["ion-margin-top outer-input-wrapper",e.model.error?"box-input-error":"box-input"])},[e.prefix?(n(),i("div",J,[v(a,{class:"checkbox-label bold"},{default:u(()=>[c(d(e.prefix),1)]),_:1})])):t("",!0),k("div",K,[A((n(),m(I,{class:"ion-no-margin ion-no-padding",modelValue:e.model.value,"onUpdate:modelValue":l[1]||(l[1]=f=>e.model.value=f),type:e.password&&!e.showPassword?"password":"text",placeholder:e.model.placeholder,disabled:e.model.disabled||e.isUnknown,onIonFocus:l[2]||(l[2]=f=>e.model.error=""),onIonBlur:e.validate},{default:u(()=>[e.password?(n(),m(_,{key:0,slot:"end",fill:"clear",onClick:e.toggleShowPassword},{default:u(()=>[v(h,{icon:e.showPassword?e.eyeOff:e.eye},null,8,["icon"])]),_:1},8,["onClick"])):t("",!0)]),_:1},8,["modelValue","type","placeholder","disabled","onIonBlur"])),[[V,e.model.maskOptions]])]),e.suffix?(n(),i("div",Q,[v(a,{class:"checkbox-label bold ion-float-right"},{default:u(()=>[c(d(e.suffix),1)]),_:1})])):t("",!0)],2),e.model.error?(n(),m(U,{key:1,color:"danger"},{default:u(()=>[c(d(e.model.error),1)]),_:1})):t("",!0)],64)}const X=F(L,[["render",R]]);export{X as T};
