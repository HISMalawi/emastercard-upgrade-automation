import{d as A,f as R,r as I,g as b,w as a,u as e,o as y,e as o,h,i as B,j as v,k as E,b as r,l as z,t as f,a as l,m as F,n as M,p as c,I as w,q as N,s as T,c as q,v as D,x as C,y as x,z as K,A as S,B as U,C as L,D as j,E as G}from"./index-b34da4cb.js";import{r as _}from"./image-cb93bc3e.js";import{t as k}from"./toasts-5a6b8805.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";const H=["src"],J=["src"],O=["src"],Q={key:0},X=A({__name:"login",setup(Y){const{fullVersion:V}=L(),{facility:i,loadFacilityCode:P}=j(),g=R(),u=g.currentRoute.value.redirectedFrom,t=I(""),n=I(""),d=async()=>{if(!t.value||!n.value)return k("Invalid login details");const m=await G.login(t.value,n.value);m.ok?(P(),g.push(u!=null?u:"/")):k(m.errorMessage)};return(m,s)=>(y(),b(e(U),null,{default:a(()=>[o(e(S),null,{default:a(()=>[o(e(h),{style:{margin:"0",padding:"0"}},{default:a(()=>[o(e(B),null,{default:a(()=>[o(e(v),{size:"8"},{default:a(()=>[o(e(E),{class:"title"},{default:a(()=>s[2]||(s[2]=[r("E-MASTERCARD APP")])),_:1}),o(e(z),{class:"sub-title"},{default:a(()=>[r(f(e(V)),1)]),_:1}),l("img",{src:e(_)("report.png"),class:"hero-image"},null,8,H),o(e(F),{class:"footer-section"},{default:a(()=>[o(e(M),null,{default:a(()=>[l("span",null,[l("img",{id:"coat",src:e(_)("login-logos/Malawi-Coat_of_arms_of_arms.png"),alt:"Malawi Coat of Arms logo",class:"brand-logo-moh"},null,8,J),l("img",{id:"pepfar",src:e(_)("login-logos/PEPFAR.png"),alt:"PEPFAR logo",class:"brand-logo-pepfar"},null,8,O)]),o(e(c),{class:"his-sm-text",slot:"end",lines:"none"},{default:a(()=>[o(e(w),{color:"dark",fill:"outline",size:"large",slot:"end","router-link":"/settings/network"},{default:a(()=>s[3]||(s[3]=[r(" Network ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(e(v),{size:"4",class:"form-section"},{default:a(()=>[o(e(N),{icon:e(T),class:"avatar"},null,8,["icon"]),e(i).name?(y(),q("h3",Q,f(e(i).name)+" ("+f(e(i).district)+")",1)):D("",!0),s[5]||(s[5]=l("h4",null,"Please, log into your account",-1)),o(e(c),{style:{margin:"2rem 3.5rem"}},{default:a(()=>[o(e(C),{type:"text",placeholder:"Username",modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=p=>t.value=p),onKeyup:x(d,["enter"]),min:5,required:""},null,8,["modelValue"])]),_:1}),o(e(c),{style:{margin:"2rem 3.5rem"}},{default:a(()=>[o(e(C),{type:"password",modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=p=>n.value=p),placeholder:"Password",onKeyup:x(d,["enter"]),max:100,min:5,required:""},null,8,["modelValue"])]),_:1}),o(e(w),{expand:"full",size:"large",style:{margin:"2rem 3.5rem","text-transform":"none"},onClick:K(d,["prevent"])},{default:a(()=>s[4]||(s[4]=[r(" Login ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});const ae=W(X,[["__scopeId","data-v-9a9039ea"]]);export{ae as default};
