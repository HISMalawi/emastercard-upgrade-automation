System.register(["./index-legacy-5705a9b7.js","./_plugin-vue_export-helper-legacy-762b7923.js","./image-legacy-0b5f9ca9.js","./index-legacy-aa705205.js"],(function(t,e){"use strict";var a,n,r,o,s,i,l,d,c,p,g,u,m,f,_,v,h,I,$,y,P,b,C,J,k,w,x,A,D,S,V,R,L;return{setters:[t=>{a=t.d,n=t.a5,r=t.a4,o=t.l,s=t.au,i=t.aB,l=t.L,d=t.o,c=t.h,p=t.w,g=t.a,u=t.b,m=t.t,f=t.f,_=t.aC,v=t.n,h=t.C,I=t.S,$=t.$,y=t.q,P=t.I,b=t.k,C=t.j,J=t.c,k=t.K,w=t.N,x=t.ag,A=t.y,D=t.G,S=t.E},t=>{V=t._},t=>{R=t.r},t=>{L=t.P}],execute:function(){var e=document.createElement("style");e.textContent='.his-md-text[data-v-6fed3ffb]{font-weight:700}.his-card[data-v-6fed3ffb]{padding:.6em;height:35vh;overflow:"hidden"}ion-img[data-v-6fed3ffb]{width:120px;height:90px}.inactive[data-v-c72ba17e]{opacity:.5}\n',document.head.appendChild(e);const N=a({props:["name","details","programID","iconURL"],components:{IonCard:n,IonCardContent:r,IonCardTitle:o,IonCardHeader:s,IonImg:i}}),j={class:"his-md-text"},M=V(N,[["render",function(t,e,a,n,r,o){const s=l("ion-img"),i=l("ion-card-title"),_=l("ion-card-header"),v=l("ion-card-content"),h=l("center"),I=l("ion-card");return d(),c(I,{class:"his-card"},{default:p((()=>[g(h,null,{default:p((()=>[g(s,{src:t.iconURL},null,8,["src"]),g(_,null,{default:p((()=>[g(i,null,{default:p((()=>[u(m(t.name),1)])),_:1})])),_:1}),g(v,null,{default:p((()=>[f("b",j,m(t.details),1)])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-6fed3ffb"]]),T=a({name:"Modal",props:{title:{type:String,default:""},apps:{type:Array,default:()=>[]},appVersion:{type:String},canClose:{type:Boolean,default:()=>!1},isPocSite:{type:Boolean,default:!0}},computed:{noAppPriviledges(){return this.apps.every((t=>!t.hasPriviledge))}},methods:{closeModal(){this.noAppPriviledges?this.$router.push("/login"):_.dismiss()},resolveImage:t=>R(t),setApplication(t){t.hasPriviledge&&_.dismiss(t)}},components:{IonFooter:v,IonContent:h,IonHeader:I,IonTitle:$,IonToolbar:y,ApplicationCard:M,IonButton:P,IonCol:b,IonRow:C}}),z=V(T,[["render",function(t,e,a,n,r,o){const s=l("ion-title"),i=l("ion-label"),f=l("ion-toolbar"),_=l("ion-header"),v=l("application-card"),h=l("ion-col"),I=l("ion-row"),$=l("ion-content"),y=l("ion-button"),P=l("ion-footer");return d(),J(k,null,[g(_,null,{default:p((()=>[g(f,null,{default:p((()=>[g(s,null,{default:p((()=>[u("Select Module")])),_:1}),g(i,{style:{"font-weight":"bold",padding:"0.5em"},slot:"end"},{default:p((()=>[u(" Version: "+m(t.appVersion),1)])),_:1})])),_:1})])),_:1}),g($,null,{default:p((()=>[g(I,null,{default:p((()=>[(d(!0),J(k,null,w(t.apps,((e,a)=>(d(),c(h,{key:a,"size-md":"4","size-sm":"12"},{default:p((()=>[g(v,{class:x({inactive:!e.hasPriviledge,clickable:e.hasPriviledge}),onClick:a=>t.setApplication(e),name:e.applicationName,version:e.version,releaseDate:e.versionReleaseDate,details:e.applicationDescription,programID:e.programID,iconURL:t.resolveImage(e.applicationIcon)},null,8,["class","onClick","name","version","releaseDate","details","programID","iconURL"])])),_:2},1024)))),128))])),_:1})])),_:1}),g(P,null,{default:p((()=>[g(f,null,{default:p((()=>[t.noAppPriviledges||t.canClose?(d(),c(y,{key:0,color:"danger",size:"large",onClick:t.closeModal},{default:p((()=>[u(" Close ")])),_:1},8,["onClick"])):A("",!0)])),_:1})])),_:1})],64)}],["__scopeId","data-v-c72ba17e"]]);t("P",class{static getAllPrograms(){return D.getJson("programs",{page_size:1e3})}static getPatientPrograms(t){return D.getJson(`patients/${t}/programs`)}static getPatientVLInfo(t,e){const a=L;return D.getJson(`programs/${a}/patients/${t}/vl_info`,{date:e})}static getProgramWorkflows(t){return D.getJson(`programs/${t}/workflows`)}static getPatientStates(t,e){return D.getJson(`programs/${e}/patients/${t}/states`)}static voidProgram(t,e=""){return D.void(`patient_programs/${t}/`,{reason:e})}static createState(t,e,a){return D.postJson(`programs/${e}/patients/${t}/states`,a)}static voidState(t,e,a,n=""){return D.void(`programs/${e}/patients/${t}/states/${a}`,{reason:n})}static async getProgramInformation(t){try{return await D.getJson(`/programs/${L}/patients/${t}`)}catch(e){return{}}}static getCurrentProgramInformation(t,e){return D.getJson(`/programs/${L}/patients/${t}/visit?date=${e}`)}static getMastercardDrugInformation(t,e){return D.getJson(`/programs/${L}/patients/${t}/mastercard_data?date=${e}`)}static getNextTask(t,e){return D.getJson(`/workflows/${L}/${t}`,{date:e})}static async getNextSuggestedARVNumber(){var t;const e=await D.getJson("/programs/1/next_available_arv_number");if(e.ok)return null===(t=e.data)||void 0===t?void 0:t.arv_number.replace(/^\D+|\s/g,"")}static voidARVNumber(t){return D.postJson(`/programs/1/void_arv_number/${t}`,{})}static getFastTrackStatus(t,e){return D.getJson("/on_fast_track",{person_id:t,date:e})}static createPatient(t){return D.postJson("/patients/",{program_id:L,person_id:t})}static enrollPatient(t,e){return D.postJson(`/patients/${t}/programs`,{program_id:L,date_enrolled:e})}static enrollProgram(t,e,a){return D.postJson(`/patients/${t}/programs`,{program_id:e,date_enrolled:a})}static getWeightForHeightValues(){return D.getJson("/patient_weight_for_height_values")}static async selectApplication(){const t=await _.create({component:z,cssClass:"my-custom-class",backdropDismiss:!1,componentProps:{appVersion:S().fullVersion}});return t.present(),t}})}}}));
