import{d as P,J as R,S as y,h as A,w as o,u as e,o as h,a,a7 as S,_ as b,$ as v,V as z,b as i,U as B,t as p,f as s,am as E,y as M,m as f,I as w,i as N,aJ as F,c as K,j as T,aK as V,ad as x,aL as U,D,R as L,az as q,O as J,p as j,e as G,l as O}from"./index-1c16650e.js";import{r as g}from"./image-cb93bc3e.js";import{t as C}from"./toasts-926a2fd9.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";const $=t=>(j("data-v-374751c0"),t=t(),G(),t),H=["src"],Q=["src"],X=["src"],Y={key:0},Z=$(()=>s("h4",null,"Please, log into your account",-1)),ee=P({__name:"login",setup(t){const{fullVersion:k}=q(),{facility:u}=J(),I=R(),d=I.currentRoute.value.redirectedFrom,l=y(""),n=y(""),c=async()=>{if(!l.value||!n.value)return C("Invalid login details");const m=await O.login(l.value,n.value);m.ok?I.push(d!=null?d:"/"):C(m.errorMessage)};return(m,r)=>(h(),A(e(L),null,{default:o(()=>[a(e(D),null,{default:o(()=>[a(e(S),{style:{margin:"0",padding:"0"}},{default:o(()=>[a(e(b),null,{default:o(()=>[a(e(v),{size:"8"},{default:o(()=>[a(e(z),{class:"title"},{default:o(()=>[i("E-MASTERCARD APP")]),_:1}),a(e(B),{class:"sub-title"},{default:o(()=>[i(p(e(k)),1)]),_:1}),s("img",{src:e(g)("report.png"),class:"hero-image"},null,8,H),a(e(E),{class:"footer-section"},{default:o(()=>[a(e(M),null,{default:o(()=>[s("span",null,[s("img",{id:"coat",src:e(g)("login-logos/Malawi-Coat_of_arms_of_arms.png"),alt:"Malawi Coat of Arms logo",class:"brand-logo-moh"},null,8,Q),s("img",{id:"pepfar",src:e(g)("login-logos/PEPFAR.png"),alt:"PEPFAR logo",class:"brand-logo-pepfar"},null,8,X)]),a(e(f),{class:"his-sm-text",slot:"end",lines:"none"},{default:o(()=>[a(e(w),{color:"dark",fill:"outline",size:"large",slot:"end","router-link":"/settings/network"},{default:o(()=>[i(" Network ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(e(v),{size:"4",class:"form-section"},{default:o(()=>[a(e(N),{icon:e(F),class:"avatar"},null,8,["icon"]),e(u).name?(h(),K("h3",Y,p(e(u).name)+" ("+p(e(u).district)+")",1)):T("",!0),Z,a(e(f),{style:{margin:"2rem 3.5rem"}},{default:o(()=>[a(e(V),{type:"text",placeholder:"Username",modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=_=>l.value=_),onKeyup:x(c,["enter"]),min:5,required:""},null,8,["modelValue"])]),_:1}),a(e(f),{style:{margin:"2rem 3.5rem"}},{default:o(()=>[a(e(V),{type:"password",modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=_=>n.value=_),placeholder:"Password",onKeyup:x(c,["enter"]),max:100,min:5,required:""},null,8,["modelValue"])]),_:1}),a(e(w),{expand:"full",size:"large",style:{margin:"2rem 3.5rem","text-transform":"none"},onClick:U(c,["prevent"])},{default:o(()=>[i(" Login ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});const le=W(ee,[["__scopeId","data-v-374751c0"]]);export{le as default};
