System.register(["./index-legacy-4899e382.js","./his_date-legacy-e1b082b7.js"],function(e,n){"use strict";var a,l,o,t,r,u,i,s,d,m,c,v,g,p,b,k,w,U,f,y,h,x,V,_,I;return{setters:[e=>{a=e.d,l=e.M,o=e.B,t=e.aA,r=e.aB,u=e.i,i=e.a9,s=e.j,d=e.J,m=e._,c=e.O,v=e.o,g=e.c,p=e.k,b=e.w,k=e.a,w=e.t,U=e.A,f=e.b,y=e.e,h=e.ao,x=e.N,V=e.L,_=e.ar},e=>{I=e.a}],execute:function(){const n=a({name:"NumberInput",props:{modelValue:{type:Object,default:()=>({})},form:{type:Object,default:()=>({})},min:{type:Number,default:null},max:{type:Number,default:null},allowUnknown:{type:Boolean,default:!1}},components:{IonLabel:l,IonInput:o,IonNote:t,IonCheckbox:r},emits:["update:modelValue"],setup(e,{emit:n}){const a=d(!1),l=u({get:()=>e.modelValue,set:e=>n("update:modelValue",e)});return i(a,e=>{e?(l.value.value="Unknown",l.value.error="",l.value.disabled=!0):(l.value.value="",l.value.disabled=!1)}),i(e.modelValue,e=>{"Unknown"===e.value?a.value||(a.value=!0):a.value=!1}),s(()=>{"Unknown"!==l.value.value||a.value||(a.value=!0)}),{validate:async()=>{if(l.value.required&&!l.value.value)return l.value.error="This field is required";if(!e.allowUnknown&&"Unknown"===l.value.value||"N/A"===l.value.value)return l.value.error="Unknown is not allowed";if(l.value.validation){const n=await l.value.validation({label:l.value.value,value:l.value.value},e.form);if(n&&n.length)return l.value.error+=n.toString()}return l.value.error=""},model:l,isUnknown:a}}}),N={key:0,class:"text-danger"},j={key:1,class:"ion-float-right ion-margin-end checkbox-label"};e("N",m(n,[["render",function(e,n,a,l,o,t){const r=c("ion-checkbox"),u=c("ion-label"),i=c("ion-input"),s=c("ion-note");return v(),g(x,null,[e.model.label?(v(),p(u,{key:0,class:"ion-padding-bottom bold"},{default:b(()=>[k("span",null,w(e.model.label),1),e.model.required?(v(),g("span",N," *")):U("",!0),e.allowUnknown?(v(),g("span",j,[n[3]||(n[3]=f(" Unknown? ",-1)),y(r,{modelValue:e.isUnknown,"onUpdate:modelValue":n[0]||(n[0]=n=>e.isUnknown=n)},null,8,["modelValue"])])):U("",!0)]),_:1})):U("",!0),y(i,{type:"number",class:h(["ion-margin-top",e.model.error?"box-input-error":"box-input"]),modelValue:e.model.value,"onUpdate:modelValue":n[1]||(n[1]=n=>e.model.value=n),placeholder:e.isUnknown?"Unknown":e.model.placeholder,disabled:e.model.disabled||e.isUnknown,onIonFocus:n[2]||(n[2]=n=>e.model.error=""),onIonBlur:e.validate,min:e.min,max:e.max},null,8,["class","modelValue","placeholder","disabled","onIonBlur","min","max"]),e.model.error?(v(),p(s,{key:1,color:"danger"},{default:b(()=>[f(w(e.model.error),1)]),_:1})):U("",!0)],64)}]]));const A={label:"Unkown",value:"Unkown",other:[{drug_id:1046,drug_name:"Unknown ARV",am:1,pm:0,units:"",frequency:"Daily (QOD)"}]};e("R",class{static getAllArvRegimens(){return V.getJson(`programs/${_}/all_arv_regimens`)}static async getRegimens(e,n=!1,a=I()){const l=await V.getJson(`programs/${_}/regimens`,{weight:e,tb_dosage:n,date:a});return l.ok&&l.data?Object.keys(l.data).map(e=>({label:e,value:e,other:l.data[e]})).concat(A):[A]}static getCustomIngridients(){return V.getJson(`programs/${_}/custom_regimen_ingredients`)}static getCurrentRegimen(e,n=I()){return V.getJson(`programs/${_}/${e}`,{date:n})}static getRegimenExtras(e,n){return V.getJson(`programs/${_}/regimen_extras`,{name:e,weight:n})}})}}});
