System.register(["./index-legacy-11525bd0.js","./TextInput-legacy-788d8adc.js","./SelectInput-legacy-8a1f8c61.js","./form-legacy-fd77c456.js","./toasts-legacy-7149d510.js","./location_options-legacy-0691f861.js","./YesNoInput-legacy-42479861.js","./common-legacy-e8d6ba88.js","./Strs-legacy-b5721578.js","./loader-legacy-bf687919.js"],function(e,a){"use strict";var l,i,t,u,n,s,d,o,c,r,m,p,f,y,g,v,S,V,j,I,x,C;return{setters:[e=>{l=e.d,i=e.h,t=e.i,u=e.j,n=e.w,s=e.u,d=e.k,o=e.o,c=e.e,r=e.n,m=e.a,p=e.I,f=e.b,y=e.m,g=e.l},e=>{v=e.T},e=>{S=e.S},e=>{V=e.s},e=>{j=e.a,I=e.t},e=>{x=e.g},e=>{C=e.Y},null,null,null],execute:function(){const a={class:"ion-margin-vertical"},h={class:"ion-margin-vertical"},U={class:"ion-margin-vertical"},_={class:"ion-margin-vertical ion-padding-top"};e("default",l({__name:"SiteSettings",setup(e){const l=d(),b=i(()=>({name:{value:l.facility.name,label:"Site Name",required:!0},prefix:{value:l.facility.code,label:"Site Prefix",required:!0},uuid:{value:l.facility.uuid,label:"Site UUID",required:!0},dicSite:{value:l.isDICSite.value,label:"Is the facility a Drop-In Center for Key Populations",required:!0}}));function D(){return V(b.value,async e=>{try{e.name!==l.facility.name&&await l.updateFacilityName(e.name.value),e.prefix!==l.facility.code&&await l.updateFacilityCode(e.prefix),e.uuid!==l.facility.uuid&&await l.updateFacilityUuid(e.uuid),e.dicSite!==l.isDICSite.value&&await l.updateDICStatus(e.dicSite),j("Site settings updated successfully")}catch(a){I("Unable to update site settings"),console.error(a)}})}return t(()=>{l.loadCurrentFacility(!0),l.refreshDICStatus()}),(e,l)=>(o(),u(s(g),null,{default:n(()=>[c(s(y),null,{default:n(()=>[c(s(r),{size:"8",offset:"2",class:"his-card ion-padding ion-margin-top"},{default:n(()=>[l[5]||(l[5]=m("h2",null,"Site Settings",-1)),m("div",a,[c(S,{modelValue:b.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value.name=e),asyncOptions:s(x)},null,8,["modelValue","asyncOptions"])]),m("div",h,[c(v,{modelValue:b.value.prefix,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value.prefix=e)},null,8,["modelValue"])]),m("div",U,[c(v,{modelValue:b.value.uuid,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value.uuid=e)},null,8,["modelValue"])]),m("div",_,[c(C,{modelValue:b.value.dicSite,"onUpdate:modelValue":l[3]||(l[3]=e=>b.value.dicSite=e),inline:""},null,8,["modelValue"])]),c(s(p),{class:"ion-margin-top ion-float-right",onClick:D},{default:n(()=>[...l[4]||(l[4]=[f("Save Changes",-1)])]),_:1})]),_:1})]),_:1})]),_:1}))}}))}}});
