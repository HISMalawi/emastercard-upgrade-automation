import{l as m}from"./loader-1441845f.js";import{d as f,S as c,a8 as b,g as u,a9 as g,r as D,h,o as w}from"./index-1c16650e.js";import{_}from"./ReportTable.vue_vue_type_script_setup_true_lang-18fee1ca.js";import{C as v,D as C}from"./data_cleaning_report_service-5ed98662.js";import{D as S}from"./Date-c63183ce.js";import{d as A}from"./his_date-3ca53c6f.js";import{t as R}from"./Strs-7ee8a435.js";import{p as B}from"./common-94ac9539.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import"./exports-300de8ff.js";import"./index-e903e9ca.js";import"./vue-datepicker-312099be.js";import"./toasts-926a2fd9.js";import"./DrilldownTable-d5470f91.js";import"./arrays-7f14d286.js";import"./report_service-1011140c.js";import"./index-95d3a767.js";import"./url-ffe761c9.js";const T=f({name:"DataCleaning",components:{BaseReportTable:_},setup(){const t=c([]),a=b({}),s=u(()=>"Data Cleaning Tools ".concat((a==null?void 0:a.value)||"")),r=c("-"),i=[{path:"arv_number",label:"ARV Number",preSort:B,initialSort:!0},{path:"given_name",label:"First Name"},{path:"family_name",label:"Last Name"},{path:"gender",label:"Gender",formatter:R},{path:"birthdate",label:"Date of Birth",formatter:e=>A(e).format(S)}],l=async e=>{var p;await m.show();const o=new C;o.setStartDate(e.dateRange.startDate),o.setEndDate(e.dateRange.endDate),Object.assign(a,e.tool),r.value=o.getDateIntervalPeriod(),t.value=(p=(await o.getCleaningToolReport(a.value)).data)!=null?p:[],await m.hide()},n=[{label:"Show",default:!0,action:e=>{g.push("/patient/".concat(e.patient_id))}}],d=u(()=>[{id:"tool",label:"Select Cleaning Tool",type:"select",value:a,gridSize:5,options:Object.values(v).map(e=>({label:e.toLowerCase(),value:e}))}]);return{period:r,title:s,rows:t,columns:i,rowActionBtns:n,filters:d,fetchData:l}}});function j(t,a,s,r,i,l){const n=D("base-report-table");return w(),h(n,{title:t.title,"report-icon":"clean.jpg",period:t.period,columns:t.columns,rows:t.rows,rowActionButtons:t.rowActionBtns,"custom-filters":t.filters,useDateRangeFilter:"",onGenerate:t.fetchData},null,8,["title","period","columns","rows","rowActionButtons","custom-filters","onGenerate"])}const Q=$(T,[["render",j]]);export{Q as default};
