System.register(["./index-legacy-252e5157.js","./image-legacy-0037564c.js","./toasts-legacy-81fda272.js","./PasswordUpdate-legacy-20e30db4.js","./TextInput-legacy-9460607d.js","./his_date-legacy-e8a2a318.js","./validations-legacy-a28ff1e1.js","./common-legacy-e8d6ba88.js","./form-legacy-9590f3eb.js","./Strs-legacy-b5721578.js","./loader-legacy-8066ece2.js"],function(a,e){"use strict";var t,l,o,n,d,i,s,r,c,u,f,g,m,v,p,h,b,x,y,w,_,k,C,E,z,P,j,A,I,F,R,M,S,V,L,T,D,K,O,U,q,B;return{setters:[a=>{t=a._,l=a.o,o=a.c,n=a.f,d=a.d,i=a.r,s=a.g,r=a.h,c=a.i,u=a.j,f=a.k,g=a.w,m=a.u,v=a.l,p=a.e,h=a.m,b=a.n,x=a.p,y=a.q,w=a.b,_=a.s,k=a.t,C=a.a,E=a.v,z=a.x,P=a.y,j=a.I,A=a.z,I=a.A,F=a.B,R=a.C,M=a.D,S=a.E,V=a.F,L=a.G,T=a.H,D=a.J,K=a.K,O=a.L},a=>{U=a.r},a=>{q=a.t},a=>{B=a.u},null,null,null,null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent=".helpdesk-flyer[data-v-a0d453f6]{background:white;text-align:center;border:2px solid #E53E3E;max-width:350px;margin:0 auto}.main-content[data-v-a0d453f6]{display:flex}.title-section[data-v-a0d453f6]{background:white;color:#2b6cb0;padding:10px;flex:1;border-bottom:1px solid #2B6CB0}.title[data-v-a0d453f6]{font-weight:700;font-size:1rem;margin-bottom:4px}.subtitle[data-v-a0d453f6]{color:#4a5568;font-size:.75rem}.contact-section[data-v-a0d453f6]{background:#3182CE;color:#fff;padding:10px;flex:1;display:flex;flex-direction:column;justify-content:center}.contact-label[data-v-a0d453f6]{font-size:.75rem;margin-bottom:5px}.toll-number[data-v-a0d453f6]{font-weight:700;font-size:2rem}.email-section[data-v-a0d453f6]{background:white;color:#2b6cb0;padding:8px;font-size:1rem;font-weight:700}.title[data-v-acc1b619]{text-align:center;font-size:68px;font-weight:700;margin:8vh 1px 0}.sub-title[data-v-acc1b619]{text-align:center!important;font-size:24px;margin-bottom:20px}.hero-image[data-v-acc1b619]{display:block;width:55%;margin:5px auto}.footer-section[data-v-acc1b619]{position:absolute;width:100%;bottom:0;left:0;padding-right:1rem;padding-left:1rem}.avatar[data-v-acc1b619]{font-size:8vw;margin:5vh 1px 0}.form-section[data-v-acc1b619]{background:#2839ad;color:#fff;text-align:center;height:100vh;padding:38px 18px}.brand-logo-pepfar[data-v-acc1b619]{width:80px}.brand-logo-moh[data-v-acc1b619]{width:90px}\n",document.head.appendChild(e);const G={class:"helpdesk-flyer"},H=t({},[["render",function(a,e){return l(),o("div",G,[...e[0]||(e[0]=[n('<div class="main-content" data-v-a0d453f6><div class="title-section" data-v-a0d453f6><div class="title" data-v-a0d453f6>ELECTRONIC MEDICAL RECORDS HELP DESK</div><div class="subtitle" data-v-a0d453f6>We are here to assist you!</div></div><div class="contact-section" data-v-a0d453f6><div class="contact-label" data-v-a0d453f6>Toll-Free call or SMS</div><div class="toll-number" data-v-a0d453f6>2479</div></div></div><div class="email-section" data-v-a0d453f6><div data-v-a0d453f6>ðŸ“§ emrhelpdesk@pedaids.org</div></div>',2)])])}],["__scopeId","data-v-a0d453f6"]]),N=["src"],J=["src"],W=["src"],Q={key:0};a("default",t(d({__name:"login",setup(a){const e=i(""),t=i(""),n=i(!1),d=s(),G=B(),{fullVersion:X}=K(),{facility:Y,loadFacilityCode:Z,loadCurrentFacility:$}=v(),{initiateIdleTimer:aa,stopIdleTimer:ea}=r(),ta=c(()=>d.currentRoute.value.redirectedFrom);u(()=>{ea(),$(!0)});const la=async()=>{try{if(!e.value||!t.value)return q("Invalid login details");const l=await O.login(e.value,t.value);var a;l.ok?(G.setCurrentPassword(t.value),await G.canChangePassword()&&await G.changePassword(),Z(),aa(),d.push(null!==(a=ta.value)&&void 0!==a?a:"/")):q(l.errorMessage)}catch(l){q("An error occurred while logging in"),console.error(l)}},oa=()=>{n.value=!n.value};return(a,d)=>(l(),f(m(D),null,{default:g(()=>[p(m(T),null,{default:g(()=>[p(m(h),{style:{margin:"0",padding:"0"}},{default:g(()=>[p(m(b),null,{default:g(()=>[p(m(x),{size:"8"},{default:g(()=>[p(m(y),{class:"title"},{default:g(()=>[...d[2]||(d[2]=[w("E-MASTERCARD APP",-1)])]),_:1}),p(m(_),{class:"sub-title"},{default:g(()=>[w(k(m(X)),1)]),_:1}),C("img",{src:m(U)("report.png"),class:"hero-image",alt:"LOGO"},null,8,N),p(m(E),{class:"footer-section"},{default:g(()=>[p(m(z),null,{default:g(()=>[C("span",null,[C("img",{id:"coat",src:m(U)("login-logos/Malawi-Coat_of_arms_of_arms.png"),alt:"Malawi Coat of Arms logo",class:"brand-logo-moh"},null,8,J),C("img",{id:"pepfar",src:m(U)("login-logos/PEPFAR.png"),alt:"PEPFAR logo",class:"brand-logo-pepfar"},null,8,W)]),p(m(P),{class:"his-sm-text",slot:"end",lines:"none"},{default:g(()=>[p(m(j),{color:"dark",fill:"outline",size:"large",slot:"end","router-link":"/settings/network"},{default:g(()=>[...d[3]||(d[3]=[w(" Network ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),p(m(x),{size:"4",class:"form-section"},{default:g(()=>[p(m(A),{icon:m(I),class:"avatar"},null,8,["icon"]),m(Y).name?(l(),o("h3",Q,k(m(Y).name)+" ("+k(m(Y).district)+")",1)):F("",!0),d[6]||(d[6]=C("h4",null,"Please, log into your account",-1)),p(m(P),{style:{margin:"2rem 3.5rem"}},{default:g(()=>[p(m(R),{type:"text",placeholder:"Username",modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=a=>e.value=a),onKeyup:M(la,["enter"]),min:5,required:""},null,8,["modelValue"])]),_:1}),p(m(P),{style:{margin:"2rem 3.5rem"}},{default:g(()=>[p(m(R),{type:n.value?"text":"password",modelValue:t.value,"onUpdate:modelValue":d[1]||(d[1]=a=>t.value=a),placeholder:"Password",onKeyup:M(la,["enter"]),max:100,min:5,required:""},{default:g(()=>[p(m(j),{slot:"end",fill:"clear",onClick:oa},{default:g(()=>[p(m(A),{icon:n.value?m(S):m(V)},null,8,["icon"])]),_:1})]),_:1},8,["type","modelValue"])]),_:1}),p(m(j),{expand:"full",size:"large",style:{margin:"2rem 3.5rem","text-transform":"none"},onClick:L(la,["prevent"])},{default:g(()=>[...d[4]||(d[4]=[w(" Login ",-1)])]),_:1}),p(m(j),{fill:"clear",size:"large",color:"light",class:"ion-text-lowercase",onClick:m(G).showForgetPasswordModal},{default:g(()=>[...d[5]||(d[5]=[w(" forget password? ",-1)])]),_:1},8,["onClick"]),p(H,{class:"ion-margin-top"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),[["__scopeId","data-v-acc1b619"]]))}}});
