System.register(["./index-legacy-6e855e79.js","./his_date-legacy-262fa85a.js","./validations-legacy-d0f46810.js","./emc_event-legacy-58754a45.js","./vue-datepicker-legacy-6c0a3671.js","./common-legacy-0d7df615.js","./_plugin-vue_export-helper-legacy-762b7923.js"],(function(e,a){"use strict";var l,t,o,n,u,i,d,r,m,s,v,c,p,y,f,b,g,I,V,D,h,x,k,E,j,w,_,M,q,S,F,$,L,U,O,Y,C;return{setters:[e=>{l=e.d,t=e.J,o=e.z,n=e.aq,u=e.ar,i=e.da,d=e.I,r=e.v,m=e.db,s=e.r,v=e.H,c=e.a6,p=e.a2,y=e.a8,f=e.L,b=e.c,g=e.h,I=e.w,V=e.y,D=e.ag,h=e.f,x=e.a,k=e.K,E=e.o,j=e.t,w=e.b,_=e.N},e=>{M=e.d,q=e.e,S=e.i,F=e.t},e=>{$=e.d},e=>{L=e.E,U=e.a},e=>{O=e.K},e=>{Y=e.i},e=>{C=e._}],execute:function(){var a=document.createElement("style");a.textContent=".vc-popover-content-wrapper{z-index:1000!important}\n",document.head.appendChild(a);const J=l({name:"DateInput",props:{modelValue:{type:Object,default:()=>({})},form:{type:Object,default:()=>({})},minDate:{type:[String,Function],required:!1},maxDate:{type:[String,Function],required:!1},allowEstimation:{type:Boolean,default:!1},estimationLabel:{type:String,default:"Estimate"}},components:{IonLabel:t,IonInput:o,IonNote:n,IonCheckbox:u,IonSelect:i,IonButton:d,IonIcon:r,IonSelectOption:m,VueDatePicker:O},emits:["update:modelValue","isEstimated"],setup(e,{emit:a}){const l=s(!1),t=s(),o=s(e.modelValue.value?M(e.modelValue.value).date():void 0),n=s(e.modelValue.value?M(e.modelValue.value).month()+1:0),u=s(e.modelValue.value?M(e.modelValue.value).year():void 0),i=s(e.modelValue.value),d=v((()=>{const a="function"==typeof e.minDate?e.minDate():e.minDate;return Y(a)?"":q(a)})),r=v((()=>{const a="function"==typeof e.maxDate?e.maxDate():e.maxDate;return Y(a)?"":q(a)})),m=v({get:()=>e.modelValue?e.modelValue:{},set:e=>a("update:modelValue",e)}),f=async()=>{let a="";if(l.value&&t.value)a=S(t.value);else if(o.value||n.value||u.value){const e=`${u.value}-${n.value}-${o.value}`;if(!e.match(/^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/))return m.value.error="Invalid date";a=q(e)}if(m.value.required&&!a)return m.value.error="This field is required";if(d.value&&new Date(a)<new Date(d.value))return m.value.error=l.value?`Estimated period must be less than or equal to ${M().diff(d.value,"years")} years`:`Date must be after ${F(d.value)}`;if(r.value&&new Date(a)>new Date(r.value))return m.value.error=l.value?"Estimated period must be more than or equal to 0 years":`Date must be before ${F(r.value)}`;if(m.value.validation){const l=await m.value.validation({label:a,value:a},e.form);if(l&&l.length)return m.value.error+=l.toString()}m.value.error="",m.value.value=a};c(i,(e=>{o.value=M(e).date(),n.value=M(e).month()+1,u.value=M(e).year(),f()}));const b=()=>{t.value=void 0,o.value=void 0,n.value=0,u.value=void 0,m.value.error="",i.value=""};return c((()=>e.modelValue.value),(e=>{o.value=e?M(e).date():void 0,n.value=e?M(e).month()+1:0,u.value=e?M(e).year():void 0,i.value=e})),c(l,(e=>{b(),a("isEstimated",e)})),p((()=>L.on(U.ON_CLEAR,b))),{validate:f,onEstimate:e=>{var a;m.value.error=null===(a=$({value:e.target.value}))||void 0===a?void 0:a.join(),m.value.error||(t.value=parseInt(e.target.value)),f()},pickerDate:i,isEstimated:l,model:m,age:t,day:o,month:n,year:u,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],calendar:y,computedMinDate:d,computedMaxDate:r}}}),N={key:0},z={key:1},A={key:2,class:"text-danger"},B={key:3,class:"ion-float-right ion-margin-end checkbox-label"},K={key:2,style:{display:"flex","justify-content":"flex-start","justify-items":"center"}},H={style:{"margin-top":".7rem","flex-grow":"1"}};e("D",C(J,[["render",function(e,a,l,t,o,n){const u=f("ion-checkbox"),i=f("ion-label"),d=f("ion-input"),r=f("ion-icon"),m=f("ion-button"),s=f("vue-date-picker"),v=f("ion-select-option"),c=f("ion-select"),p=f("ion-note");return E(),b(k,null,[e.model.label?(E(),g(i,{key:0,class:"ion-padding-bottom bold"},{default:I((()=>[e.isEstimated?(E(),b("span",N,j(e.estimationLabel),1)):(E(),b("span",z,j(e.model.label),1)),e.model.required?(E(),b("span",A," *")):V("",!0),e.allowEstimation?(E(),b("span",B,[w(" Estimate "+j(e.model.label)+" ",1),x(u,{modelValue:e.isEstimated,"onUpdate:modelValue":a[0]||(a[0]=a=>e.isEstimated=a)},null,8,["modelValue"])])):V("",!0)])),_:1})):V("",!0),e.isEstimated?(E(),g(d,{key:1,type:"number",class:D(["ion-margin-top",e.model.error?"box-input-error":"box-input"]),modelValue:e.age,"onUpdate:modelValue":a[1]||(a[1]=a=>e.age=a),placeholder:e.estimationLabel,disabled:e.model.disabled,min:1,onIonInput:e.onEstimate,onIonFocus:a[2]||(a[2]=()=>e.model.error="")},null,8,["class","modelValue","placeholder","disabled","onIonInput"])):(E(),b("div",K,[h("div",H,[x(s,{teleport:!0,modelValue:e.pickerDate,"onUpdate:modelValue":a[3]||(a[3]=a=>e.pickerDate=a),"enable-time-picker":!1,maxDate:e.computedMaxDate,minDate:e.computedMinDate},{trigger:I((()=>[x(m,null,{default:I((()=>[x(r,{icon:e.calendar},null,8,["icon"])])),_:1})])),_:1},8,["modelValue","maxDate","minDate"])]),x(d,{modelValue:e.day,"onUpdate:modelValue":a[4]||(a[4]=a=>e.day=a),min:1,max:31,class:"ion-margin-top",fill:"outline",style:{"flex-grow":"2"},type:"number",placeholder:"DD",disabled:e.model.disabled,onIonFocus:a[5]||(a[5]=()=>e.model.error=""),onIonInput:e.validate},null,8,["modelValue","disabled","onIonInput"]),x(c,{modelValue:e.month,"onUpdate:modelValue":a[6]||(a[6]=a=>e.month=a),"aria-label":"Months",interface:"popover",placeholder:"MM",class:"ion-margin-top ion-margin-horizontal",fill:"outline",justify:"end",disabled:e.model.disabled,onIonFocus:a[7]||(a[7]=()=>e.model.error=""),onIonInput:e.validate},{default:I((()=>[(E(!0),b(k,null,_(e.months,((e,a)=>(E(),g(v,{value:a+1,key:a},{default:I((()=>[w(j(e),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","disabled","onIonInput"]),x(d,{modelValue:e.year,"onUpdate:modelValue":a[8]||(a[8]=a=>e.year=a),min:1900,class:"ion-margin-top",fill:"outline",style:{"flex-grow":"2"},type:"number",placeholder:"YYYY",disabled:e.model.disabled,onIonFocus:a[9]||(a[9]=()=>e.model.error=""),onIonInput:e.validate},null,8,["modelValue","disabled","onIonInput"])])),e.model.error?(E(),g(p,{key:3,color:"danger"},{default:I((()=>[w(j(e.model.error),1)])),_:1})):V("",!0)],64)}]]))}}}));
