import{d as g,g as _,o as l,c as d,h as u,u as e,i as C,j as h,a as t,w as a,b as y,t as k,k as w,F as p,l as M,r as $,m as I,n as H,f as x,q as L,s as O,v as z,x as F,y as V,z as j,A as E,K as q,B as N,C as G,D as S,E as K,G as J,H as Q,J as U,L as A,M as W,N as X,O as Y,P as Z,Q as ee,R as te}from"./index-1c16650e.js";import{r as R}from"./image-cb93bc3e.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import{r as P}from"./url-ffe761c9.js";const ae=["src"],le=g({__name:"SideMenuItemLabel",props:{item:{}},setup(c){const n=c,m=_(()=>{var r,o,f;return"".concat((f=(o=(r=n.item.meta)==null?void 0:r.title)!=null?o:n.item.name)!=null?f:n.item.path)}),i=_(()=>{var r;return(r=n.item.meta)==null?void 0:r.img}),s=_(()=>{var r;return(r=n.item.meta)==null?void 0:r.icon});return(r,o)=>(l(),d(p,null,[s.value?(l(),u(e(C),{key:0,icon:s.value,slot:"start"},null,8,["icon"])):i.value?(l(),d("img",{key:1,src:e(R)(i.value),class:"ion-margin-end icon"},null,8,ae)):h("",!0),t(e(w),null,{default:a(()=>[y(k(m.value),1)]),_:1})],64))}});const B=ne(le,[["__scopeId","data-v-ccc83e32"]]),oe={key:0},se={class:"ion-padding-start",slot:"content"},re=g({__name:"SideMenuItem",props:{item:{type:Object,required:!0},parentPath:{type:String,default:""}},setup(c){const n=c,m=_(()=>{var o;return n.item.meta&&"hidden"in n.item.meta?!((o=n.item.meta)!=null&&o.hidden):n.item.meta&&"roles"in n.item.meta?M.userHasRoles(n.item.meta.roles):!0}),i=_(()=>!!(n.item.meta&&n.item.meta.alwaysShow)),s=_(()=>{var o,f;return(f=(o=n.item.children)==null?void 0:o.filter(b=>!(b.meta&&b.meta.hidden)).length)!=null?f:0}),r=_(()=>{if(s.value>1)return null;if(n.item.children){for(const o of n.item.children)if(!o.meta||!o.meta.hidden)return o}return{...n.item,path:""}});return(o,f)=>{const b=$("router-link"),T=$("side-menu-item",!0);return m.value?(l(),d("div",oe,[!i.value&&r.value&&!r.value.children?(l(),d(p,{key:0},[r.value.meta?(l(),u(e(H),{key:0,"auto-hide":""},{default:a(()=>[t(b,{to:e(P)(r.value.path,c.parentPath)},{default:a(({isActive:v,isExactActive:D})=>[t(e(I),{button:"",color:v&&D?"primary":""},{default:a(()=>[t(B,{item:r.value},null,8,["item"])]),_:2},1032,["color"])]),_:1},8,["to"])]),_:1})):h("",!0)],64)):(l(),u(e(F),{key:1},{default:a(()=>[t(e(z),{value:c.item.path,"toggle-icon":e(O)},{default:a(()=>[t(e(I),{slot:"header"},{default:a(()=>[t(B,{item:c.item},null,8,["item"])]),_:1}),x("div",se,[(l(!0),d(p,null,L(c.item.children,v=>(l(),u(T,{item:v,key:v.path,"parent-path":e(P)(v.path,c.parentPath)},null,8,["item","parent-path"]))),128))])]),_:1},8,["value","toggle-icon"])]),_:1}))])):h("",!0)}}}),ie=["src"],ue=g({__name:"index",setup(c){return(n,m)=>(l(),u(e(K),{"menu-id":"app-menu","content-id":"main-content","auto-hide":""},{default:a(()=>[t(e(E),null,{default:a(()=>[t(e(V),null,{default:a(()=>[t(e(I),{lines:"none"},{default:a(()=>[t(e(j),{slot:"start"},{default:a(()=>[x("img",{src:e(R)("aids.png"),class:"logo",alt:"HIV Electronic Mastercard App logo"},null,8,ie)]),_:1}),t(e(w),null,{default:a(()=>[y("E-MASTERCARD")]),_:1})]),_:1}),t(e(w),{class:"ion-margin-start"},{default:a(()=>[y("HIV Electronic Mastercard App")]),_:1})]),_:1})]),_:1}),t(e(S),null,{default:a(()=>[(l(),u(q,null,[t(e(N),null,{default:a(()=>[(l(!0),d(p,null,L(e(G),(i,s)=>(l(),u(re,{key:s,item:i,"parent-path":i.path},null,8,["item","parent-path"]))),128))]),_:1})],1024))]),_:1})]),_:1}))}}),ce={style:{"font-size":"14px","margin-right":"5px"}},me=g({__name:"navbarItem",props:{label:{},items:{}},setup(c){return(n,m)=>{var i;return l(),d(p,null,[t(e(I),{id:n.label,button:"",lines:"none"},{default:a(()=>{var s;return[x("span",ce,k(n.label),1),(s=n.items)!=null&&s.length?(l(),u(e(C),{key:0,icon:e(J)},null,8,["icon"])):h("",!0)]}),_:1},8,["id"]),(i=n.items)!=null&&i.length?(l(),u(e(Q),{key:0,trigger:n.label,"trigger-action":"click",dismissOnSelect:""},{default:a(()=>[t(e(S),{style:{width:"100%"}},{default:a(()=>[t(e(N),null,{default:a(()=>[(l(!0),d(p,null,L(n.items,s=>(l(),u(e(I),{key:s.label,onClick:s.action,button:""},{default:a(()=>[s.icon?(l(),u(e(C),{key:0,icon:s.icon,slot:"start",style:{"margin-right":"1rem"}},null,8,["icon"])):h("",!0),t(e(w),null,{default:a(()=>[y(k(s.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["trigger"])):h("",!0)],64)}}}),de=g({__name:"index",setup(c){const{facility:n}=Y(),m=U(),i=[{label:"User Profile",action:()=>m.push("/users/profile"),icon:Z},{label:"Logout",action:()=>{M.logout(),m.push("/users/login")},icon:ee}];return(s,r)=>(l(),u(e(E),{class:"toolbar-size"},{default:a(()=>[t(e(V),null,{default:a(()=>[t(e(A),{slot:"start"},{default:a(()=>[t(e(W),{"auto-hide":""})]),_:1}),t(e(X),null,{default:a(()=>[y(k(e(n).name),1)]),_:1}),t(e(A),{slot:"end",size:"large"},{default:a(()=>{var o;return[t(me,{label:(o=e(M).username)!=null?o:"",items:i},null,8,["label"])]}),_:1})]),_:1})]),_:1}))}}),_e={style:{"background-color":"#fafafa",height:"100%"}},ve=g({__name:"index",setup(c){return(n,m)=>{const i=$("router-view");return e(M).isLoggedIn()?(l(),d(p,{key:1},[t(ue,{type:"overlay"}),t(e(te),{id:"main-content"},{default:a(()=>[t(de),t(e(S),{color:"light"},{default:a(()=>[x("div",_e,[t(i,{style:{overflow:"auto","padding-left":"1rem"}})])]),_:1})]),_:1})],64)):(l(),u(i,{key:0}))}}});export{ve as default};
