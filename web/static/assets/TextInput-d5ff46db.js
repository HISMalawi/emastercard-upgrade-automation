import{d as U,J as V,z as _,aq as I,ar as B,r as C,H as N,a6 as k,a2 as T,L as i,c as s,h as w,w as p,y as t,f as c,a as f,ag as x,K as $,o as r,t as u,b as m}from"./index-67d679d3.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const S=U({name:"TextInput",props:{modelValue:{type:Object,default:()=>({})},allowUnknown:{type:Boolean,default:!1},form:{type:Object,default:()=>({})},prefix:{type:String,default:""},suffix:{type:String,default:""},password:{type:Boolean,default:!1}},components:{IonLabel:V,IonInput:_,IonNote:I,IonCheckbox:B},emits:["update:modelValue"],setup(e,{emit:l}){const n=C(!1),o=N({get:()=>e.modelValue,set:a=>l("update:modelValue",a)}),b=async()=>{if(o.value.required&&!o.value.value)return o.value.error="This field is required";if(!e.allowUnknown&&o.value.value==="Unknown"||o.value.value==="N/A")return o.value.error="Unknown is not allowed";if(o.value.validation){const a=await o.value.validation({label:o.value.value,value:o.value.value},e.form);if(a&&a.length)return o.value.error+=a.toString()}return o.value.error=""};return k(n,a=>{a?(o.value.value="Unknown",o.value.error="",o.value.disabled=!0):(o.value.value="",o.value.disabled=!1)}),k(e.modelValue,a=>{a.value==="Unknown"?n.value||(n.value=!0):n.value=!1}),T(()=>{o.value.value==="Unknown"&&!n.value&&(n.value=!0)}),{validate:b,model:o,isUnknown:n}}});const j={key:0,class:"text-danger"},z={key:1,class:"ion-float-right ion-margin-end checkbox-label"},F={key:0,class:"pre-suffix-wrapper"},L={class:"inner-input-wrapper"},O={key:1,class:"pre-suffix-wrapper"};function A(e,l,n,o,b,a){const y=i("ion-checkbox"),v=i("ion-label"),g=i("ion-input"),h=i("ion-note");return r(),s($,null,[e.model.label?(r(),w(v,{key:0,class:"ion-padding-bottom bold"},{default:p(()=>[c("span",null,u(e.model.label),1),e.model.required?(r(),s("span",j," *")):t("",!0),e.allowUnknown?(r(),s("span",z,[m(u(e.model.label)+" Unknown? ",1),f(y,{modelValue:e.isUnknown,"onUpdate:modelValue":l[0]||(l[0]=d=>e.isUnknown=d)},null,8,["modelValue"])])):t("",!0)]),_:1})):t("",!0),c("div",{class:x(["ion-margin-top outer-input-wrapper",e.model.error?"box-input-error":"box-input"])},[e.prefix?(r(),s("div",F,[f(v,{class:"checkbox-label bold"},{default:p(()=>[m(u(e.prefix),1)]),_:1})])):t("",!0),c("div",L,[f(g,{class:"ion-no-margin ion-no-padding",modelValue:e.model.value,"onUpdate:modelValue":l[1]||(l[1]=d=>e.model.value=d),type:e.password?"password":"text",placeholder:e.model.placeholder,disabled:e.model.disabled||e.isUnknown,onIonFocus:l[2]||(l[2]=d=>e.model.error=""),onIonBlur:e.validate},null,8,["modelValue","type","placeholder","disabled","onIonBlur"])]),e.suffix?(r(),s("div",O,[f(v,{class:"checkbox-label bold ion-float-right"},{default:p(()=>[m(u(e.suffix),1)]),_:1})])):t("",!0)],2),e.model.error?(r(),w(h,{key:1,color:"danger"},{default:p(()=>[m(u(e.model.error),1)]),_:1})):t("",!0)],64)}const H=q(S,[["render",A]]);export{H as T};
