import{d as P,g as A,r as v,h as R,w as a,u as e,o as y,a as o,i as b,j as B,k as h,l as E,b as i,m as S,t as _,f as s,n as z,q as F,s as f,I as w,v as M,x as N,c as T,y as q,z as x,A as C,B as D,C as K,D as U,E as G,F as L,p as j,e as W,G as H}from"./index-9d5e84a5.js";import{r as g}from"./image-cb93bc3e.js";import{t as k}from"./toasts-a30647ed.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";const O=t=>(j("data-v-374751c0"),t=t(),W(),t),Q=["src"],X=["src"],Y=["src"],Z={key:0},$=O(()=>s("h4",null,"Please, log into your account",-1)),ee=P({__name:"login",setup(t){const{fullVersion:V}=G(),{facility:u}=L(),I=A(),d=I.currentRoute.value.redirectedFrom,l=v(""),n=v(""),c=async()=>{if(!l.value||!n.value)return k("Invalid login details");const m=await H.login(l.value,n.value);m.ok?I.push(d!=null?d:"/"):k(m.errorMessage)};return(m,r)=>(y(),R(e(U),null,{default:a(()=>[o(e(K),null,{default:a(()=>[o(e(b),{style:{margin:"0",padding:"0"}},{default:a(()=>[o(e(B),null,{default:a(()=>[o(e(h),{size:"8"},{default:a(()=>[o(e(E),{class:"title"},{default:a(()=>[i("E-MASTERCARD APP")]),_:1}),o(e(S),{class:"sub-title"},{default:a(()=>[i(_(e(V)),1)]),_:1}),s("img",{src:e(g)("report.png"),class:"hero-image"},null,8,Q),o(e(z),{class:"footer-section"},{default:a(()=>[o(e(F),null,{default:a(()=>[s("span",null,[s("img",{id:"coat",src:e(g)("login-logos/Malawi-Coat_of_arms_of_arms.png"),alt:"Malawi Coat of Arms logo",class:"brand-logo-moh"},null,8,X),s("img",{id:"pepfar",src:e(g)("login-logos/PEPFAR.png"),alt:"PEPFAR logo",class:"brand-logo-pepfar"},null,8,Y)]),o(e(f),{class:"his-sm-text",slot:"end",lines:"none"},{default:a(()=>[o(e(w),{color:"dark",fill:"outline",size:"large",slot:"end","router-link":"/settings/network"},{default:a(()=>[i(" Network ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(e(h),{size:"4",class:"form-section"},{default:a(()=>[o(e(M),{icon:e(N),class:"avatar"},null,8,["icon"]),e(u).name?(y(),T("h3",Z,_(e(u).name)+" ("+_(e(u).district)+")",1)):q("",!0),$,o(e(f),{style:{margin:"2rem 3.5rem"}},{default:a(()=>[o(e(x),{type:"text",placeholder:"Username",modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=p=>l.value=p),onKeyup:C(c,["enter"]),min:5,required:""},null,8,["modelValue"])]),_:1}),o(e(f),{style:{margin:"2rem 3.5rem"}},{default:a(()=>[o(e(x),{type:"password",modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=p=>n.value=p),placeholder:"Password",onKeyup:C(c,["enter"]),max:100,min:5,required:""},null,8,["modelValue"])]),_:1}),o(e(w),{expand:"full",size:"large",style:{margin:"2rem 3.5rem","text-transform":"none"},onClick:D(c,["prevent"])},{default:a(()=>[i(" Login ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});const le=J(ee,[["__scopeId","data-v-374751c0"]]);export{le as default};
