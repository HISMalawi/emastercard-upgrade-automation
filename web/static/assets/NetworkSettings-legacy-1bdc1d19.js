System.register(["./index-legacy-c5b3ee2e.js","./loader-legacy-6ec05884.js","./SelectInput-legacy-e78e87d5.js","./TextInput-legacy-72a36b9a.js","./form-legacy-e4bdf62a.js","./validations-legacy-a487012a.js","./toasts-legacy-337d818a.js","./common-legacy-e8d6ba88.js","./Strs-legacy-b5721578.js"],function(e,l){"use strict";var a,t,o,s,i,n,r,u,d,c,f,g,p,m,_,y,v,b,h,k,w,S,V,j,P,A,I,$;return{setters:[e=>{a=e.d,t=e.o,o=e.k,s=e.w,i=e.e,n=e.u,r=e.p,u=e.I,d=e.b,c=e.n,f=e.ak,g=e.g,p=e.L,m=e.a,_=e.a3,y=e.m,v=e.v,b=e.V,h=e.G,k=e.H,w=e.l},e=>{S=e.l},e=>{V=e.S},e=>{j=e.T},e=>{P=e.i,A=e.r},e=>{I=e.i},e=>{$=e.t},null,null],execute:function(){const l=a({__name:"NetworkForm",emits:["submit"],setup(e,{emit:l}){const a=l,g=[{label:"HTTP",value:"http"},{label:"HTTPS",value:"https"}],p=f({protocol:{value:"",label:"Select Protocol",required:!0},ipAddress:{value:"",label:"IP Address",placeholder:"Enter IP Address e.g. 127.0.0.1",required:!0,validation:async e=>I(e)},port:{value:"",label:"Port",placeholder:"Enter Port e.g. 3000",required:!0}}),m=async()=>{await P(p)&&a("submit",A(p).formData)};return(e,l)=>(t(),o(n(c),null,{default:s(()=>[i(n(r),{size:"12",class:"ion-margin-vertical"},{default:s(()=>[i(V,{modelValue:p.protocol,"onUpdate:modelValue":l[0]||(l[0]=e=>p.protocol=e),options:g},null,8,["modelValue"])]),_:1}),i(n(r),{size:"12",class:"ion-margin-vertical"},{default:s(()=>[i(j,{modelValue:p.ipAddress,"onUpdate:modelValue":l[1]||(l[1]=e=>p.ipAddress=e)},null,8,["modelValue"])]),_:1}),i(n(r),{size:"12",class:"ion-margin-vertical"},{default:s(()=>[i(j,{modelValue:p.port,"onUpdate:modelValue":l[2]||(l[2]=e=>p.port=e)},null,8,["modelValue"])]),_:1}),i(n(r),{size:"12",class:"ion-margin-vertical"},{default:s(()=>[i(n(u),{class:"ion-margin-top ion-float-right",color:"success",onClick:m},{default:s(()=>[...l[4]||(l[4]=[d("Submit",-1)])]),_:1}),i(n(u),{class:"ion-margin-top ion-float-right",onClick:l[3]||(l[3]=l=>e.$router.back())},{default:s(()=>[...l[5]||(l[5]=[d("Back",-1)])]),_:1})]),_:1})]),_:1}))}}),z={class:"his-card"},H={class:"his-card"};e("default",a({__name:"NetworkSettings",setup(e){const a=g(),u=p.isLoggedIn(),f=async({protocol:e,ipAddress:l,port:t})=>{try{if(S.show(),p.setHost(`${e.value}://${l}:${t}`),!(await p.apiOk()))throw new Error(`Unable to connect to: ${e.value}://${l}:${t}`);const o=w();await o.loadCurrentFacility(!0),await o.loadFacilityCode(),await S.hide(),a.back()}catch(o){await S.hide(),console.error(o),$(`${o}`),localStorage.clear()}};return(e,a)=>n(u)?(t(),o(n(y),{key:0},{default:s(()=>[i(n(c),null,{default:s(()=>[i(n(r),{size:"10",offset:"1",class:"ion-padding"},{default:s(()=>[m("div",z,[i(n(_),{style:{"padding-left":"0"}},{default:s(()=>[...a[0]||(a[0]=[d("Network Settings / API Host configuration",-1)])]),_:1}),i(l,{onSubmit:f})])]),_:1})]),_:1})]),_:1})):(t(),o(n(k),{key:1},{default:s(()=>[i(n(b),null,{default:s(()=>[i(n(v),null,{default:s(()=>[i(n(_),null,{default:s(()=>[...a[1]||(a[1]=[d("Network Settings / API Host configuration",-1)])]),_:1})]),_:1})]),_:1}),i(n(h),null,{default:s(()=>[i(n(y),null,{default:s(()=>[i(n(c),null,{default:s(()=>[i(n(r),{size:"10",offset:"1",class:"ion-padding"},{default:s(()=>[m("div",H,[i(l,{onSubmit:f})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}))}}});
