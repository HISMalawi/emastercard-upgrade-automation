System.register(["./index-legacy-4899e382.js","./image-legacy-0037564c.js","./toasts-legacy-469ad8d1.js","./PasswordUpdate-legacy-8cff4533.js","./TextInput-legacy-7fd9a966.js","./his_date-legacy-e1b082b7.js","./validations-legacy-a487012a.js","./common-legacy-e8d6ba88.js","./form-legacy-2d469608.js","./Strs-legacy-b5721578.js","./loader-legacy-6d203f84.js"],function(a,e){"use strict";var t,l,o,n,d,i,s,r,c,u,f,g,m,v,p,h,b,x,y,w,_,k,C,E,z,P,j,A,I,F,R,M,S,V,L,T,D,K,O,U,q,B;return{setters:[a=>{t=a._,l=a.o,o=a.c,n=a.f,d=a.d,i=a.g,s=a.h,r=a.i,c=a.j,u=a.k,f=a.w,g=a.u,m=a.l,v=a.e,p=a.m,h=a.n,b=a.p,x=a.q,y=a.b,w=a.r,_=a.t,k=a.a,C=a.s,E=a.v,z=a.x,P=a.I,j=a.y,A=a.z,I=a.A,F=a.B,R=a.C,M=a.D,S=a.E,V=a.F,L=a.G,T=a.H,D=a.J,K=a.K,O=a.L},a=>{U=a.r},a=>{q=a.t},a=>{B=a.u},null,null,null,null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent=".helpdesk-flyer[data-v-a0d453f6]{background:white;text-align:center;border:2px solid #E53E3E;max-width:350px;margin:0 auto}.main-content[data-v-a0d453f6]{display:flex}.title-section[data-v-a0d453f6]{background:white;color:#2b6cb0;padding:10px;flex:1;border-bottom:1px solid #2B6CB0}.title[data-v-a0d453f6]{font-weight:700;font-size:1rem;margin-bottom:4px}.subtitle[data-v-a0d453f6]{color:#4a5568;font-size:.75rem}.contact-section[data-v-a0d453f6]{background:#3182CE;color:#fff;padding:10px;flex:1;display:flex;flex-direction:column;justify-content:center}.contact-label[data-v-a0d453f6]{font-size:.75rem;margin-bottom:5px}.toll-number[data-v-a0d453f6]{font-weight:700;font-size:2rem}.email-section[data-v-a0d453f6]{background:white;color:#2b6cb0;padding:8px;font-size:1rem;font-weight:700}.title[data-v-acc1b619]{text-align:center;font-size:68px;font-weight:700;margin:8vh 1px 0}.sub-title[data-v-acc1b619]{text-align:center!important;font-size:24px;margin-bottom:20px}.hero-image[data-v-acc1b619]{display:block;width:55%;margin:5px auto}.footer-section[data-v-acc1b619]{position:absolute;width:100%;bottom:0;left:0;padding-right:1rem;padding-left:1rem}.avatar[data-v-acc1b619]{font-size:8vw;margin:5vh 1px 0}.form-section[data-v-acc1b619]{background:#2839ad;color:#fff;text-align:center;height:100vh;padding:38px 18px}.brand-logo-pepfar[data-v-acc1b619]{width:80px}.brand-logo-moh[data-v-acc1b619]{width:90px}\n",document.head.appendChild(e);const G={class:"helpdesk-flyer"},H=t({},[["render",function(a,e){return l(),o("div",G,[...e[0]||(e[0]=[n('<div class="main-content" data-v-a0d453f6><div class="title-section" data-v-a0d453f6><div class="title" data-v-a0d453f6>ELECTRONIC MEDICAL RECORDS HELP DESK</div><div class="subtitle" data-v-a0d453f6>We are here to assist you!</div></div><div class="contact-section" data-v-a0d453f6><div class="contact-label" data-v-a0d453f6>Toll-Free call or SMS</div><div class="toll-number" data-v-a0d453f6>2479</div></div></div><div class="email-section" data-v-a0d453f6><div data-v-a0d453f6>ðŸ“§ emrhelpdesk@pedaids.org</div></div>',2)])])}],["__scopeId","data-v-a0d453f6"]]),N=["src"],J=["src"],W=["src"],Q={key:0};a("default",t(d({__name:"login",setup(a){const e=D(""),t=D(""),n=D(!1),d=i(),G=B(),{fullVersion:X}=K(),{facility:Y,loadFacilityCode:Z,loadCurrentFacility:$}=m(),{initiateIdleTimer:aa,stopIdleTimer:ea}=s(),ta=r(()=>d.currentRoute.value.redirectedFrom);c(()=>{ea(),$(!0)});const la=async()=>{try{if(!e.value||!t.value)return q("Invalid login details");const l=await O.login(e.value,t.value);var a;l.ok?(G.setCurrentPassword(t.value),await G.canChangePassword()&&await G.changePassword(),Z(),aa(),d.push(null!==(a=ta.value)&&void 0!==a?a:"/")):q(l.errorMessage)}catch(l){q("An error occurred while logging in"),console.error(l)}},oa=()=>{n.value=!n.value};return(a,d)=>(l(),u(g(T),null,{default:f(()=>[v(g(L),null,{default:f(()=>[v(g(p),{style:{margin:"0",padding:"0"}},{default:f(()=>[v(g(h),null,{default:f(()=>[v(g(b),{size:"8"},{default:f(()=>[v(g(x),{class:"title"},{default:f(()=>[...d[2]||(d[2]=[y("E-MASTERCARD APP",-1)])]),_:1}),v(g(w),{class:"sub-title"},{default:f(()=>[y(_(g(X)),1)]),_:1}),k("img",{src:g(U)("report.png"),class:"hero-image",alt:"LOGO"},null,8,N),v(g(C),{class:"footer-section"},{default:f(()=>[v(g(E),null,{default:f(()=>[k("span",null,[k("img",{id:"coat",src:g(U)("login-logos/Malawi-Coat_of_arms_of_arms.png"),alt:"Malawi Coat of Arms logo",class:"brand-logo-moh"},null,8,J),k("img",{id:"pepfar",src:g(U)("login-logos/PEPFAR.png"),alt:"PEPFAR logo",class:"brand-logo-pepfar"},null,8,W)]),v(g(z),{class:"his-sm-text",slot:"end",lines:"none"},{default:f(()=>[v(g(P),{color:"dark",fill:"outline",size:"large",slot:"end","router-link":"/settings/network"},{default:f(()=>[...d[3]||(d[3]=[y(" Network ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),v(g(b),{size:"4",class:"form-section"},{default:f(()=>[v(g(j),{icon:g(A),class:"avatar"},null,8,["icon"]),g(Y).name?(l(),o("h3",Q,_(g(Y).name)+" ("+_(g(Y).district)+")",1)):I("",!0),d[6]||(d[6]=k("h4",null,"Please, log into your account",-1)),v(g(z),{style:{margin:"2rem 3.5rem"}},{default:f(()=>[v(g(F),{type:"text",placeholder:"Username",modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=a=>e.value=a),onKeyup:R(la,["enter"]),min:5,required:""},null,8,["modelValue"])]),_:1}),v(g(z),{style:{margin:"2rem 3.5rem"}},{default:f(()=>[v(g(F),{type:n.value?"text":"password",modelValue:t.value,"onUpdate:modelValue":d[1]||(d[1]=a=>t.value=a),placeholder:"Password",onKeyup:R(la,["enter"]),max:100,min:5,required:""},{default:f(()=>[v(g(P),{slot:"end",fill:"clear",onClick:oa},{default:f(()=>[v(g(j),{icon:n.value?g(M):g(S)},null,8,["icon"])]),_:1})]),_:1},8,["type","modelValue"])]),_:1}),v(g(P),{expand:"full",size:"large",style:{margin:"2rem 3.5rem","text-transform":"none"},onClick:V(la,["prevent"])},{default:f(()=>[...d[4]||(d[4]=[y(" Login ",-1)])]),_:1}),v(g(P),{fill:"clear",size:"large",color:"light",class:"ion-text-lowercase",onClick:g(G).showForgetPasswordModal},{default:f(()=>[...d[5]||(d[5]=[y(" forget password? ",-1)])]),_:1},8,["onClick"]),v(H,{class:"ion-margin-top"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),[["__scopeId","data-v-acc1b619"]]))}}});
