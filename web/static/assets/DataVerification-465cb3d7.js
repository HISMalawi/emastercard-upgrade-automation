import{d as y,i as x,o as s,c as V,k as c,w as r,a as D,t as C,A as f,u as o,M as I,e as l,ao as _,az as w,b as u,aA as B,N,g as T,p as m,a3 as q,n as k,I as v,m as z,ak as E,aq as A}from"./index-6607fc60.js";import{s as S}from"./form-412b0939.js";import{D as $}from"./data_cleaning_report_service-9f3bd695.js";import{T as F}from"./TextInput-2621403f.js";import{_ as R}from"./DateInput.vue_vue_type_style_index_0_lang-082cb4c4.js";import{E as U,a as L}from"./emc_event-4721851b.js";import{a as O}from"./his_date-38f91592.js";import{t as j}from"./toasts-6936071a.js";import"./Strs-0c962638.js";import"./common-abc2f84d.js";import"./loader-bdf86e68.js";import"./report_service-5ffef6e3.js";import"./arrays-1b521787.js";import"./url-ffe761c9.js";import"./datatable-3f3ec33a.js";import"./validations-60812f1e.js";import"./vue-datepicker-01e9528a.js";const G={key:0,class:"text-danger"},K=y({__name:"TextAreaInput",props:{modelValue:{type:Object,default:()=>({})},maxLength:{type:Number,default:2e3},form:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(g,{emit:d}){const t=g,p=d,a=x({get:()=>t.modelValue,set:e=>p("update:modelValue",e)}),i=async()=>{if(a.value.required&&!a.value.value)return a.value.error="This field is required";if(a.value.validation){const e=await a.value.validation({label:a.value.value,value:a.value.value},t.form);if(e&&e.length)return a.value.error+=e.toString()}return a.value.error=""};return(e,n)=>(s(),V(N,null,[a.value.label?(s(),c(o(I),{key:0,class:"ion-padding-bottom bold"},{default:r(()=>[D("span",null,C(a.value.label),1),a.value.required?(s(),V("span",G," *")):f("",!0)]),_:1})):f("",!0),l(o(w),{class:_(["ion-no-margin ion-no-padding",a.value.error?"box-input-error":"box-input"]),modelValue:a.value.value,"onUpdate:modelValue":n[0]||(n[0]=b=>a.value.value=b),"auto-grow":"",placeholder:a.value.placeholder,disabled:a.value.disabled,onIonFocus:n[1]||(n[1]=b=>a.value.error=""),onIonBlur:i},null,8,["class","modelValue","placeholder","disabled"]),a.value.error?(s(),c(o(B),{key:1,color:"danger"},{default:r(()=>[u(C(a.value.error),1)]),_:1})):f("",!0)],64))}}),ie=y({__name:"DataVerification",setup(g){const d=T(),t=E({dataCleaningDatetime:{value:"",label:"Date of Cleaning",required:!0},supervisors:{value:"",label:"Verified By",required:!0},comments:{value:"",label:"Comments"}});function p(){return S(t,async i=>{(await new $().saveDataCleaningVerification(i)).ok?d.back():j("Failed to save cleaning verification data")},{showloader:!0,underscoreKeys:!0})}const a=async()=>{if(await A("Are you sure you want to clear all fields?")){for(const i in t)t[i].value="";U.emit(L.ON_CLEAR)}};return(i,e)=>(s(),c(o(z),{class:"ion-margin-vertical"},{default:r(()=>[l(o(k),null,{default:r(()=>[l(o(m),{class:"his-card ion-padding",size:"10",offset:"1"},{default:r(()=>[l(o(q),{class:"ion-text-center ion-margin-vertical ion-padding-bottom bold"},{default:r(()=>[...e[4]||(e[4]=[u(" Data Cleaning Verification ",-1)])]),_:1}),l(o(k),{class:"ion-margin-top ion-margin-bottom"},{default:r(()=>[l(o(m),{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:r(()=>[l(R,{modelValue:t.dataCleaningDatetime,"onUpdate:modelValue":e[0]||(e[0]=n=>t.dataCleaningDatetime=n),minDate:"1920-01-01",maxDate:o(O)},null,8,["modelValue","maxDate"])]),_:1}),l(o(m),{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:r(()=>[l(F,{modelValue:t.supervisors,"onUpdate:modelValue":e[1]||(e[1]=n=>t.supervisors=n),form:t},null,8,["modelValue","form"])]),_:1}),l(o(m),{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:r(()=>[l(K,{modelValue:t.comments,"onUpdate:modelValue":e[2]||(e[2]=n=>t.comments=n),form:t},null,8,["modelValue","form"])]),_:1})]),_:1}),l(o(v),{class:"ion-margin-top",onClick:p,color:"success"},{default:r(()=>[...e[5]||(e[5]=[u(" Submit ",-1)])]),_:1}),l(o(v),{class:"ion-margin-top",onClick:a,color:"warning"},{default:r(()=>[...e[6]||(e[6]=[u(" Clear ",-1)])]),_:1}),l(o(v),{class:"ion-margin-top",onClick:e[3]||(e[3]=n=>i.$router.back()),color:"light"},{default:r(()=>[...e[7]||(e[7]=[u(" Back ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{ie as default};
