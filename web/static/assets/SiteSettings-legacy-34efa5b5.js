System.register(["./index-legacy-084a8278.js","./TextInput-legacy-61891fbc.js","./SelectInput-legacy-c35392c7.js","./form-legacy-5a5cbfdd.js","./toasts-legacy-35f2c029.js","./location_options-legacy-661ff979.js","./_plugin-vue_export-helper-legacy-762b7923.js","./common-legacy-0d7df615.js","./Strs-legacy-09248991.js","./loader-legacy-1ef95e57.js"],(function(e,l){"use strict";var a,t,i,u,n,s,c,o,r,d,m,f,p,y,g,_,S,v,b,x,h;return{setters:[e=>{a=e.d,t=e.ac,i=e.a0,u=e.g,n=e.w,s=e.u,c=e.D,o=e.o,r=e.e,d=e.j,m=e.a,f=e.i,p=e.I,y=e.b,g=e.h},e=>{_=e.T},e=>{S=e.S},e=>{v=e.s},e=>{b=e.a,x=e.t},e=>{h=e.g},null,null,null,null],execute:function(){const l={class:"his-card"};e("default",a({__name:"SiteSettings",setup(e){const{facility:a,loadCurrentFacility:j,updateFacilityCode:U,updateFacilityUuid:V,updateFacilityName:z}=c(),w=t({name:{value:a.name,label:"Site Name",required:!0}}),C=t({prefix:{value:a.code,label:"Site Prefix",required:!0}}),I=t({uuid:{value:a.uuid,label:"Site UUID",required:!0}});i((()=>{j(!0).then((()=>{w.name.value=a.name,C.prefix.value=a.code,I.uuid.value=a.uuid}))}));const F=()=>v(w,(async({name:e})=>{try{await z(e.value),b("Site name updated successfully")}catch(l){x("Unable to update facility name"),console.error(l)}})),k=async()=>v(C,(async({prefix:e})=>{try{await U(e),b("Site Prefix updated successfully")}catch(l){console.error(l),x("Unable to update site prefix")}})),q=async()=>v(I,(async({uuid:e})=>{try{await V(e),await b("Site Prefix updated successfully")}catch(l){x("Unable to update site UUID"),console.error(l)}}));return(e,a)=>(o(),u(s(g),null,{default:n((()=>[r(s(f),null,{default:n((()=>[r(s(d),{size:"10",offset:"1",class:"ion-padding"},{default:n((()=>[m("div",l,[a[9]||(a[9]=m("h2",null,"Site Settings",-1)),r(s(f),null,{default:n((()=>[r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(S,{modelValue:w.name,"onUpdate:modelValue":a[0]||(a[0]=e=>w.name=e),asyncOptions:s(h)},null,8,["modelValue","asyncOptions"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[a[4]||(a[4]=m("br",null,null,-1)),r(s(p),{class:"ion-margin-top ion-float-right",onClick:F},{default:n((()=>a[3]||(a[3]=[y("Submit")]))),_:1})])),_:1}),r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(_,{modelValue:C.prefix,"onUpdate:modelValue":a[1]||(a[1]=e=>C.prefix=e)},null,8,["modelValue"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[a[6]||(a[6]=m("br",null,null,-1)),r(s(p),{class:"ion-margin-top ion-float-right",onClick:k},{default:n((()=>a[5]||(a[5]=[y("Submit")]))),_:1})])),_:1}),r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(_,{modelValue:I.uuid,"onUpdate:modelValue":a[2]||(a[2]=e=>I.uuid=e)},null,8,["modelValue"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[a[8]||(a[8]=m("br",null,null,-1)),r(s(p),{class:"ion-margin-top ion-float-right",onClick:q},{default:n((()=>a[7]||(a[7]=[y("Submit")]))),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1}))}}))}}}));
