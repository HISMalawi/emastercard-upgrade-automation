System.register(["./index-legacy-cff29faf.js","./TextInput-legacy-68e13bc8.js","./SelectInput-legacy-d100e4b2.js","./form-legacy-ee6de9c6.js","./toasts-legacy-afa94957.js","./location_options-legacy-904bbb47.js","./YesNoInput-legacy-5d39373b.js","./common-legacy-0d7df615.js","./Strs-legacy-eacc8505.js","./loader-legacy-f347fc88.js"],(function(e,a){"use strict";var l,i,t,u,n,s,d,o,c,r,m,p,f,y,g,v,S,j,V,I,h,x;return{setters:[e=>{l=e.d,i=e.h,t=e.i,u=e.j,n=e.w,s=e.u,d=e.k,o=e.o,c=e.e,r=e.n,m=e.a,p=e.I,f=e.b,y=e.m,g=e.l},e=>{v=e.T},e=>{S=e.S},e=>{j=e.s},e=>{V=e.a,I=e.t},e=>{h=e.g},e=>{x=e.Y},null,null,null],execute:function(){const a={class:"ion-margin-vertical"},C={class:"ion-margin-vertical"},U={class:"ion-margin-vertical"},_={class:"ion-margin-vertical ion-padding-top"};e("default",l({__name:"SiteSettings",setup(e){const l=d(),b=i((()=>({name:{value:l.facility.name,label:"Site Name",required:!0},prefix:{value:l.facility.code,label:"Site Prefix",required:!0},uuid:{value:l.facility.uuid,label:"Site UUID",required:!0},dicSite:{value:l.isDICSite.value,label:"Is the facility a Drop-In Center for Key Populations",required:!0}})));function D(){return j(b.value,(async e=>{try{e.name!==l.facility.name&&await l.updateFacilityName(e.name.value),e.prefix!==l.facility.code&&await l.updateFacilityCode(e.prefix),e.uuid!==l.facility.uuid&&await l.updateFacilityUuid(e.uuid),e.dicSite!==l.isDICSite.value&&await l.updateDICStatus(e.dicSite),V("Site settings updated successfully")}catch(a){I("Unable to update site settings"),console.error(a)}}))}return t((()=>{l.loadCurrentFacility(!0),l.refreshDICStatus()})),(e,l)=>(o(),u(s(g),null,{default:n((()=>[c(s(y),null,{default:n((()=>[c(s(r),{size:"8",offset:"2",class:"his-card ion-padding ion-margin-top"},{default:n((()=>[l[5]||(l[5]=m("h2",null,"Site Settings",-1)),m("div",a,[c(S,{modelValue:b.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value.name=e),asyncOptions:s(h)},null,8,["modelValue","asyncOptions"])]),m("div",C,[c(v,{modelValue:b.value.prefix,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value.prefix=e)},null,8,["modelValue"])]),m("div",U,[c(v,{modelValue:b.value.uuid,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value.uuid=e)},null,8,["modelValue"])]),m("div",_,[c(x,{modelValue:b.value.dicSite,"onUpdate:modelValue":l[3]||(l[3]=e=>b.value.dicSite=e),inline:""},null,8,["modelValue"])]),c(s(p),{class:"ion-margin-top ion-float-right",onClick:D},{default:n((()=>l[4]||(l[4]=[f("Save Changes")]))),_:1})])),_:1})])),_:1})])),_:1}))}}))}}}));
