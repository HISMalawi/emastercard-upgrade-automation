System.register(["./loader-legacy-0c2d8630.js","./ReportTable.vue_vue_type_style_index_0_lang-legacy-57e2aac3.js","./toasts-legacy-37d9fa20.js","./patient_identifier_service-legacy-9ce364f9.js","./Strs-legacy-b5721578.js","./his_date-legacy-536d995b.js","./DrilldownTable-legacy-cea9530a.js","./index-legacy-6e0b53b7.js","./VoidReason-legacy-2db0cce6.js","./exports-legacy-a1d0418b.js","./index-legacy-b04b5597.js","./vue-datepicker-legacy-d058c146.js","./common-legacy-e8d6ba88.js","./arrays-legacy-86abe4a8.js","./datatable-legacy-af1e89d6.js"],function(e,t){"use strict";var a,l,i,r,n,o,s,d,c,u,f,y,p,m,g,v;return{setters:[e=>{a=e.l},e=>{l=e._},e=>{i=e.t},e=>{r=e.P},e=>{n=e.t},e=>{o=e.t},e=>{s=e.D},e=>{d=e.d,c=e.i,u=e.j,f=e.k,y=e.J,p=e.am,m=e.an,g=e.o},e=>{v=e.p},null,null,null,null,null,null],execute:function(){e("default",d({__name:"MultipleIdentifiers",setup(e){const t=y([]),d=y(),h=new r,_=y([]),b=[{path:"given_name",label:"First Name"},{path:"family_name",label:"Last Name"},{path:"gender",label:"Gender",formatter:n},{path:"birthdate",label:"Date of Birth",formatter:o},{path:"latest_identifier",label:"Latest Identifier"},{path:"identifiers",label:"Number of Identifiers",drillable:!0}],j=[{path:"identifier",label:"Identifier"},{path:"date_created",label:"Date created",formatter:o}],w=c(()=>[{id:"identifier",label:"Select Identifier type",type:"select",gridSize:5,options:_.value}]);async function I(e){return p.show(s,{title:`Identifiers belonging to client: ${e.row.given_name} ${e.row.family_name}`,columns:j,rows:e.row.identifiers,rowActionButtons:[{label:"void",color:"danger",icon:m,action:e=>v(async t=>{try{var a;await h.voidMultipleIdentifiers([e.identifier],t,Number(null===(a=d.value)||void 0===a?void 0:a.value)),p.hide()}catch(l){i("Failed to void identifier"),console.error(l)}},"void-modal custom-modal-backdrop")}]})}async function x({identifier:e}){try{var l;a.show(),d.value=e,t.value=null!==(l=await h.getMultipleIdentifiers(e.value))&&void 0!==l?l:[]}catch(r){i("Failed to load report data"),console.error(r)}finally{a.hide()}}return u(async()=>{try{const e=await h.getIdentifierTypes();_.value=e.map(e=>({label:e.name,value:e.patient_identifier_type_id,other:e}))}catch(e){console.error(e),i("Failed to load identifier types")}}),(e,a)=>(g(),f(l,{title:"Multiple Identifiers",columns:b,rows:t.value,"custom-filters":w.value,"custom-drill-handler":I,onGenerate:x},null,8,["rows","custom-filters"]))}}))}}});
