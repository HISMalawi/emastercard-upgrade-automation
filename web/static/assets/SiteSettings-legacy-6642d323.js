System.register(["./index-legacy-6e8cabae.js","./TextInput-legacy-b604f3f1.js","./SelectInput-legacy-bf74a18b.js","./form-legacy-5547631a.js","./toasts-legacy-68a34a42.js","./location_options-legacy-2ada475e.js","./Strs-legacy-09248991.js","./loader-legacy-fc6eecd3.js"],(function(e,a){"use strict";var l,t,i,u,n,s,c,o,r,d,f,m,p,y,g,S,_,v,b,x,U;return{setters:[e=>{l=e.d,t=e.ae,i=e.a2,u=e.h,n=e.w,s=e.u,c=e.E,o=e.o,r=e.e,d=e.k,f=e.a,m=e.j,p=e.I,y=e.b,g=e.i},e=>{S=e.T},e=>{_=e.S},e=>{v=e.s},e=>{b=e.a,x=e.t},e=>{U=e.g},null,null],execute:function(){const a={class:"his-card"};e("default",l({__name:"SiteSettings",setup(e){const{facility:l,loadCurrentFacility:h,updateFacilityCode:j,updateFacilityUuid:V,updateFacilityName:z}=c(),w=t({name:{value:l.name,label:"Site Name",required:!0}}),C=t({prefix:{value:l.code,label:"Site Prefix",required:!0}}),I=t({uuid:{value:l.uuid,label:"Site UUID",required:!0}});i((()=>{h(!0).then((()=>{w.name.value=l.name,C.prefix.value=l.code,I.uuid.value=l.uuid}))}));const k=()=>v(w,(async({name:e})=>{try{await z(e.value),b("Site name updated successfully")}catch(a){x("Unable to update facility name"),console.error(a)}})),F=async()=>v(C,(async({prefix:e})=>{try{await j(e),b("Site Prefix updated successfully")}catch(a){console.error(a),x("Unable to update site prefix")}})),q=async()=>v(I,(async({uuid:e})=>{try{await V(e),await b("Site Prefix updated successfully")}catch(a){x("Unable to update site UUID"),console.error(a)}}));return(e,l)=>(o(),u(s(g),null,{default:n((()=>[r(s(m),null,{default:n((()=>[r(s(d),{size:"10",offset:"1",class:"ion-padding"},{default:n((()=>[f("div",a,[l[9]||(l[9]=f("h2",null,"Site Settings",-1)),r(s(m),null,{default:n((()=>[r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(_,{modelValue:w.name,"onUpdate:modelValue":l[0]||(l[0]=e=>w.name=e),asyncOptions:s(U)},null,8,["modelValue","asyncOptions"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[l[4]||(l[4]=f("br",null,null,-1)),r(s(p),{class:"ion-margin-top ion-float-right",onClick:k},{default:n((()=>l[3]||(l[3]=[y("Submit")]))),_:1})])),_:1}),r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(S,{modelValue:C.prefix,"onUpdate:modelValue":l[1]||(l[1]=e=>C.prefix=e)},null,8,["modelValue"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[l[6]||(l[6]=f("br",null,null,-1)),r(s(p),{class:"ion-margin-top ion-float-right",onClick:F},{default:n((()=>l[5]||(l[5]=[y("Submit")]))),_:1})])),_:1}),r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(S,{modelValue:I.uuid,"onUpdate:modelValue":l[2]||(l[2]=e=>I.uuid=e)},null,8,["modelValue"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[l[8]||(l[8]=f("br",null,null,-1)),r(s(p),{class:"ion-margin-top ion-float-right",onClick:q},{default:n((()=>l[7]||(l[7]=[y("Submit")]))),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1}))}}))}}}));
