System.register(["./index-legacy-5fd00317.js","./TextInput-legacy-8725a274.js","./SelectInput-legacy-239ac137.js","./form-legacy-14cfe3a7.js","./toasts-legacy-8814bb27.js","./location_options-legacy-82bffb9f.js","./_plugin-vue_export-helper-legacy-762b7923.js","./common-legacy-42ce034b.js","./Strs-legacy-09248991.js","./his_date-legacy-f511c580.js","./Date-legacy-074e72e8.js","./loader-legacy-26a3e1a4.js"],(function(e,l){"use strict";var a,t,i,u,n,s,c,o,r,d,f,m,y,p,g,_,S,v,b,x,h;return{setters:[e=>{a=e.d,t=e.a8,i=e.T,u=e.h,n=e.w,s=e.u,c=e.O,o=e.o,r=e.a,d=e.$,f=e.f,m=e._,y=e.I,p=e.b,g=e.a7},e=>{_=e.T},e=>{S=e.S},e=>{v=e.s},e=>{b=e.a,x=e.t},e=>{h=e.g},null,null,null,null,null,null],execute:function(){const l={class:"his-card"},j=f("h2",null,"Site Settings",-1),U=f("br",null,null,-1),V=f("br",null,null,-1),z=f("br",null,null,-1);e("default",a({__name:"SiteSettings",setup(e){const{facility:a,loadCurrentFacility:w,updateFacilityCode:C,updateFacilityUuid:I,updateFacilityName:F}=c(),k=t({name:{value:a.name,label:"Site Name",required:!0}}),q=t({prefix:{value:a.code,label:"Site Prefix",required:!0}}),D=t({uuid:{value:a.uuid,label:"Site UUID",required:!0}});i((()=>{w(!0).then((()=>{k.name.value=a.name,q.prefix.value=a.code,D.uuid.value=a.uuid}))}));const O=()=>v(k,(async({name:e})=>{try{await F(e.value),b("Site name updated successfully")}catch(l){x("Unable to update facility name"),console.error(l)}})),P=async()=>v(q,(async({prefix:e})=>{try{await C(e),b("Site Prefix updated successfully")}catch(l){console.error(l),x("Unable to update site prefix")}})),T=async()=>v(D,(async({uuid:e})=>{try{await I(e),await b("Site Prefix updated successfully")}catch(l){x("Unable to update site UUID"),console.error(l)}}));return(e,a)=>(o(),u(s(g),null,{default:n((()=>[r(s(m),null,{default:n((()=>[r(s(d),{size:"10",offset:"1",class:"ion-padding"},{default:n((()=>[f("div",l,[j,r(s(m),null,{default:n((()=>[r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(S,{modelValue:k.name,"onUpdate:modelValue":a[0]||(a[0]=e=>k.name=e),asyncOptions:s(h)},null,8,["modelValue","asyncOptions"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[U,r(s(y),{class:"ion-margin-top ion-float-right",onClick:O},{default:n((()=>[p("Submit")])),_:1})])),_:1}),r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(_,{modelValue:q.prefix,"onUpdate:modelValue":a[1]||(a[1]=e=>q.prefix=e)},null,8,["modelValue"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[V,r(s(y),{class:"ion-margin-top ion-float-right",onClick:P},{default:n((()=>[p("Submit")])),_:1})])),_:1}),r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(_,{modelValue:D.uuid,"onUpdate:modelValue":a[2]||(a[2]=e=>D.uuid=e)},null,8,["modelValue"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[z,r(s(y),{class:"ion-margin-top ion-float-right",onClick:T},{default:n((()=>[p("Submit")])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1}))}}))}}}));
