System.register(["./Strs-legacy-b5721578.js","./common-legacy-e8d6ba88.js","./toasts-legacy-31001e0a.js","./loader-legacy-97edeb24.js"],function(e,t){"use strict";var o,r,a,n;return{setters:[e=>{o=e.a},e=>{r=e.i},e=>{a=e.t},e=>{n=e.l}],execute:function(){async function t(e){for(const t in e){const{required:o,value:a,validation:n}=e[t];if(o&&r(a))e[t].error="This field is required";else if("function"==typeof n){const o="object"==typeof a?a:{label:a,value:a},i=await n(o,e);e[t].error=r(i)?"":i.join()}else e[t].error=""}return Object.values(e).every(({error:e})=>!e)}function i(e,t=!1){const r={},a={};for(const n in e){const{value:i,computedValue:s}=e[n];if(i){const c=t?o(n):n;r[c]=i,"function"==typeof s&&(a[c]=s(e[n].value,e))}}return{formData:r,computedFormData:a}}e({a:function(e,t=""){const o=Object.values(e).filter(e=>e&&(e.tag===t||""===t)).reduce((e,t)=>{const o=t.obs?t.obs:t;return Array.isArray(o)?e=e.concat(o):e.push(o),e},[]);return Promise.all(o)},i:t,r:i,s:async function(e,o,r){var s,c;const l=null!==(s=null==r?void 0:r.skipValidation)&&void 0!==s&&s,u=null===(c=null==r?void 0:r.showloader)||void 0===c||c;if(l||await t(e))try{u&&await n.show();const{formData:t,computedFormData:a}=i(e,null==r?void 0:r.underscoreKeys);await o(t,a)}catch(f){a(`${f}`),console.error("WELL HERE IS THE FAILURE",f)}finally{u&&await n.hide()}}})}}});
