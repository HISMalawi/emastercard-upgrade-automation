import{d as C,a8 as m,T as w,h as z,w as t,u as a,O as N,o as k,a as e,$ as l,f as r,_ as S,I as p,b as f,a7 as B}from"./index-1c16650e.js";import{T as v}from"./TextInput-9a09c3ed.js";import{S as P}from"./SelectInput-61d8e31d.js";import{s as _}from"./form-c5c112ea.js";import{a as y,t as g}from"./toasts-926a2fd9.js";import{g as T}from"./location_options-3cab4a71.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./common-94ac9539.js";import"./Strs-7ee8a435.js";import"./his_date-3ca53c6f.js";import"./Date-c63183ce.js";import"./loader-1441845f.js";const q={class:"his-card"},D=r("h2",null,"Site Settings",-1),O=r("br",null,null,-1),G=r("br",null,null,-1),M=r("br",null,null,-1),Z=C({__name:"SiteSettings",setup(R){const{facility:o,loadCurrentFacility:x,updateFacilityCode:b,updateFacilityUuid:U,updateFacilityName:V}=N(),u=m({name:{value:o.name,label:"Site Name",required:!0}}),d=m({prefix:{value:o.code,label:"Site Prefix",required:!0}}),c=m({uuid:{value:o.uuid,label:"Site UUID",required:!0}});w(()=>{x(!0).then(()=>{u.name.value=o.name,d.prefix.value=o.code,c.uuid.value=o.uuid})});const h=()=>_(u,async({name:s})=>{try{await V(s.value),y("Site name updated successfully")}catch(i){g("Unable to update facility name"),console.error(i)}}),F=async()=>_(d,async({prefix:s})=>{try{await b(s),y("Site Prefix updated successfully")}catch(i){console.error(i),g("Unable to update site prefix")}}),I=async()=>_(c,async({uuid:s})=>{try{await U(s),await y("Site Prefix updated successfully")}catch(i){g("Unable to update site UUID"),console.error(i)}});return(s,i)=>(k(),z(a(B),null,{default:t(()=>[e(a(S),null,{default:t(()=>[e(a(l),{size:"10",offset:"1",class:"ion-padding"},{default:t(()=>[r("div",q,[D,e(a(S),null,{default:t(()=>[e(a(l),{size:"11",class:"ion-margin-vertical"},{default:t(()=>[e(P,{modelValue:u.name,"onUpdate:modelValue":i[0]||(i[0]=n=>u.name=n),asyncOptions:a(T)},null,8,["modelValue","asyncOptions"])]),_:1}),e(a(l),{size:"1",class:"ion-margin-vertical"},{default:t(()=>[O,e(a(p),{class:"ion-margin-top ion-float-right",onClick:h},{default:t(()=>[f("Submit")]),_:1})]),_:1}),e(a(l),{size:"11",class:"ion-margin-vertical"},{default:t(()=>[e(v,{modelValue:d.prefix,"onUpdate:modelValue":i[1]||(i[1]=n=>d.prefix=n)},null,8,["modelValue"])]),_:1}),e(a(l),{size:"1",class:"ion-margin-vertical"},{default:t(()=>[G,e(a(p),{class:"ion-margin-top ion-float-right",onClick:F},{default:t(()=>[f("Submit")]),_:1})]),_:1}),e(a(l),{size:"11",class:"ion-margin-vertical"},{default:t(()=>[e(v,{modelValue:c.uuid,"onUpdate:modelValue":i[2]||(i[2]=n=>c.uuid=n)},null,8,["modelValue"])]),_:1}),e(a(l),{size:"1",class:"ion-margin-vertical"},{default:t(()=>[M,e(a(p),{class:"ion-margin-top ion-float-right",onClick:I},{default:t(()=>[f("Submit")]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}))}});export{Z as default};
