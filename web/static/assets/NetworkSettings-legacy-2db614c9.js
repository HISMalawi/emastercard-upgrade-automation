System.register(["./index-legacy-a3ed4133.js","./loader-legacy-805839f7.js","./SelectInput-legacy-99fb41c2.js","./TextInput-legacy-975c25ba.js","./form-legacy-dec90092.js","./validations-legacy-0fc7cb15.js","./toasts-legacy-14f1e720.js","./common-legacy-0d7df615.js","./Strs-legacy-eacc8505.js"],(function(e,l){"use strict";var a,t,o,s,i,n,r,u,d,c,f,m,g,p,_,y,v,b,h,w,S,k,j,P,V,A,I,$;return{setters:[e=>{a=e.d,t=e.ah,o=e.o,s=e.j,i=e.w,n=e.e,r=e.u,u=e.n,d=e.I,c=e.b,f=e.m,m=e.f,g=e.H,p=e.a,_=e.a0,y=e.l,v=e.v,b=e.S,h=e.E,w=e.F,S=e.k},e=>{k=e.l},e=>{j=e.S},e=>{P=e.T},e=>{V=e.i,A=e.r},e=>{I=e.i},e=>{$=e.t},null,null],execute:function(){const l=a({__name:"NetworkForm",emits:["submit"],setup(e,{emit:l}){const a=l,m=[{label:"HTTP",value:"http"},{label:"HTTPS",value:"https"}],g=t({protocol:{value:"",label:"Select Protocol",required:!0},ipAddress:{value:"",label:"IP Address",placeholder:"Enter IP Address e.g. 127.0.0.1",required:!0,validation:async e=>I(e)},port:{value:"",label:"Port",placeholder:"Enter Port e.g. 3000",required:!0}}),p=async()=>{await V(g)&&a("submit",A(g).formData)};return(e,l)=>(o(),s(r(f),null,{default:i((()=>[n(r(u),{size:"12",class:"ion-margin-vertical"},{default:i((()=>[n(j,{modelValue:g.protocol,"onUpdate:modelValue":l[0]||(l[0]=e=>g.protocol=e),options:m},null,8,["modelValue"])])),_:1}),n(r(u),{size:"12",class:"ion-margin-vertical"},{default:i((()=>[n(P,{modelValue:g.ipAddress,"onUpdate:modelValue":l[1]||(l[1]=e=>g.ipAddress=e)},null,8,["modelValue"])])),_:1}),n(r(u),{size:"12",class:"ion-margin-vertical"},{default:i((()=>[n(P,{modelValue:g.port,"onUpdate:modelValue":l[2]||(l[2]=e=>g.port=e)},null,8,["modelValue"])])),_:1}),n(r(u),{size:"12",class:"ion-margin-vertical"},{default:i((()=>[n(r(d),{class:"ion-margin-top ion-float-right",color:"success",onClick:p},{default:i((()=>l[4]||(l[4]=[c("Submit")]))),_:1}),n(r(d),{class:"ion-margin-top ion-float-right",onClick:l[3]||(l[3]=l=>e.$router.back())},{default:i((()=>l[5]||(l[5]=[c("Back")]))),_:1})])),_:1})])),_:1}))}}),z={class:"his-card"},H={class:"his-card"};e("default",a({__name:"NetworkSettings",setup(e){const a=m(),t=g.isLoggedIn(),d=async({protocol:e,ipAddress:l,port:t})=>{try{if(k.show(),g.setHost(`${e.value}://${l}:${t}`),!(await g.apiOk()))throw new Error(`Unable to connect to: ${e.value}://${l}:${t}`);const o=S();await o.loadCurrentFacility(!0),await o.loadFacilityCode(),await k.hide(),a.back()}catch(o){await k.hide(),console.error(o),$(`${o}`),localStorage.clear()}};return(e,a)=>r(t)?(o(),s(r(y),{key:0},{default:i((()=>[n(r(f),null,{default:i((()=>[n(r(u),{size:"10",offset:"1",class:"ion-padding"},{default:i((()=>[p("div",z,[n(r(_),{style:{"padding-left":"0"}},{default:i((()=>a[0]||(a[0]=[c("Network Settings / API Host configuration")]))),_:1}),n(l,{onSubmit:d})])])),_:1})])),_:1})])),_:1})):(o(),s(r(w),{key:1},{default:i((()=>[n(r(b),null,{default:i((()=>[n(r(v),null,{default:i((()=>[n(r(_),null,{default:i((()=>a[1]||(a[1]=[c("Network Settings / API Host configuration")]))),_:1})])),_:1})])),_:1}),n(r(h),null,{default:i((()=>[n(r(y),null,{default:i((()=>[n(r(f),null,{default:i((()=>[n(r(u),{size:"10",offset:"1",class:"ion-padding"},{default:i((()=>[p("div",H,[n(l,{onSubmit:d})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}))}}))}}}));
