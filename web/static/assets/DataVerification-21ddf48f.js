import{d as y,a7 as k,_ as w,$ as Y,I,N as R,S as B,J as S,a8 as $,ac as E,r as i,h as N,w as n,o as f,a as e,b as u,c as F,F as q,j as z}from"./index-1c16650e.js";import{d as T,H}from"./his_date-3ca53c6f.js";import{r as g}from"./validations-11aef89d.js";import{i as U,r as j}from"./form-c5c112ea.js";import{l as _}from"./loader-1441845f.js";import{D as A}from"./data_cleaning_report_service-5ed98662.js";import{T as M}from"./TextInput-9a09c3ed.js";import{Y as G}from"./YesNoInput-6d682510.js";import{E as J,a as L}from"./emc_event-4721851b.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./common-94ac9539.js";import"./Strs-7ee8a435.js";import"./Date-c63183ce.js";import"./toasts-926a2fd9.js";import"./report_service-1011140c.js";import"./index-95d3a767.js";import"./arrays-7f14d286.js";import"./url-ffe761c9.js";const h=y({components:{IonGrid:k,IonRow:w,IonCol:Y,IonButton:I,IonTitle:R,YesNoInput:G,TextInput:M},setup(){const o=B([]),a=S(),d=T().format("YYYY-MM-DD"),l=$({cleaningDone:{value:"",label:"Cleaning Done",required:!0},date:{value:"",label:"Date of Cleaning",validation:async(t,r)=>r.cleaningDone.value==="Yes"&&g(t)?null:["Value is required"]},provider:{value:"",label:"Verified By",validation:async(t,r)=>r.cleaningDone.value==="Yes"&&g(t)?null:["Value is required"]}});return{form:l,today:d,onSubmit:async()=>{if(!await U(l))return;_.show();const t=j(l).formData,r=await new A().saveDataCleaningVerification({data_cleaning_datetime:t.date,supervisors:[t.provider]});_.hide(),r&&a.back()},onClear:async()=>{if(await E("Are you sure you want to clear all fields?")){for(const t in l)l[t].value="";J.emit(L.ON_CLEAR)}},HisDate:H,dateRange:o}}});function K(o,a,d,l,v,C){const t=i("ion-title"),r=i("yes-no-input"),m=i("ion-col"),V=i("vue-date-picker"),D=i("text-input"),p=i("ion-row"),c=i("ion-button"),b=i("ion-grid");return f(),N(b,{class:"ion-margin-vertical"},{default:n(()=>[e(p,null,{default:n(()=>[e(m,{class:"his-card ion-padding",size:"10",offset:"1"},{default:n(()=>[e(t,{class:"ion-text-center ion-margin-vertical ion-padding-bottom bold"},{default:n(()=>[u(" Data Cleaning Verification ")]),_:1}),e(p,{class:"ion-margin-top ion-margin-bottom"},{default:n(()=>[e(m,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:n(()=>[e(r,{modelValue:o.form.cleaningDone,"onUpdate:modelValue":a[0]||(a[0]=s=>o.form.cleaningDone=s),inline:""},null,8,["modelValue"])]),_:1}),o.form.cleaningDone.value==="Yes"?(f(),F(q,{key:0},[e(m,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:n(()=>[e(V,{modelValue:o.dateRange,"onUpdate:modelValue":a[1]||(a[1]=s=>o.dateRange=s),placeholder:"Select date range",format:o.HisDate.toDisplayRangeFmt,"multi-calendars":"","auto-apply":"","text-input":"",range:""},null,8,["modelValue","format"])]),_:1}),e(m,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:n(()=>[e(D,{modelValue:o.form.provider,"onUpdate:modelValue":a[2]||(a[2]=s=>o.form.provider=s),form:o.form},null,8,["modelValue","form"])]),_:1})],64)):z("",!0)]),_:1}),e(c,{class:"ion-margin-top",onClick:o.onSubmit,color:"success"},{default:n(()=>[u("Submit")]),_:1},8,["onClick"]),e(c,{class:"ion-margin-top",onClick:o.onClear,color:"warning"},{default:n(()=>[u("Clear")]),_:1},8,["onClick"]),e(c,{class:"ion-margin-top",onClick:a[3]||(a[3]=s=>o.$router.back()),color:"light"},{default:n(()=>[u("Back")]),_:1})]),_:1})]),_:1})]),_:1})}const po=O(h,[["render",K]]);export{po as default};
