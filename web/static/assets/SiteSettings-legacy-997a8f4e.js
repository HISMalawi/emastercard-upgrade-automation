System.register(["./index-legacy-2d6958b4.js","./TextInput-legacy-77d3c90b.js","./SelectInput-legacy-23442b79.js","./form-legacy-e9cfa28a.js","./toasts-legacy-ce48abc6.js","./location_options-legacy-0f4810a9.js","./common-legacy-0d7df615.js","./Strs-legacy-09248991.js","./loader-legacy-61800ad3.js"],(function(e,a){"use strict";var l,t,i,u,n,s,c,o,r,d,m,f,y,p,g,S,_,v,b,x,h;return{setters:[e=>{l=e.d,t=e.ah,i=e.i,u=e.j,n=e.w,s=e.u,c=e.G,o=e.o,r=e.e,d=e.m,m=e.a,f=e.l,y=e.I,p=e.b,g=e.k},e=>{S=e.T},e=>{_=e.S},e=>{v=e.s},e=>{b=e.a,x=e.t},e=>{h=e.g},null,null,null],execute:function(){const a={class:"his-card"};e("default",l({__name:"SiteSettings",setup(e){const{facility:l,loadCurrentFacility:U,updateFacilityCode:j,updateFacilityUuid:V,updateFacilityName:z}=c(),w=t({name:{value:l.name,label:"Site Name",required:!0}}),C=t({prefix:{value:l.code,label:"Site Prefix",required:!0}}),I=t({uuid:{value:l.uuid,label:"Site UUID",required:!0}});i((()=>{U(!0).then((()=>{w.name.value=l.name,C.prefix.value=l.code,I.uuid.value=l.uuid}))}));const k=()=>v(w,(async({name:e})=>{try{await z(e.value),b("Site name updated successfully")}catch(a){x("Unable to update facility name"),console.error(a)}})),F=async()=>v(C,(async({prefix:e})=>{try{await j(e),b("Site Prefix updated successfully")}catch(a){console.error(a),x("Unable to update site prefix")}})),q=async()=>v(I,(async({uuid:e})=>{try{await V(e),await b("Site Prefix updated successfully")}catch(a){x("Unable to update site UUID"),console.error(a)}}));return(e,l)=>(o(),u(s(g),null,{default:n((()=>[r(s(f),null,{default:n((()=>[r(s(d),{size:"10",offset:"1",class:"ion-padding"},{default:n((()=>[m("div",a,[l[9]||(l[9]=m("h2",null,"Site Settings",-1)),r(s(f),null,{default:n((()=>[r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(_,{modelValue:w.name,"onUpdate:modelValue":l[0]||(l[0]=e=>w.name=e),asyncOptions:s(h)},null,8,["modelValue","asyncOptions"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[l[4]||(l[4]=m("br",null,null,-1)),r(s(y),{class:"ion-margin-top ion-float-right",onClick:k},{default:n((()=>l[3]||(l[3]=[p("Submit")]))),_:1})])),_:1}),r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(S,{modelValue:C.prefix,"onUpdate:modelValue":l[1]||(l[1]=e=>C.prefix=e)},null,8,["modelValue"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[l[6]||(l[6]=m("br",null,null,-1)),r(s(y),{class:"ion-margin-top ion-float-right",onClick:F},{default:n((()=>l[5]||(l[5]=[p("Submit")]))),_:1})])),_:1}),r(s(d),{size:"11",class:"ion-margin-vertical"},{default:n((()=>[r(S,{modelValue:I.uuid,"onUpdate:modelValue":l[2]||(l[2]=e=>I.uuid=e)},null,8,["modelValue"])])),_:1}),r(s(d),{size:"1",class:"ion-margin-vertical"},{default:n((()=>[l[8]||(l[8]=m("br",null,null,-1)),r(s(y),{class:"ion-margin-top ion-float-right",onClick:q},{default:n((()=>l[7]||(l[7]=[p("Submit")]))),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1}))}}))}}}));
