System.register(["./loader-legacy-1ef95e57.js","./index-legacy-084a8278.js","./ReportTable.vue_vue_type_style_index_0_lang-legacy-68c74ebf.js","./data_cleaning_report_service-legacy-3d3af18c.js","./Strs-legacy-09248991.js","./common-legacy-0d7df615.js","./his_date-legacy-31ba5787.js","./_plugin-vue_export-helper-legacy-762b7923.js","./exports-legacy-ab860f03.js","./index-legacy-a5979f3c.js","./vue-datepicker-legacy-828e9dbd.js","./toasts-legacy-35f2c029.js","./DrilldownTable-legacy-e4e75503.js","./arrays-legacy-e3b1d86b.js","./report_service-legacy-e5f1ad0c.js","./index-legacy-aa705205.js","./url-legacy-2d97b2db.js"],(function(e,t){"use strict";var l,a,r,i,s,n,o,c,u,d,p,g,m,v,_,w;return{setters:[e=>{l=e.l},e=>{a=e.d,r=e.r,i=e.ac,s=e.F,n=e.ad,o=e.J,c=e.g,u=e.o},e=>{d=e._},e=>{p=e.C,g=e.D},e=>{m=e.t},e=>{v=e.p},e=>{_=e.t},e=>{w=e._},null,null,null,null,null,null,null,null,null],execute:function(){const t=a({name:"DataCleaning",components:{BaseReportTable:d},setup(){const e=r([]),t=i({}),a=s((()=>`Data Cleaning Tools ${(null==t?void 0:t.value)||""}`)),o=r("-"),c={path:"visit_date",label:"Visit Date",formatter:e=>{const t=e.split(",");return t.length>1?`${t.length} visits dates`:_(e)},drillable:e=>/visits/i.test(e)},u=[{path:"arv_number",label:"ARV Number",preSort:v,initialSort:!0},{path:"given_name",label:"First Name"},{path:"family_name",label:"Last Name"}],d=s((()=>[...u,{path:"gender",label:"Gender",formatter:m},{path:"birthdate",label:"Date of Birth",formatter:_},...t.value===p.MalesWithFemaleObs?[c]:[]])),w=[...u,{path:"visit_date",label:"Visit Date",formatter:_}],y=[{label:"Show",action:e=>{n.push(`/patient/${e.patient_id}`)}}],b=s((()=>[{id:"tool",label:"Select Cleaning Tool",type:"select",value:t,gridSize:5,options:Object.values(p).map((e=>({label:e.toLowerCase(),value:e})))}]));return{period:o,title:a,rows:e,columns:d,rowActionBtns:y,filters:b,drillColumns:w,fetchData:async a=>{var r;await l.show();const i=new g;i.setStartDate(a.dateRange.startDate),i.setEndDate(a.dateRange.endDate),Object.assign(t,a.tool),o.value=i.getDateIntervalPeriod(),e.value=null!==(r=await i.getCleaningToolReport(t.value))&&void 0!==r?r:[],await l.hide()},getDrilldownTitle:e=>e.column.path,onDrillRowParser:async e=>e.row.visit_date.split(",").map((t=>({...e.row,person_id:e.row.patient_id,visit_date:t})))}}});e("default",w(t,[["render",function(e,t,l,a,r,i){const s=o("base-report-table");return u(),c(s,{title:e.title,"report-icon":"clean.jpg",period:e.period,columns:e.columns,rows:e.rows,rowActionButtons:e.rowActionBtns,"custom-filters":e.filters,useDateRangeFilter:"","drill-title":e.getDrilldownTitle,"drill-row-parser":e.onDrillRowParser,"custom-drill-columns":e.drillColumns,onGenerate:e.fetchData},null,8,["title","period","columns","rows","rowActionButtons","custom-filters","drill-title","drill-row-parser","custom-drill-columns","onGenerate"])}]]))}}}));
