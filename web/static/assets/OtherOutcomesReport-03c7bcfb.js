import{l as i}from"./loader-bd20757d.js";import{g as _,_ as h}from"./ReportTable.vue_vue_type_style_index_0_lang-3063f8d8.js";import{p as v,c as b,t as g}from"./toasts-a55a3f6b.js";import{t as l}from"./his_date-933250a6.js";import{P as D}from"./program_report_service-d9713f1b.js";import{t as w}from"./form-c45c3bad.js";import{d as O,r,G as m,o as R,h as y}from"./index-d405c632.js";import"./exports-e53ebfe1.js";import"./index-68b5c08e.js";import"./vue-datepicker-37b96ef6.js";import"./DrilldownTable-05f630dd.js";import"./arrays-083a09e6.js";import"./report_service-a175abc5.js";import"./url-ffe761c9.js";import"./Strs-7ee8a435.js";const U=O({__name:"OtherOutcomesReport",setup(S){const s=r("-"),o=r(""),n=r([]),p=m(()=>"".concat(o.value||"Other Outcomes"," Clinic Report")),c=[_("patient_id")],u=m(()=>{const t=[{path:"identifier",label:"ARV Number",preSort:v,initialSort:!0},{path:"given_name",label:"First Name"},{path:"family_name",label:"Last Name"},{path:"birthdate",label:"Date of Birth",formatter:l},{path:"gender",label:"Gender",formatter:b},{path:"outcome_date",label:"Outcome Date",formatter:l}];return/transfer/i.test(o.value)&&t.push({path:"transferred_out_to",label:"TO Location"}),t}),d=[{id:"outcome",label:"Select Outcome",type:"select",options:w(["Transfer Out","Died","Stopped"])}];async function f(t){var a;await i.show();try{const e=new D;o.value=t.outcome.value,e.setStartDate(t.dateRange.startDate),e.setEndDate(t.dateRange.endDate),s.value=e.getDateIntervalPeriod(),n.value=(a=await e.getReport("patient_outcome_list",{outcome:o.value}))!=null?a:[]}catch(e){g("Unable to load report data"),console.error(e)}await i.hide()}return(t,a)=>(R(),y(h,{"report-type":"Clinic",title:p.value,columns:u.value,rows:n.value,period:s.value,"row-action-buttons":c,"custom-filters":d,"use-date-range-filter":"","use-secure-export":"",onGenerate:f},null,8,["title","columns","rows","period"]))}});export{U as default};
