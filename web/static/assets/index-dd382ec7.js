import{d as b,H as _,o,c as m,h as u,u as e,v as V,y as v,a as t,w as n,b as p,t as I,J as y,K as f,G as C,L as $,s as M,M as H,f as h,N as x,O,P as F,Q as z,q as E,R as q,S as T,T as G,U as B,V as K,C as S,n as U,W as j,E as J,X as Q,Y as W,g as X,Z as A,_ as Y,$ as Z,F as ee,a0 as te,a1 as ne,D as ae}from"./index-67d679d3.js";import{r as N}from"./image-cb93bc3e.js";import{_ as oe}from"./_plugin-vue_export-helper-c27b6911.js";import{r as L}from"./url-ffe761c9.js";const le=["src"],se=b({__name:"SideMenuItemLabel",props:{item:{}},setup(c){const a=c,d=_(()=>{var l,s,g;return"".concat((g=(s=(l=a.item.meta)==null?void 0:l.title)!=null?s:a.item.name)!=null?g:a.item.path)}),r=_(()=>{var l;return(l=a.item.meta)==null?void 0:l.img}),i=_(()=>{var l;return(l=a.item.meta)==null?void 0:l.icon});return(l,s)=>(o(),m(f,null,[i.value?(o(),u(e(V),{key:0,icon:i.value,slot:"start"},null,8,["icon"])):r.value?(o(),m("img",{key:1,src:e(N)(r.value),class:"ion-margin-end icon"},null,8,le)):v("",!0),t(e(y),null,{default:n(()=>[p(I(d.value),1)]),_:1})],64))}});const P=oe(se,[["__scopeId","data-v-ccc83e32"]]),ie={key:0},re={class:"ion-padding-start",slot:"content"},ue=b({__name:"SideMenuItem",props:{item:{type:Object,required:!0},parentPath:{type:String,default:""}},setup(c){const a=c,d=_(()=>{var s;return a.item.meta&&"hidden"in a.item.meta?!((s=a.item.meta)!=null&&s.hidden):a.item.meta&&"roles"in a.item.meta?C.userHasRoles(a.item.meta.roles):!0}),r=_(()=>!!(a.item.meta&&a.item.meta.alwaysShow)),i=_(()=>{var s,g;return(g=(s=a.item.children)==null?void 0:s.filter(w=>!(w.meta&&w.meta.hidden)).length)!=null?g:0}),l=_(()=>{if(i.value>1)return null;if(a.item.children){for(const s of a.item.children)if(!s.meta||!s.meta.hidden)return s}return{...a.item,path:""}});return(s,g)=>{const w=$("router-link"),R=$("side-menu-item",!0);return d.value?(o(),m("div",ie,[!r.value&&l.value&&!l.value.children?(o(),m(f,{key:0},[l.value.meta?(o(),u(e(H),{key:0,"auto-hide":""},{default:n(()=>[t(w,{to:e(L)(l.value.path,c.parentPath)},{default:n(({isActive:k,isExactActive:D})=>[t(e(M),{button:"",color:k&&D?"primary":""},{default:n(()=>[t(P,{item:l.value},null,8,["item"])]),_:2},1032,["color"])]),_:1},8,["to"])]),_:1})):v("",!0)],64)):(o(),u(e(z),{key:1},{default:n(()=>[t(e(F),{value:c.item.path,"toggle-icon":e(O)},{default:n(()=>[t(e(M),{slot:"header"},{default:n(()=>[t(P,{item:c.item},null,8,["item"])]),_:1}),h("div",re,[(o(!0),m(f,null,x(c.item.children,k=>(o(),u(R,{item:k,key:k.path,"parent-path":e(L)(k.path,c.parentPath)},null,8,["item","parent-path"]))),128))])]),_:1},8,["value","toggle-icon"])]),_:1}))])):v("",!0)}}}),ce=["src"],de=h("b",null,"EMC Version: ",-1),me=h("br",null,null,-1),_e=h("b",null,"API Version: ",-1),pe=b({__name:"index",setup(c){const{appVersion:a,apiVersion:d}=J();return(r,i)=>(o(),u(e(j),{"menu-id":"app-menu","content-id":"main-content","auto-hide":""},{default:n(()=>[t(e(T),null,{default:n(()=>[t(e(E),null,{default:n(()=>[t(e(M),{lines:"none"},{default:n(()=>[t(e(q),{slot:"start"},{default:n(()=>[h("img",{src:e(N)("aids.png"),class:"logo",alt:"HIV Electronic Mastercard App logo"},null,8,ce)]),_:1}),t(e(y),null,{default:n(()=>[p("E-MASTERCARD")]),_:1})]),_:1}),t(e(y),{class:"ion-margin-start"},{default:n(()=>[p("HIV Electronic Mastercard App")]),_:1})]),_:1})]),_:1}),t(e(S),null,{default:n(()=>[(o(),u(G,null,[t(e(B),null,{default:n(()=>[(o(!0),m(f,null,x(e(K),(l,s)=>(o(),u(ue,{key:s,item:l,"parent-path":l.path},null,8,["item","parent-path"]))),128))]),_:1})],1024))]),_:1}),t(e(U),{class:"ion-padding-vertical ion-padding-start"},{default:n(()=>[t(e(y),{style:{color:"black"}},{default:n(()=>[de,p(I(e(a)),1)]),_:1}),me,t(e(y),{style:{color:"black"}},{default:n(()=>[_e,p(I(e(d)),1)]),_:1})]),_:1})]),_:1}))}}),fe={style:{"font-size":"14px","margin-right":"5px"}},he=b({__name:"navbarItem",props:{label:{},items:{}},setup(c){return(a,d)=>{var r;return o(),m(f,null,[t(e(M),{id:a.label,button:"",lines:"none"},{default:n(()=>{var i;return[h("span",fe,I(a.label),1),(i=a.items)!=null&&i.length?(o(),u(e(V),{key:0,icon:e(Q)},null,8,["icon"])):v("",!0)]}),_:1},8,["id"]),(r=a.items)!=null&&r.length?(o(),u(e(W),{key:0,trigger:a.label,"trigger-action":"click",dismissOnSelect:""},{default:n(()=>[t(e(S),{style:{width:"100%"}},{default:n(()=>[t(e(B),null,{default:n(()=>[(o(!0),m(f,null,x(a.items,i=>(o(),u(e(M),{key:i.label,onClick:i.action,button:""},{default:n(()=>[i.icon?(o(),u(e(V),{key:0,icon:i.icon,slot:"start",style:{"margin-right":"1rem"}},null,8,["icon"])):v("",!0),t(e(y),null,{default:n(()=>[p(I(i.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["trigger"])):v("",!0)],64)}}}),ge=b({__name:"index",setup(c){const{facility:a}=ee(),d=X(),r=[{label:"User Profile",action:()=>d.push("/users/profile"),icon:te},{label:"Logout",action:()=>{C.logout(),d.push("/login")},icon:ne}];return(i,l)=>(o(),u(e(T),{class:"toolbar-size"},{default:n(()=>[t(e(E),null,{default:n(()=>[t(e(A),{slot:"start"},{default:n(()=>[t(e(Y),{"auto-hide":""})]),_:1}),t(e(Z),null,{default:n(()=>[p(I(e(a).name),1)]),_:1}),t(e(A),{slot:"end",size:"large"},{default:n(()=>{var s;return[t(he,{label:(s=e(C).username)!=null?s:"",items:r},null,8,["label"])]}),_:1})]),_:1})]),_:1}))}}),ye={style:{"background-color":"#fafafa",height:"100%"}},Me=b({__name:"index",setup(c){return(a,d)=>{const r=$("router-view");return e(C).isLoggedIn()?(o(),m(f,{key:1},[t(pe,{type:"overlay"}),t(e(ae),{id:"main-content"},{default:n(()=>[t(ge),t(e(S),{color:"light"},{default:n(()=>[h("div",ye,[t(r,{style:{overflow:"auto","padding-left":"1rem"}})])]),_:1})]),_:1})],64)):(o(),u(r,{key:0}))}}});export{Me as default};
