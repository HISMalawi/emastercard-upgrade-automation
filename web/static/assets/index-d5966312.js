import{d as b,i as _,o,c as m,k as c,u as e,y as C,A as v,e as t,w as n,b as p,t as I,M as y,N as h,_ as O,L as w,O as V,x,P as D,a as f,Q as S,R as z,S as F,T as j,v as T,U as G,V as B,W as K,X as E,Y as U,G as $,s as q,Z as Q,K as W,$ as X,a0 as Y,g as Z,a1 as A,a2 as J,a3 as ee,l as te,a4 as ne,a5 as ae,j as le,h as oe,H as se}from"./index-6607fc60.js";import{r as N}from"./image-cb93bc3e.js";import{r as L}from"./url-ffe761c9.js";const ie=["src"],re=b({__name:"SideMenuItemLabel",props:{item:{}},setup(r){const l=r,d=_(()=>{var s,i,g;return"".concat((g=(i=(s=l.item.meta)==null?void 0:s.title)!=null?i:l.item.name)!=null?g:l.item.path)}),u=_(()=>{var s;return(s=l.item.meta)==null?void 0:s.img}),a=_(()=>{var s;return(s=l.item.meta)==null?void 0:s.icon});return(s,i)=>(o(),m(h,null,[a.value?(o(),c(e(C),{key:0,icon:a.value,slot:"start"},null,8,["icon"])):u.value?(o(),m("img",{key:1,src:e(N)(u.value),class:"ion-margin-end icon"},null,8,ie)):v("",!0),t(e(y),null,{default:n(()=>[p(I(d.value),1)]),_:1})],64))}});const P=O(re,[["__scopeId","data-v-ccc83e32"]]),ue={key:0},ce={class:"ion-padding-start",slot:"content"},de=b({__name:"SideMenuItem",props:{item:{type:Object,required:!0},parentPath:{type:String,default:""}},setup(r){const l=r,d=_(()=>{var i;return l.item.meta&&"hidden"in l.item.meta?!((i=l.item.meta)!=null&&i.hidden):l.item.meta&&"roles"in l.item.meta?w.userHasRoles(l.item.meta.roles):!0}),u=_(()=>!!(l.item.meta&&l.item.meta.alwaysShow)),a=_(()=>{var i,g;return(g=(i=l.item.children)==null?void 0:i.filter(M=>!(M.meta&&M.meta.hidden)).length)!=null?g:0}),s=_(()=>{if(a.value>1)return null;if(l.item.children){for(const i of l.item.children)if(!i.meta||!i.meta.hidden)return i}return{...l.item,path:""}});return(i,g)=>{const M=V("router-link"),R=V("side-menu-item",!0);return d.value?(o(),m("div",ue,[!u.value&&s.value&&!s.value.children?(o(),m(h,{key:0},[s.value.meta?(o(),c(e(D),{key:0,"auto-hide":""},{default:n(()=>[t(M,{to:e(L)(s.value.path,r.parentPath)},{default:n(({isActive:k,isExactActive:H})=>[t(e(x),{button:"",color:k&&H?"primary":""},{default:n(()=>[t(P,{item:s.value},null,8,["item"])]),_:1},8,["color"])]),_:1},8,["to"])]),_:1})):v("",!0)],64)):(o(),c(e(j),{key:1},{default:n(()=>[t(e(F),{value:r.item.path,"toggle-icon":e(z)},{default:n(()=>[t(e(x),{slot:"header"},{default:n(()=>[t(P,{item:r.item},null,8,["item"])]),_:1}),f("div",ce,[(o(!0),m(h,null,S(r.item.children,k=>(o(),c(R,{item:k,key:k.path,"parent-path":e(L)(k.path,r.parentPath)},null,8,["item","parent-path"]))),128))])]),_:1},8,["value","toggle-icon"])]),_:1}))])):v("",!0)}}}),me=["src"],_e=b({__name:"index",setup(r){const{appVersion:l,apiVersion:d}=W();return(u,a)=>(o(),c(e(Q),{"menu-id":"app-menu","content-id":"main-content","auto-hide":""},{default:n(()=>[t(e(B),null,{default:n(()=>[t(e(T),null,{default:n(()=>[t(e(x),{lines:"none"},{default:n(()=>[t(e(G),{slot:"start"},{default:n(()=>[f("img",{src:e(N)("aids.png"),class:"logo",alt:"HIV Electronic Mastercard App logo"},null,8,me)]),_:1}),t(e(y),null,{default:n(()=>[...a[0]||(a[0]=[p("E-MASTERCARD",-1)])]),_:1})]),_:1}),t(e(y),{class:"ion-margin-start"},{default:n(()=>[...a[1]||(a[1]=[p("HIV Electronic Mastercard App",-1)])]),_:1})]),_:1})]),_:1}),t(e($),null,{default:n(()=>[(o(),c(K,null,[t(e(E),null,{default:n(()=>[(o(!0),m(h,null,S(e(U),(s,i)=>(o(),c(de,{key:i,item:s,"parent-path":s.path},null,8,["item","parent-path"]))),128))]),_:1})],1024))]),_:1}),t(e(q),{class:"ion-padding-vertical ion-padding-start"},{default:n(()=>[t(e(y),{style:{color:"black"}},{default:n(()=>[a[2]||(a[2]=f("b",null,"EMC Version: ",-1)),p(I(e(l)),1)]),_:1}),a[4]||(a[4]=f("br",null,null,-1)),t(e(y),{style:{color:"black"}},{default:n(()=>[a[3]||(a[3]=f("b",null,"API Version: ",-1)),p(I(e(d)),1)]),_:1})]),_:1})]),_:1}))}}),pe={style:{"font-size":"14px","margin-right":"5px"}},fe=b({__name:"navbarItem",props:{label:{},items:{}},setup(r){return(l,d)=>{var u;return o(),m(h,null,[t(e(x),{id:r.label,button:"",lines:"none"},{default:n(()=>{var a;return[f("span",pe,I(r.label),1),(a=r.items)!=null&&a.length?(o(),c(e(C),{key:0,icon:e(X)},null,8,["icon"])):v("",!0)]}),_:1},8,["id"]),(u=r.items)!=null&&u.length?(o(),c(e(Y),{key:0,trigger:r.label,"trigger-action":"click",dismissOnSelect:""},{default:n(()=>[t(e($),{style:{width:"100%"}},{default:n(()=>[t(e(E),null,{default:n(()=>[(o(!0),m(h,null,S(r.items,a=>(o(),c(e(x),{key:a.label,onClick:a.action,button:""},{default:n(()=>[a.icon?(o(),c(e(C),{key:0,icon:a.icon,slot:"start",style:{"margin-right":"1rem"}},null,8,["icon"])):v("",!0),t(e(y),null,{default:n(()=>[p(I(a.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["trigger"])):v("",!0)],64)}}}),he=b({__name:"index",setup(r){const{facility:l}=te(),d=Z(),u=[{label:"User Profile",action:()=>d.push("/users/profile"),icon:ne},{label:"Logout",action:()=>{w.logout(),d.push("/login")},icon:ae}];return(a,s)=>(o(),c(e(B),{class:"toolbar-size"},{default:n(()=>[t(e(T),null,{default:n(()=>[t(e(A),{slot:"start"},{default:n(()=>[t(e(J),{"auto-hide":""})]),_:1}),t(e(ee),null,{default:n(()=>[p(I(e(l).name),1)]),_:1}),t(e(A),{slot:"end",size:"large"},{default:n(()=>{var i;return[t(fe,{label:(i=e(w).username)!=null?i:"",items:u},null,8,["label"])]}),_:1})]),_:1})]),_:1}))}}),ge={style:{"background-color":"#fafafa",height:"100%"}},be=b({__name:"index",setup(r){return le(()=>oe().resetIdleTimer()),(l,d)=>{const u=V("router-view");return e(w).isLoggedIn()?(o(),m(h,{key:1},[t(_e,{type:"overlay"}),t(e(se),{id:"main-content"},{default:n(()=>[t(he),t(e($),{color:"light"},{default:n(()=>[f("div",ge,[t(u,{style:{overflow:"auto","padding-left":"1rem",height:"100%"}})])]),_:1})]),_:1})],64)):(o(),c(u,{key:0}))}}});export{be as default};
