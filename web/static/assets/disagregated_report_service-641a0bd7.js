var o=Object.defineProperty;var u=(i,t,e)=>t in i?o(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var s=(i,t,e)=>(u(i,typeof t!="symbol"?t+"":t,e),e);import{A as n}from"./age_groups-8203d13f.js";import{P as d}from"./program_report_service-791d9c91.js";class _ extends d{constructor(){super();s(this,"gender");s(this,"ageGroup");s(this,"rebuildOutcome");s(this,"quarter");this.gender="",this.quarter="",this.ageGroup=n[0],this.rebuildOutcome=!0}setQuarter(e){this.quarter=e}setAgeGroup(e){this.ageGroup=e}setRebuildOutcome(e){this.rebuildOutcome=e}setGender(e){this.gender=e}getGender(){return this.gender}async isInitialized(){const e=await this.getCohort(!0);return(e==null?void 0:e.temp_disaggregated)==="created"}getCohort(e=!1){return this.getReport("cohort_disaggregated",{age_group:"".concat(this.ageGroup),rebuild_outcome:"".concat(this.rebuildOutcome),initialize:"".concat(e),quarter:this.quarter})}getTxIpt(){return this.getReport("clients_given_ipt",{gender:this.gender,age_group:this.ageGroup})}getTxCurrTB(){return this.getReport("screened_for_tb",{gender:this.gender,age_group:this.ageGroup})}getRegimenDistribution(){return this.getReport("disaggregated_regimen_distribution",{gender:this.gender,age_group:this.ageGroup})}async getDisaggReport(e=!1,r="moh"){const g=await this.generate("cohort_disaggregated",{rebuild:e,definition:r});return this.buildDisagRowData(g)}buildDisagRowData(e){const r=e.reduce((g,a)=>(/unknown/i.test(a.age_group)||g[a.gender].push(a),g),{M:[],F:[],FP:[],FBf:[],FNP:[]});return[...r.F,...r.M,...r.FP,...r.FNP,...r.FBf]}}export{_ as D};
